function titulo_bg_resize(){var a=$(window).width()<1024?1024:$(window).width();$(".title_bg").width(a);var b=(a-$(".title_bg").width())/2;$(".title_bg").offset({left:b})}function title_shadow_bg_resize(){var a=$(window).width()<1024?1024:$(window).width();$(".title_shadow").width(a);var b=(a-$(".title_shadow").width())/2;$(".title_shadow").offset({left:b})}function works_shadow_bg_resize(){var a=$(window).width()<1024?1024:$(window).width();$(".picture_shadow_bg").width(a);var b=(a-$(".picture_shadow_bg").width())/2;$(".picture_shadow_bg").offset({left:b})}function footer_shadow_bg_resize(){var a=$(window).width()<1024?1024:$(window).width();$(".blockRodape").width(a);var b=(a-$(".blockRodape").width())/2;$(".blockRodape").offset({left:b})}((function(){})).call(this);var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){a=String(a),b=b||2;while(a.length<b)a="0"+a;return a};return function(e,f,g){var h=dateFormat;arguments.length==1&&Object.prototype.toString.call(e)=="[object String]"&&!/\d/.test(e)&&(f=e,e=undefined),e=e?new Date(e):new Date;if(isNaN(e))throw SyntaxError("invalid date");f=String(h.masks[f]||f||h.masks["default"]),f.slice(0,4)=="UTC:"&&(f=f.slice(4),g=!0);var i=g?"getUTC":"get",j=e[i+"Date"](),k=e[i+"Day"](),l=e[i+"Month"](),m=e[i+"FullYear"](),n=e[i+"Hours"](),o=e[i+"Minutes"](),p=e[i+"Seconds"](),q=e[i+"Milliseconds"](),r=g?0:e.getTimezoneOffset(),s={d:j,dd:d(j),ddd:h.i18n.dayNames[k],dddd:h.i18n.dayNames[k+7],m:l+1,mm:d(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:n%12||12,hh:d(n%12||12),H:n,HH:d(n),M:o,MM:d(o),s:p,ss:d(p),l:d(q,3),L:d(q>99?Math.round(q/10):q),t:n<12?"a":"p",tt:n<12?"am":"pm",T:n<12?"A":"P",TT:n<12?"AM":"PM",Z:g?"UTC":(String(e).match(b)||[""]).pop().replace(c,""),o:(r>0?"-":"+")+d(Math.floor(Math.abs(r)/60)*100+Math.abs(r)%60,4),S:["th","st","nd","rd"][j%10>3?0:(j%100-j%10!=10)*j%10]};return f.replace(a,function(a){return a in s?s[a]:a.slice(1,a.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(a,b){return dateFormat(this,a,b)},function(){}.call(this),function(a,b){function c(a){return K.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function d(a){if(!cp[a]){var b=H.body,c=K("<"+a+">").appendTo(b),d=c.css("display");c.remove();if(d==="none"||d===""){cq||(cq=H.createElement("iframe"),cq.frameBorder=cq.width=cq.height=0),b.appendChild(cq);if(!cr||!cq.createElement)cr=(cq.contentWindow||cq.contentDocument).document,cr.write((H.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cr.close();c=cr.createElement(a),cr.body.appendChild(c),d=K.css(c,"display"),b.removeChild(cq)}cp[a]=d}return cp[a]}function e(a,b){var c={};return K.each(cv.concat.apply([],cv.slice(0,b)),function(){c[this]=a}),c}function f(){cw=b}function g(){return setTimeout(f,0),cw=K.now()}function h(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function i(){try{return new a.XMLHttpRequest}catch(b){}}function j(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},f,g,h=d.length,i,j=d[0],k,l,m,n,o;for(f=1;f<h;f++){if(f===1)for(g in a.converters)typeof g=="string"&&(e[g.toLowerCase()]=a.converters[g]);k=j,j=d[f];if(j==="*")j=k;else if(k!=="*"&&k!==j){l=k+" "+j,m=e[l]||e["* "+j];if(!m){o=b;for(n in e){i=n.split(" ");if(i[0]===k||i[0]==="*"){o=e[i[1]+" "+j];if(o){n=e[n],n===!0?m=o:o===!0&&(m=n);break}}}}!m&&!o&&K.error("No conversion from "+l.replace(" "," to ")),m!==!0&&(c=m?m(c):o(n(c)))}}return c}function k(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function l(a,b,c,d){if(K.isArray(b))K.each(b,function(b,e){c||bR.test(a)?d(a,e):l(a+"["+(typeof e=="object"||K.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)l(a+"["+e+"]",b[e],c,d);else d(a,b)}function m(a,c){var d,e,f=K.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&K.extend(!0,a,e)}function n(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===ce,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=n(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=n(a,c,d,e,"*",g)),l}function o(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(K.isFunction(c)){var d=b.toLowerCase().split(ca),e=0,f=d.length,g,h,i;for(;e<f;e++)g=d[e],i=/^\+/.test(g),i&&(g=g.substr(1)||"*"),h=a[g]=a[g]||[],h[i?"unshift":"push"](c)}}}function p(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bL:bM,f=0,g=e.length;if(d>0){if(c!=="border")for(;f<g;f++)c||(d-=parseFloat(K.css(a,"padding"+e[f]))||0),c==="margin"?d+=parseFloat(K.css(a,c+e[f]))||0:d-=parseFloat(K.css(a,"border"+e[f]+"Width"))||0;return d+"px"}d=bN(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;f<g;f++)d+=parseFloat(K.css(a,"padding"+e[f]))||0,c!=="padding"&&(d+=parseFloat(K.css(a,"border"+e[f]+"Width"))||0),c==="margin"&&(d+=parseFloat(K.css(a,c+e[f]))||0);return d+"px"}function q(a,b){b.src?K.ajax({url:b.src,async:!1,dataType:"script"}):K.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bB,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function r(a){var b=H.createElement("div");return bD.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function s(a){var b=(a.nodeName||"").toLowerCase();b==="input"?t(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&K.grep(a.getElementsByTagName("input"),t)}function t(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function u(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function v(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(K.expando)}}function w(a,b){if(b.nodeType===1&&!!K.hasData(a)){var c,d,e,f=K._data(a),g=K._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)K.event.add(b,c+(h[c][d].namespace?".":"")+h[c][d].namespace,h[c][d],h[c][d].data)}g.data&&(g.data=K.extend({},g.data))}}function x(a,b){return K.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function y(a){var b=bp.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function z(a,b,c){b=b||0;if(K.isFunction(b))return K.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return K.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=K.grep(a,function(a){return a.nodeType===1});if(bl.test(b))return K.filter(b,d,!c);b=K.filter(b,d)}return K.grep(a,function(a,d){return K.inArray(a,b)>=0===c})}function A(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function B(){return!0}function C(){return!1}function D(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=K._data(a,d);g&&(c==="queue"||!K._data(a,e))&&(c==="mark"||!K._data(a,f))&&setTimeout(function(){!K._data(a,e)&&!K._data(a,f)&&(K.removeData(a,d,!0),g.fire())},0)}function E(a){for(var b in a){if(b==="data"&&K.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function F(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(O,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:K.isNumeric(d)?parseFloat(d):N.test(d)?K.parseJSON(d):d}catch(f){}K.data(a,c,d)}else d=b}return d}function G(a){var b=L[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var H=a.document,I=a.navigator,J=a.location,K=function(){function c(){if(!d.isReady){try{H.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,i=/\S/,j=/^\s+/,k=/\s+$/,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p=/(?:^|:|,)(?:\s*\[)+/g,q=/(webkit)[ \/]([\w.]+)/,r=/(opera)(?:.*version)?[ \/]([\w.]+)/,s=/(msie) ([\w.]+)/,t=/(mozilla)(?:.*? rv:([\w.]+))?/,u=/-([a-z]|[0-9])/ig,v=/^-ms-/,w=function(a,b){return(b+"").toUpperCase()},x=I.userAgent,y,z,A,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,G=Array.prototype.indexOf,J={};return d.fn=d.prototype={constructor:d,init:function(a,c,e){var f,g,i,j;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!c&&H.body)return this.context=H,this[0]=H.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?f=h.exec(a):f=[null,a,null];if(f&&(f[1]||!c)){if(f[1])return c=c instanceof d?c[0]:c,j=c?c.ownerDocument||c:H,i=l.exec(a),i?d.isPlainObject(c)?(a=[H.createElement(i[1])],d.fn.attr.call(a,c,!0)):a=[j.createElement(i[1])]:(i=d.buildFragment([f[1]],[j]),a=(i.cacheable?d.clone(i.fragment):i.fragment).childNodes),d.merge(this,a);g=H.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return e.find(a);this.length=1,this[0]=g}return this.context=H,this.selector=a,this}return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a)}return d.isFunction(a)?e.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),d.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();return d.isArray(a)?D.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")"),e},each:function(a,b){return d.each(this,a,b)},ready:function(a){return d.bindReady(),z.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){return a.$===d&&(a.$=f),b&&a.jQuery===d&&(a.jQuery=e),d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(a===!0&&!--d.readyWait||a!==!0&&!d.isReady){if(!H.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;z.fireWith(H,[d]),d.fn.trigger&&d(H).trigger("ready").off("ready")}},bindReady:function(){if(!z){z=d.Callbacks("once memory");if(H.readyState==="complete")return setTimeout(d.ready,1);if(H.addEventListener)H.addEventListener("DOMContentLoaded",A,!1),a.addEventListener("load",d.ready,!1);else if(H.attachEvent){H.attachEvent("onreadystatechange",A),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}H.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):J[B.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var e;for(e in a);return e===b||C.call(a,e)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=d.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(m.test(b.replace(n,"@").replace(o,"]").replace(p,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(c){var e,f;try{a.DOMParser?(f=new DOMParser,e=f.parseFromString(c,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(c))}catch(g){e=b}return(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+c),e},noop:function(){},globalEval:function(b){b&&i.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(v,"ms-").replace(u,w)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:F?function(a){return a==null?"":F.call(a)}:function(a){return a==null?"":(a+"").replace(j,"").replace(k,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?D.call(c,a):d.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(G)return G.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,e){var f,g,h=[],i=0,j=a.length,k=a instanceof d||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||d.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,e),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,e),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var e=a[c];c=a,a=e}if(!d.isFunction(a))return b;var f=E.call(arguments,2),g=function(){return a.apply(c,f.concat(E.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||d.guid++,g},access:function(a,c,e,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)d.access(a,j,c[j],f,g,e);return a}if(e!==b){f=!h&&f&&d.isFunction(e);for(var k=0;k<i;k++)g(a[k],c,f?e.call(a[k],k,g(a[k],c)):e,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=q.exec(a)||r.exec(a)||s.exec(a)||a.indexOf("compatible")<0&&t.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,e){return e&&e instanceof d&&!(e instanceof a)&&(e=a(e)),d.fn.init.call(this,c,e,b)},a.fn.init.prototype=a.fn;var b=a(H);return a},browser:{}}),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),y=d.uaMatch(x),y.browser&&(d.browser[y.browser]=!0,d.browser.version=y.version),d.browser.webkit&&(d.browser.safari=!0),i.test(" ")&&(j=/^[\s\xA0]+/,k=/[\s\xA0]+$/),g=d(H),H.addEventListener?A=function(){H.removeEventListener("DOMContentLoaded",A,!1),d.ready()}:H.attachEvent&&(A=function(){H.readyState==="complete"&&(H.detachEvent("onreadystatechange",A),d.ready())}),d}(),L={};K.Callbacks=function(a){a=a?L[a]||G(a):{};var c=[],d=[],e,f,g,h,i,j=function(b){var d,e,f,g,h;for(d=0,e=b.length;d<e;d++)f=b[d],g=K.type(f),g==="array"?j(f):g==="function"&&(!a.unique||!l.has(f))&&c.push(f)},k=function(b,j){j=j||[],e=!a.memory||[b,j],f=!0,i=g||0,g=0,h=c.length;for(;c&&i<h;i++)if(c[i].apply(b,j)===!1&&a.stopOnFalse){e=!0;break}f=!1,c&&(a.once?e===!0?l.disable():c=[]:d&&d.length&&(e=d.shift(),l.fireWith(e[0],e[1])))},l={add:function(){if(c){var a=c.length;j(arguments),f?h=c.length:e&&e!==!0&&(g=a,k(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var g=0;g<c.length;g++)if(b[d]===c[g]){f&&g<=h&&(h--,g<=i&&i--),c.splice(g--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&l.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(f?a.once||d.push([b,c]):(!a.once||!e)&&k(b,c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l};var M=[].slice;K.extend({Deferred:function(a){var b=K.Callbacks("once memory"),c=K.Callbacks("once memory"),d=K.Callbacks("memory"),e="pending",f={resolve:b,reject:c,notify:d},g={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return h.done(a).fail(b).progress(c),this},always:function(){return h.done.apply(h,arguments).fail.apply(h,arguments),this},pipe:function(a,b,c){return K.Deferred(function(d){K.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],f;K.isFunction(c)?h[a](function(){f=c.apply(this,arguments),f&&K.isFunction(f.promise)?f.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===h?d:this,[f])}):h[a](d[e])})}).promise()},promise:function(a){if(a==null)a=g;else for(var b in g)a[b]=g[b];return a}},h=g.promise({}),i;for(i in f)h[i]=f[i].fire,h[i+"With"]=f[i].fireWith;return h.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(h,h),h},when:function(a){function b(a){return function(b){g[a]=arguments.length>1?M.call(arguments,0):b,j.notifyWith(k,g)}}function c(a){return function(b){d[a]=arguments.length>1?M.call(arguments,0):b,--h||j.resolveWith(j,d)}}var d=M.call(arguments,0),e=0,f=d.length,g=Array(f),h=f,i=f,j=f<=1&&a&&K.isFunction(a.promise)?a:K.Deferred(),k=j.promise();if(f>1){for(;e<f;e++)d[e]&&d[e].promise&&K.isFunction(d[e].promise)?d[e].promise().then(c(e),j.reject,b(e)):--h;h||j.resolveWith(j,d)}else j!==a&&j.resolveWith(j,f?[a]:[]);return k}}),K.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=H.createElement("div"),p=H.documentElement;o.setAttribute("className","t"),o.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=o.getElementsByTagName("*"),d=o.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};e=H.createElement("select"),f=e.appendChild(H.createElement("option")),g=o.getElementsByTagName("input")[0],b={leadingWhitespace:o.firstChild.nodeType===3,tbody:!o.getElementsByTagName("tbody").length,htmlSerialize:!!o.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:g.value==="on",optSelected:f.selected,getSetAttribute:o.className!=="t",enctype:!!H.createElement("form").enctype,html5Clone:H.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete o.test}catch(q){b.deleteExpando=!1}!o.addEventListener&&o.attachEvent&&o.fireEvent&&(o.attachEvent("onclick",function(){b.noCloneEvent=!1}),o.cloneNode(!0).fireEvent("onclick")),g=H.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue=g.value==="t",g.setAttribute("checked","checked"),o.appendChild(g),i=H.createDocumentFragment(),i.appendChild(o.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,i.removeChild(g),i.appendChild(o),o.innerHTML="",a.getComputedStyle&&(h=H.createElement("div"),h.style.width="0",h.style.marginRight="0",o.style.width="2px",o.appendChild(h),b.reliableMarginRight=(parseInt((a.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)===0);if(o.attachEvent)for(m in{submit:1,change:1,focusin:1})l="on"+m,n=l in o,n||(o.setAttribute(l,"return;"),n=typeof o[l]=="function"),b[m+"Bubbles"]=n;return i.removeChild(o),i=e=f=h=o=g=null,K(function(){var a,c,d,e,f,g,h,i,k,l,m,p=H.getElementsByTagName("body")[0];!p||(h=1,i="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",k="visibility:hidden;border:0;",l="style='"+i+"border:5px solid #000;padding:0;'",m="<div "+l+"><div></div></div>"+"<table "+l+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=H.createElement("div"),a.style.cssText=k+"width:0;height:0;position:static;top:0;margin-top:"+h+"px",p.insertBefore(a,p.firstChild),o=H.createElement("div"),a.appendChild(o),o.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",j=o.getElementsByTagName("td"),n=j[0].offsetHeight===0,j[0].style.display="",j[1].style.display="none",b.reliableHiddenOffsets=n&&j[0].offsetHeight===0,o.innerHTML="",o.style.width=o.style.paddingLeft="1px",K.boxModel=b.boxModel=o.offsetWidth===2,typeof o.style.zoom!="undefined"&&(o.style.display="inline",o.style.zoom=1,b.inlineBlockNeedsLayout=o.offsetWidth===2,o.style.display="",o.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=o.offsetWidth!==2),o.style.cssText=i+k,o.innerHTML=m,c=o.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,g={doesNotAddBorder:d.offsetTop!==5,doesAddBorderForTableAndCells:f.offsetTop===5},d.style.position="fixed",d.style.top="20px",g.fixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",g.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,g.doesNotIncludeMarginInBodyOffset=p.offsetTop!==h,p.removeChild(a),o=a=null,K.extend(b,g))}),b}();var N=/^(?:\{.*\}|\[.*\])$/,O=/([A-Z])/g;K.extend({cache:{},uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?K.cache[a[K.expando]]:a[K.expando],!!a&&!E(a)},data:function(a,c,d,e){if(!!K.acceptData(a)){var f,g,h,i=K.expando,j=typeof c=="string",k=a.nodeType,l=k?K.cache:a,m=k?a[i]:a[i]&&i,n=c==="events";if((!m||!l[m]||!n&&!e&&!l[m].data)&&j&&d===b)return;m||(k?a[i]=m=++K.uuid:m=i),l[m]||(l[m]={},k||(l[m].toJSON=K.noop));if(typeof c=="object"||typeof c=="function")e?l[m]=K.extend(l[m],c):l[m].data=K.extend(l[m].data,c);return f=g=l[m],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[K.camelCase(c)]=d),n&&!g[c]?f.events:(j?(h=g[c],h==null&&(h=g[K.camelCase(c)])):h=g,h)}},removeData:function(a,b,c){if(!!K.acceptData(a)){var d,e,f,g=K.expando,h=a.nodeType,i=h?K.cache:a,j=h?a[g]:g;if(!i[j])return;if(b){d=c?i[j]:i[j].data;if(d){K.isArray(b)||(b in d?b=[b]:(b=K.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?E:K.isEmptyObject)(d))return}}if(!c){delete i[j].data;if(!E(i[j]))return}K.support.deleteExpando||!i.setInterval?delete i[j]:i[j]=null,h&&(K.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}},_data:function(a,b,c){return K.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=K.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),K.fn.extend({data:function(a,c){var d,e,f,g=null;if(typeof a=="undefined"){if(this.length){g=K.data(this[0]);if(this[0].nodeType===1&&!K._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var h=0,i=e.length;h<i;h++)f=e[h].name,f.indexOf("data-")===0&&(f=K.camelCase(f.substring(5)),F(this[0],f,g[f]));K._data(this[0],"parsedAttrs",!0)}}return g}return typeof a=="object"?this.each(function(){K.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(g=this.triggerHandler("getData"+d[1]+"!",[d[0]]),g===b&&this.length&&(g=K.data(this[0],a),g=F(this[0],a,g)),g===b&&d[1]?this.data(d[0]):g):this.each(function(){var b=K(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),K.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){K.removeData(this,a)})}}),K.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",K._data(a,b,(K._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(K._data(b,d)||1)-1;e?K._data(b,d,e):(K.removeData(b,d,!0),D(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=K._data(a,b),c&&(!d||K.isArray(c)?d=K._data(a,b,K.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=K.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),K._data(a,b+".run",e),d.call(a,function(){K.dequeue(a,b)},e)),c.length||(K.removeData(a,b+"queue "+b+".run",!0),D(a,b,"queue"))}}),K.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?K.queue(this[0],a):this.each(function(){var b=K.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&K.dequeue(this,a)})},dequeue:function(a){return this.each(function(){K.dequeue(this,a)})},delay:function(a,b){return a=K.fx?K.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--h||e.resolveWith(f,[f])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var e=K.Deferred(),f=this,g=f.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=K.data(f[g],i,b,!0)||(K.data(f[g],j,b,!0)||K.data(f[g],k,b,!0))&&K.data(f[g],i,K.Callbacks("once memory"),!0))h++,l.add(d);return d(),e.promise()}});var P=/[\n\t\r]/g,Q=/\s+/,R=/\r/g,S=/^(?:button|input)$/i,T=/^(?:button|input|object|select|textarea)$/i,U=/^a(?:rea)?$/i,V=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,W=K.support.getSetAttribute,X,Y,Z;K.fn.extend({attr:function(a,b){return K.access(this,a,b,!0,K.attr)},removeAttr:function(a){return this.each(function(){K.removeAttr(this,a)})},prop:function(a,b){return K.access(this,a,b,!0,K.prop)},removeProp:function(a){return a=K.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(K.isFunction(a))return this.each(function(b){K(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(Q);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=K.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(K.isFunction(a))return this.each(function(b){K(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(Q);for(d=0,e=this.length;d<e;d++){f=this[d];if(f.nodeType===1&&f.className)if(a){g=(" "+f.className+" ").replace(P," ");for(h=0,i=c.length;h<i;h++)g=g.replace(" "+c[h]+" "," ");f.className=K.trim(g)}else f.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return K.isFunction(a)?this.each(function(c){K(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=K(this),h=b,i=a.split(Q);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&K._data(this,"__className__",this.className),this.className=this.className||a===!1?"":K._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(P," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!!arguments.length)return e=K.isFunction(a),this.each(function(d){var f=K(this),g;if(this.nodeType===1){e?g=a.call(this,d,f.val()):g=a,g==null?g="":typeof g=="number"?g+="":K.isArray(g)&&(g=K.map(g,function(a){return a==null?"":a+""})),c=K.valHooks[this.nodeName.toLowerCase()]||K.valHooks[this.type];if(!c||!("set"in c)||c.set(this,g,"value")===b)this.value=g}});if(f)return c=K.valHooks[f.nodeName.toLowerCase()]||K.valHooks[f.type],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(R,""):d==null?"":d)}}),K.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(K.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!K.nodeName(e.parentNode,"optgroup"))){b=K(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?K(h[f]).val():g},set:function(a,b){var c=K.makeArray(b);return K(a).find("option").each(function(){this.selected=K.inArray(K(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){if(e&&c in K.attrFn)return K(a)[c](d);if(typeof a.getAttribute=="undefined")return K.prop(a,c,d);h=i!==1||!K.isXMLDoc(a),h&&(c=c.toLowerCase(),g=K.attrHooks[c]||(V.test(c)?Y:X));if(d!==b){if(d===null){K.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)}},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(Q),f=d.length;for(;g<f;g++)e=d[g],e&&(c=K.propFix[e]||e,K.attr(a,e,""),a.removeAttribute(W?e:c),V.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(S.test(a.nodeName)&&a.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&b==="radio"&&K.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return X&&K.nodeName(a,"button")?X.get(a,b):b in a?a.value:null},set:function(a,b,c){if(X&&K.nodeName(a,"button"))return X.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!!a&&h!==3&&h!==8&&h!==2)return g=h!==1||!K.isXMLDoc(a),g&&(c=K.propFix[c]||c,f=K.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode
("tabindex");return c&&c.specified?parseInt(c.value,10):T.test(a.nodeName)||U.test(a.nodeName)&&a.href?0:b}}}}),K.attrHooks.tabindex=K.propHooks.tabIndex,Y={get:function(a,c){var d,e=K.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?K.removeAttr(a,c):(d=K.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},W||(Z={name:!0,id:!0},X=K.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(Z[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=H.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},K.attrHooks.tabindex.set=X.set,K.each(["width","height"],function(a,b){K.attrHooks[b]=K.extend(K.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),K.attrHooks.contenteditable={get:X.get,set:function(a,b,c){b===""&&(b="false"),X.set(a,b,c)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(a,c){K.attrHooks[c]=K.extend(K.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),K.support.style||(K.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(a,b){if(K.isArray(b))return a.checked=K.inArray(K(a).val(),b)>=0}})});var $=/^(?:textarea|input|select)$/i,_=/^([^\.]*)?(?:\.(.+))?$/,ba=/\bhover(\.\S+)?\b/,bb=/^key/,bc=/^(?:mouse|contextmenu)|click/,bd=/^(?:focusinfocus|focusoutblur)$/,be=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,bf=function(a){var b=be.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},bg=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},bh=function(a){return K.event.special.hover?a:a.replace(ba,"mouseenter$1 mouseleave$1")};K.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(g=K._data(a)))){d.handler&&(o=d,d=o.handler),d.guid||(d.guid=K.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof K=="undefined"||!!a&&K.event.triggered===a.type?b:K.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=K.trim(bh(c)).split(" ");for(j=0;j<c.length;j++){k=_.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=K.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=K.event.special[l]||{},n=K.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,quick:bf(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),K.event.global[l]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var f=K.hasData(a)&&K._data(a),g,h,i,j,k,l,m,n,o,p,q,r;if(!!f&&!!(n=f.events)){b=K.trim(bh(b||"")).split(" ");for(g=0;g<b.length;g++){h=_.exec(b[g])||[],i=j=h[1],k=h[2];if(!i){for(i in n)K.event.remove(a,i+b[g],c,d,!0);continue}o=K.event.special[i]||{},i=(d?o.delegateType:o.bindType)||i,q=n[i]||[],l=q.length,k=k?new RegExp("(^|\\.)"+k.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(m=0;m<q.length;m++)r=q[m],(e||j===r.origType)&&(!c||c.guid===r.guid)&&(!k||k.test(r.namespace))&&(!d||d===r.selector||d==="**"&&r.selector)&&(q.splice(m--,1),r.selector&&q.delegateCount--,o.remove&&o.remove.call(a,r));q.length===0&&l!==q.length&&((!o.teardown||o.teardown.call(a,k)===!1)&&K.removeEvent(a,i,f.handle),delete n[i])}K.isEmptyObject(n)&&(p=f.handle,p&&(p.elem=null),K.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||e.nodeType!==3&&e.nodeType!==8){var g=c.type||c,h=[],i,j,k,l,m,n,o,p,q,r;if(bd.test(g+K.event.triggered))return;g.indexOf("!")>=0&&(g=g.slice(0,-1),j=!0),g.indexOf(".")>=0&&(h=g.split("."),g=h.shift(),h.sort());if((!e||K.event.customEvent[g])&&!K.event.global[g])return;c=typeof c=="object"?c[K.expando]?c:new K.Event(g,c):new K.Event(g),c.type=g,c.isTrigger=!0,c.exclusive=j,c.namespace=h.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n=g.indexOf(":")<0?"on"+g:"";if(!e){i=K.cache;for(k in i)i[k].events&&i[k].events[g]&&K.event.trigger(c,d,i[k].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?K.makeArray(d):[],d.unshift(c),o=K.event.special[g]||{};if(o.trigger&&o.trigger.apply(e,d)===!1)return;q=[[e,o.bindType||g]];if(!f&&!o.noBubble&&!K.isWindow(e)){r=o.delegateType||g,l=bd.test(r+g)?e:e.parentNode,m=null;for(;l;l=l.parentNode)q.push([l,r]),m=l;m&&m===e.ownerDocument&&q.push([m.defaultView||m.parentWindow||a,r])}for(k=0;k<q.length&&!c.isPropagationStopped();k++)l=q[k][0],c.type=q[k][1],p=(K._data(l,"events")||{})[c.type]&&K._data(l,"handle"),p&&p.apply(l,d),p=n&&l[n],p&&K.acceptData(l)&&p.apply(l,d)===!1&&c.preventDefault();return c.type=g,!f&&!c.isDefaultPrevented()&&(!o._default||o._default.apply(e.ownerDocument,d)===!1)&&(g!=="click"||!K.nodeName(e,"a"))&&K.acceptData(e)&&n&&e[g]&&(g!=="focus"&&g!=="blur"||c.target.offsetWidth!==0)&&!K.isWindow(e)&&(m=e[n],m&&(e[n]=null),K.event.triggered=g,e[g](),K.event.triggered=b,m&&(e[n]=m)),c.result}},dispatch:function(c){c=K.event.fix(c||a.event);var d=(K._data(this,"events")||{})[c.type]||[],e=d.delegateCount,f=[].slice.call(arguments,0),g=!c.exclusive&&!c.namespace,h=[],i,j,k,l,m,n,o,p,q,r,s;f[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){l=K(this),l.context=this.ownerDocument||this;for(k=c.target;k!=this;k=k.parentNode||this){n={},p=[],l[0]=k;for(i=0;i<e;i++)q=d[i],r=q.selector,n[r]===b&&(n[r]=q.quick?bg(k,q.quick):l.is(r)),n[r]&&p.push(q);p.length&&h.push({elem:k,matches:p})}}d.length>e&&h.push({elem:this,matches:d.slice(e)});for(i=0;i<h.length&&!c.isPropagationStopped();i++){o=h[i],c.currentTarget=o.elem;for(j=0;j<o.matches.length&&!c.isImmediatePropagationStopped();j++){q=o.matches[j];if(g||!c.namespace&&!q.namespace||c.namespace_re&&c.namespace_re.test(q.namespace))c.data=q.data,c.handleObj=q,m=((K.event.special[q.origType]||{}).handle||q.handler).apply(o.elem,f),m!==b&&(c.result=m,m===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||H,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=g&1?1:g&2?3:g&4?2:0),a}},fix:function(a){if(a[K.expando])return a;var c,d,e=a,f=K.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=K.Event(e);for(c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||H),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:K.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){K.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=K.extend(new K.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?K.event.trigger(e,null,b):K.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=H.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},K.Event=function(a,b){if(!(this instanceof K.Event))return new K.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?B:C):this.type=a,b&&K.extend(this,b),this.timeStamp=a&&a.timeStamp||K.now(),this[K.expando]=!0},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){K.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,f=e.selector,g;if(!d||d!==c&&!K.contains(c,d))a.type=e.origType,g=e.handler.apply(this,arguments),a.type=b;return g}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){if(K.nodeName(this,"form"))return!1;K.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=K.nodeName(c,"input")||K.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(K.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&K.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(K.nodeName(this,"form"))return!1;K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")K.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,K.event.simulate("change",this,a,!0))});return!1}K.event.add(this,"beforeactivate._change",function(a){var b=a.target;$.test(b.nodeName)&&!b._change_attached&&(K.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&K.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return K.event.remove(this,"._change"),$.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){K.event.simulate(b,a.target,K.event.fix(a),!0)};K.event.special[b]={setup:function(){c++===0&&H.addEventListener(a,d,!0)},teardown:function(){--c===0&&H.removeEventListener(a,d,!0)}}}),K.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=C;else if(!e)return this;return f===1&&(g=e,e=function(a){return K().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=K.guid++)),this.each(function(){K.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return K(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=C),this.each(function(){K.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return K(this.context).on(a,this.selector,b,c),this},die:function(a,b){return K(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){K.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return K.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||K.guid++,d=0,e=function(c){var e=(K._data(this,"lastToggle"+a.guid)||0)%d;return K._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){K.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},K.attrFn&&(K.attrFn[b]=!0),bb.test(b)&&(K.event.fixHooks[b]=K.event.keyHooks),bc.test(b)&&(K.event.fixHooks[b]=K.event.mouseHooks)}),function(){function a(a,b,c,d,f,g){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){var k=!1;j=j[a];while(j){if(j[e]===c){k=d[j.sizset];break}if(j.nodeType===1){g||(j[e]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}d[h]=k}}}function c(a,b,c,d,f,g){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){var k=!1;j=j[a];while(j){if(j[e]===c){k=d[j.sizset];break}j.nodeType===1&&!g&&(j[e]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}d[h]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(a,b,c,e){c=c||[],b=b||H;var f=b;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!="string")return c;var h,i,j,k,l,n,q,r,t=!0,u=m.isXML(b),v=[],x=a;do{d.exec(""),h=d.exec(x);if(h){x=h[3],v.push(h[1]);if(h[2]){k=h[3];break}}}while(h);if(v.length>1&&p.exec(a))if(v.length===2&&o.relative[v[0]])i=w(v[0]+v[1],b,e);else{i=o.relative[v[0]]?[b]:m(v.shift(),b);while(v.length)a=v.shift(),o.relative[a]&&(a+=v.shift()),i=w(a,i,e)}else{!e&&v.length>1&&b.nodeType===9&&!u&&o.match.ID.test(v[0])&&!o.match.ID.test(v[v.length-1])&&(l=m.find(v.shift(),b,u),b=l.expr?m.filter(l.expr,l.set)[0]:l.set[0]);if(b){l=e?{expr:v.pop(),set:s(e)}:m.find(v.pop(),v.length!==1||v[0]!=="~"&&v[0]!=="+"||!b.parentNode?b:b.parentNode,u),i=l.expr?m.filter(l.expr,l.set):l.set,v.length>0?j=s(i):t=!1;while(v.length)n=v.pop(),q=n,o.relative[n]?q=v.pop():n="",q==null&&(q=b),o.relative[n](j,q,u)}else j=v=[]}j||(j=i),j||m.error(n||a);if(g.call(j)==="[object Array]")if(!t)c.push.apply(c,j);else if(b&&b.nodeType===1)for(r=0;j[r]!=null;r++)j[r]&&(j[r]===!0||j[r].nodeType===1&&m.contains(b,j[r]))&&c.push(i[r]);else for(r=0;j[r]!=null;r++)j[r]&&j[r].nodeType===1&&c.push(i[r]);else s(j,c);return k&&(m(k,f,c,e),m.uniqueSort(c)),c};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q){if(g!=null)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,d,e){var g,h=f++,i=a;typeof d=="string"&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,e)},"~":function(b,d,e){var g,h=f++,i=a;typeof d=="string"&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,e)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if(a[1]==="not"){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=m.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}a[3]=m(a[3],null,null,b)}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,d,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],d=b[3];if(c===1&&d===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[e]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[e]=f}return j=a.nodeIndex-d,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(H.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;H.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=H.createElement("div"),c="script"+(new Date).getTime(),d=H.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),H.getElementById(c)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=H.createElement("div");a.appendChild(H.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),H.querySelectorAll&&function(){var a=m,b=H.createElement("div"),c="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,d,e,f){d=d||H;if(!f&&!m.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(d.nodeType===1||d.nodeType===9)){if(g[1])return s(d.getElementsByTagName(b),e);if(g[2]&&o.find.CLASS&&d.getElementsByClassName)return s(d.getElementsByClassName(g[2]),e)}if(d.nodeType===9){if(b==="body"&&d.body)return s([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return s([],e);if(h.id===g[3])return s([h],e)}try{return s(d.querySelectorAll(b),e)}catch(i){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var j=d,k=d.getAttribute("id"),l=k||c,n=d.parentNode,p=/^\s*[+~]/.test(b);k?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l),p&&n&&(d=d.parentNode);try{if(!p||n)return s(d.querySelectorAll("[id='"+l+"'] "+b),e)}catch(q){}finally{k||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)m[d]=a[d];b=null}}(),function(){var a=H.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(H.createElement("div"),"div"),d=!1;try{b.call(H.documentElement,"[test!='']:sizzle")}catch(e){d=!0}m.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(e,null,null,[a]).length>0}}}(),function(){var a=H.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),H.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:H.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var w=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=K.attr,m.selectors.attrMap={},K.find=m,K.expr=m.selectors,K.expr[":"]=K.expr.filters,K.unique=m.uniqueSort,K.text=m.getText,K.isXMLDoc=m.isXML,K.contains=m.contains}();var bi=/Until$/,bj=/^(?:parents|prevUntil|prevAll)/,bk=/,/,bl=/^.[^:#\[\.,]*$/,bm=Array.prototype.slice,bn=K.expr.match.POS,bo={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return K(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(K.contains(b[c],this))return!0});var e=this.pushStack("","find",a),f,g,h;for(c=0,d=this.length;c<d;c++){f=e.length,K.find(a,this[c],e);if(c>0)for(g=f;g<e.length;g++)for(h=0;h<f;h++)if(e[h]===e[g]){e.splice(g--,1);break}}return e},has:function(a){var b=K(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(K.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(z(this,a,!1),"not",a)},filter:function(a){return this.pushStack(z(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bn.test(a)?K(a,this.context).index(this[0])>=0:K.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,f=this[0];if(K.isArray(a)){var g=1;while(f&&f.ownerDocument&&f!==b){for(d=0;d<a.length;d++)K(f).is(a[d])&&c.push({selector:a[d],elem:f,level:g});f=f.parentNode,g++}return c}var h=bn.test(a)||typeof a!="string"?K(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){f=this[d];while(f){if(h?h.index(f)>-1:K.find.matchesSelector(f,a)){c.push(f);break}f=f.parentNode;if(!f||!f.ownerDocument||f===b||f.nodeType===11)break}}return c=c.length>1?K.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?K.inArray(this[0],K(a)):K.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?K(a,b):K.makeArray(a&&a.nodeType?[a]:a),d=K.merge(this.get(),c);return this.pushStack(A(c[0])||A(d[0])?d:K.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),K.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return K.dir(a,"parentNode")},parentsUntil:function(a,b,c){return K.dir(a,"parentNode",c)},next:function(a){return K.nth(a,2,"nextSibling")},prev:function(a){return K.nth(a,2,"previousSibling")},nextAll:function(a){return K.dir(a,"nextSibling")},prevAll:function(a){return K.dir(a,"previousSibling")},nextUntil:function(a,b,c){return K.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return K.dir(a,"previousSibling",c)},siblings:function(a){return K.sibling(a.parentNode.firstChild,a)},children:function(a){return K.sibling(a.firstChild)},contents:function(a){return K.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:K.makeArray(a.childNodes)}},function(a,b){K.fn[a]=function(c,d){var e=K.map(this,b,c);return bi.test(a)||(d=c),d&&typeof d=="string"&&(e=K.filter(d,e)),e=this.length>1&&!bo[a]?K.unique(e):e,(this.length>1||bk.test(d))&&bj.test(a)&&(e=e.reverse()),this.pushStack(e,a,bm.call(arguments).join(","))}}),K.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?K.find.matchesSelector(b[0],a)?[b[0]]:[]:K.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!K(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bp="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bq=/ jQuery\d+="(?:\d+|null)"/g,br=/^\s+/,bs=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,bt=/<([\w:]+)/,bu=/<tbody/i,bv=/<|&#?\w+;/,bw=/<(?:script|style)/i,bx=/<(?:script|object|embed|option|style)/i,by=new RegExp("<(?:"+bp+")","i"),bz=/checked\s*(?:[^=]|=\s*.checked.)/i,bA=/\/(java|ecma)script/i,bB=/^\s*<!(?:\[CDATA\[|\-\-)/,bC={option:[1,"<select multiple='multiple'>","</select>"],legend:
[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bD=y(H);bC.optgroup=bC.option,bC.tbody=bC.tfoot=bC.colgroup=bC.caption=bC.thead,bC.th=bC.td,K.support.htmlSerialize||(bC._default=[1,"div<div>","</div>"]),K.fn.extend({text:function(a){return K.isFunction(a)?this.each(function(b){var c=K(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(a)):K.text(this)},wrapAll:function(a){if(K.isFunction(a))return this.each(function(b){K(this).wrapAll(a.call(this,b))});if(this[0]){var b=K(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return K.isFunction(a)?this.each(function(b){K(this).wrapInner(a.call(this,b))}):this.each(function(){var b=K(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=K.isFunction(a);return this.each(function(c){K(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=K.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,K.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||K.filter(a,[d]).length)!b&&d.nodeType===1&&(K.cleanData(d.getElementsByTagName("*")),K.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&K.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return K.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(bq,""):null;if(typeof a=="string"&&!bw.test(a)&&(K.support.leadingWhitespace||!br.test(a))&&!bC[(bt.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bs,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(K.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else K.isFunction(a)?this.each(function(b){var c=K(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?K.isFunction(a)?this.each(function(b){var c=K(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=K(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;K(this).remove(),b?K(b).before(a):K(c).append(a)})):this.length?this.pushStack(K(K.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!K.support.checkClone&&arguments.length===3&&typeof i=="string"&&bz.test(i))return this.each(function(){K(this).domManip(a,c,d,!0)});if(K.isFunction(i))return this.each(function(e){var f=K(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){h=i&&i.parentNode,K.support.parentNode&&h&&h.nodeType===11&&h.childNodes.length===this.length?e={fragment:h}:e=K.buildFragment(a,this,j),g=e.fragment,g.childNodes.length===1?f=g=g.firstChild:f=g.firstChild;if(f){c=c&&K.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;k<l;k++)d.call(c?x(this[k],f):this[k],e.cacheable||l>1&&k<m?K.clone(g,!0,!0):g)}j.length&&K.each(j,q)}return this}}),K.buildFragment=function(a,b,c){var d,e,f,g,h=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=H),a.length===1&&typeof h=="string"&&h.length<512&&g===H&&h.charAt(0)==="<"&&!bx.test(h)&&(K.support.checkClone||!bz.test(h))&&(K.support.html5Clone||!by.test(h))&&(e=!0,f=K.fragments[h],f&&f!==1&&(d=f)),d||(d=g.createDocumentFragment(),K.clean(a,g,d,c)),e&&(K.fragments[h]=f?d:1),{fragment:d,cacheable:e}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){K.fn[a]=function(c){var d=[],e=K(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var g=0,h=e.length;g<h;g++){var i=(g>0?this.clone(!0):this).get();K(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),K.extend({clone:function(a,b,c){var d,e,f,g=K.support.html5Clone||!by.test("<"+a.nodeName)?a.cloneNode(!0):r(a);if((!K.support.noCloneEvent||!K.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!K.isXMLDoc(a)){v(a,g),d=u(a),e=u(g);for(f=0;d[f];++f)e[f]&&v(d[f],e[f])}if(b){w(a,g);if(c){d=u(a),e=u(g);for(f=0;d[f];++f)w(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var e;b=b||H,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||H);var f=[],g;for(var h=0,i;(i=a[h])!=null;h++){typeof i=="number"&&(i+="");if(!i)continue;if(typeof i=="string")if(!bv.test(i))i=b.createTextNode(i);else{i=i.replace(bs,"<$1></$2>");var j=(bt.exec(i)||["",""])[1].toLowerCase(),k=bC[j]||bC._default,l=k[0],m=b.createElement("div");b===H?bD.appendChild(m):y(b).appendChild(m),m.innerHTML=k[1]+i+k[2];while(l--)m=m.lastChild;if(!K.support.tbody){var n=bu.test(i),o=j==="table"&&!n?m.firstChild&&m.firstChild.childNodes:k[1]==="<table>"&&!n?m.childNodes:[];for(g=o.length-1;g>=0;--g)K.nodeName(o[g],"tbody")&&!o[g].childNodes.length&&o[g].parentNode.removeChild(o[g])}!K.support.leadingWhitespace&&br.test(i)&&m.insertBefore(b.createTextNode(br.exec(i)[0]),m.firstChild),i=m.childNodes}var p;if(!K.support.appendChecked)if(i[0]&&typeof (p=i.length)=="number")for(g=0;g<p;g++)s(i[g]);else s(i);i.nodeType?f.push(i):f=K.merge(f,i)}if(c){e=function(a){return!a.type||bA.test(a.type)};for(h=0;f[h];h++)if(d&&K.nodeName(f[h],"script")&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))d.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{if(f[h].nodeType===1){var q=K.grep(f[h].getElementsByTagName("script"),e);f.splice.apply(f,[h+1,0].concat(q))}c.appendChild(f[h])}}return f},cleanData:function(a){var b,c,d=K.cache,e=K.event.special,f=K.support.deleteExpando;for(var g=0,h;(h=a[g])!=null;g++){if(h.nodeName&&K.noData[h.nodeName.toLowerCase()])continue;c=h[K.expando];if(c){b=d[c];if(b&&b.events){for(var i in b.events)e[i]?K.event.remove(h,i):K.removeEvent(h,i,b.handle);b.handle&&(b.handle.elem=null)}f?delete h[K.expando]:h.removeAttribute&&h.removeAttribute(K.expando),delete d[c]}}}});var bE=/alpha\([^)]*\)/i,bF=/opacity=([^)]*)/,bG=/([A-Z]|^ms)/g,bH=/^-?\d+(?:px)?$/i,bI=/^-?\d/,bJ=/^([\-+])=([\-+.\de]+)/,bK={position:"absolute",visibility:"hidden",display:"block"},bL=["Left","Right"],bM=["Top","Bottom"],bN,bO,bP;K.fn.css=function(a,c){return arguments.length===2&&c===b?this:K.access(this,a,c,!0,function(a,c,d){return d!==b?K.style(a,c,d):K.css(a,c)})},K.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bN(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var f,g,h=K.camelCase(c),i=a.style,j=K.cssHooks[h];c=K.cssProps[h]||h;if(d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];g=typeof d,g==="string"&&(f=bJ.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(K.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!K.cssNumber[h]&&(d+="px");if(!j||!("set"in j)||(d=j.set(a,d))!==b)try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;c=K.camelCase(c),f=K.cssHooks[c],c=K.cssProps[c]||c,c==="cssFloat"&&(c="float");if(f&&"get"in f&&(e=f.get(a,!0,d))!==b)return e;if(bN)return bN(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),K.curCSS=K.css,K.each(["height","width"],function(a,b){K.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?p(a,b,d):(K.swap(a,bK,function(){e=p(a,b,d)}),e)},set:function(a,b){if(!bH.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),K.support.opacity||(K.cssHooks.opacity={get:function(a,b){return bF.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=K.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&K.trim(f.replace(bE,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bE.test(f)?f.replace(bE,e):f+" "+e}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(a,b){var c;return K.swap(a,{display:"inline-block"},function(){b?c=bN(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),H.defaultView&&H.defaultView.getComputedStyle&&(bO=function(a,b){var c,d,e;return b=b.replace(bG,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!K.contains(a.ownerDocument.documentElement,a)&&(c=K.style(a,b))),c}),H.documentElement.currentStyle&&(bP=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!bH.test(f)&&bI.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),bN=bO||bP,K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!K.support.reliableHiddenOffsets&&(a.style&&a.style.display||K.css(a,"display"))==="none"},K.expr.filters.visible=function(a){return!K.expr.filters.hidden(a)});var bQ=/%20/g,bR=/\[\]$/,bS=/\r?\n/g,bT=/#.*$/,bU=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bV=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bW=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bX=/^(?:GET|HEAD)$/,bY=/^\/\//,bZ=/\?/,b$=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b_=/^(?:select|textarea)/i,ca=/\s+/,cb=/([?&])_=[^&]*/,cc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,cd=K.fn.load,ce={},cf={},cg,ch,ci=["*/"]+["*"];try{cg=J.href}catch(cj){cg=H.createElement("a"),cg.href="",cg=cg.href}ch=cc.exec(cg.toLowerCase())||[],K.fn.extend({load:function(a,c,d){if(typeof a!="string"&&cd)return cd.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(K.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=K.param(c,K.ajaxSettings.traditional),g="POST"));var h=this;return K.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?K("<div>").append(c.replace(b$,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||b_.test(this.nodeName)||bV.test(this.type))}).map(function(a,b){var c=K(this).val();return c==null?null:K.isArray(c)?K.map(c,function(a,c){return{name:b.name,value:a.replace(bS,"\r\n")}}):{name:b.name,value:c.replace(bS,"\r\n")}}).get()}}),K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){K.fn[b]=function(a){return this.on(b,a)}}),K.each(["get","post"],function(a,c){K[c]=function(a,d,e,f){return K.isFunction(d)&&(f=f||e,e=d,d=b),K.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),K.extend({getScript:function(a,c){return K.get(a,b,c,"script")},getJSON:function(a,b,c){return K.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?m(a,K.ajaxSettings):(b=a,a=K.ajaxSettings),m(a,b),a},ajaxSettings:{url:cg,isLocal:bW.test(ch[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ci},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:o(ce),ajaxTransport:o(cf),ajax:function(a,c){function d(a,c,d,n){if(v!==2){v=2,t&&clearTimeout(t),s=b,q=n||"",y.readyState=a>0?4:0;var o,p,r,u=c,x=d?k(e,y,d):b,z,A;if(a>=200&&a<300||a===304){if(e.ifModified){if(z=y.getResponseHeader("Last-Modified"))K.lastModified[m]=z;if(A=y.getResponseHeader("Etag"))K.etag[m]=A}if(a===304)u="notmodified",o=!0;else try{p=j(e,x),u="success",o=!0}catch(B){u="parsererror",r=B}}else{r=u;if(!u||a)u="error",a<0&&(a=0)}y.status=a,y.statusText=""+(c||u),o?h.resolveWith(f,[p,u,y]):h.rejectWith(f,[y,u,r]),y.statusCode(l),l=b,w&&g.trigger("ajax"+(o?"Success":"Error"),[y,e,o?p:r]),i.fireWith(f,[y,u]),w&&(g.trigger("ajaxComplete",[y,e]),--K.active||K.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var e=K.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof K)?K(f):K.event,h=K.Deferred(),i=K.Callbacks("once memory"),l=e.statusCode||{},m,o={},p={},q,r,s,t,u,v=0,w,x,y={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=p[c]=p[c]||a,o[a]=b}return this},getAllResponseHeaders:function(){return v===2?q:null},getResponseHeader:function(a){var c;if(v===2){if(!r){r={};while(c=bU.exec(q))r[c[1].toLowerCase()]=c[2]}c=r[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(e.mimeType=a),this},abort:function(a){return a=a||"abort",s&&s.abort(a),d(0,a),this}};h.promise(y),y.success=y.done,y.error=y.fail,y.complete=i.add,y.statusCode=function(a){if(a){var b;if(v<2)for(b in a)l[b]=[l[b],a[b]];else b=a[y.status],y.then(b,b)}return this},e.url=((a||e.url)+"").replace(bT,"").replace(bY,ch[1]+"//"),e.dataTypes=K.trim(e.dataType||"*").toLowerCase().split(ca),e.crossDomain==null&&(u=cc.exec(e.url.toLowerCase()),e.crossDomain=!(!u||u[1]==ch[1]&&u[2]==ch[2]&&(u[3]||(u[1]==="http:"?80:443))==(ch[3]||(ch[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!="string"&&(e.data=K.param(e.data,e.traditional)),n(ce,e,c,y);if(v===2)return!1;w=e.global,e.type=e.type.toUpperCase(),e.hasContent=!bX.test(e.type),w&&K.active++===0&&K.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(bZ.test(e.url)?"&":"?")+e.data,delete e.data),m=e.url;if(e.cache===!1){var z=K.now(),A=e.url.replace(cb,"$1_="+z);e.url=A+(A===e.url?(bZ.test(e.url)?"&":"?")+"_="+z:"")}}(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",e.contentType),e.ifModified&&(m=m||e.url,K.lastModified[m]&&y.setRequestHeader("If-Modified-Since",K.lastModified[m]),K.etag[m]&&y.setRequestHeader("If-None-Match",K.etag[m])),y.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+ci+"; q=0.01":""):e.accepts["*"]);for(x in e.headers)y.setRequestHeader(x,e.headers[x]);if(!e.beforeSend||e.beforeSend.call(f,y,e)!==!1&&v!==2){for(x in{success:1,error:1,complete:1})y[x](e[x]);s=n(cf,e,c,y);if(!s)d(-1,"No Transport");else{y.readyState=1,w&&g.trigger("ajaxSend",[y,e]),e.async&&e.timeout>0&&(t=setTimeout(function(){y.abort("timeout")},e.timeout));try{v=1,s.send(o,d)}catch(B){if(!(v<2))throw B;d(-1,B)}}return y}return y.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=K.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=K.ajaxSettings.traditional);if(K.isArray(a)||a.jquery&&!K.isPlainObject(a))K.each(a,function(){e(this.name,this.value)});else for(var f in a)l(f,a[f],c,e);return d.join("&").replace(bQ,"+")}}),K.extend({active:0,lastModified:{},etag:{}});var ck=K.now(),cl=/(\=)\?(&|$)|\?\?/i;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return K.expando+"_"+ck++}}),K.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cl.test(b.url)||e&&cl.test(b.data))){var f,g=b.jsonpCallback=K.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(cl,k),b.url===i&&(e&&(j=j.replace(cl,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&K.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||K.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return K.globalEval(a),a}}}),K.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),K.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(e,f){c=H.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cm=a.ActiveXObject?function(){for(var a in co)co[a](0,1)}:!1,cn=0,co;K.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&i()||h()}:i,function(a){K.extend(K.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(c){if(!c.crossDomain||K.support.cors){var d;return{send:function(e,f){var g=c.xhr(),h,i;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(i in c.xhrFields)g[i]=c.xhrFields[i];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(i in e)g.setRequestHeader(i,e[i])}catch(j){}g.send(c.hasContent&&c.data||null),d=function(a,e){var i,j,k,l,m;try{if(d&&(e||g.readyState===4)){d=b,h&&(g.onreadystatechange=K.noop,cm&&delete co[h]);if(e)g.readyState!==4&&g.abort();else{i=g.status,k=g.getAllResponseHeaders(),l={},m=g.responseXML,m&&m.documentElement&&(l.xml=m),l.text=g.responseText;try{j=g.statusText}catch(n){j=""}!i&&c.isLocal&&!c.crossDomain?i=l.text?200:404:i===1223&&(i=204)}}}catch(o){e||f(-1,o)}l&&f(i,j,l,k)},!c.async||g.readyState===4?d():(h=++cn,cm&&(co||(co={},K(a).unload(cm)),co[h]=d),g.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cp={},cq,cr,cs=/^(?:toggle|show|hide)$/,ct=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cu,cv=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cw;K.fn.extend({show:function(a,b,c){var f,g;if(a||a===0)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;h<i;h++)f=this[h],f.style&&(g=f.style.display,!K._data(f,"olddisplay")&&g==="none"&&(g=f.style.display=""),g===""&&K.css(f,"display")==="none"&&K._data(f,"olddisplay",d(f.nodeName)));for(h=0;h<i;h++){f=this[h];if(f.style){g=f.style.display;if(g===""||g==="none")f.style.display=K._data(f,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(e("hide",3),a,b,c);var d,f,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(f=K.css(d,"display"),f!=="none"&&!K._data(d,"olddisplay")&&K._data(d,"olddisplay",f));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:K.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return K.isFunction(a)&&K.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:K(this).is(":hidden");K(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){function f(){g.queue===!1&&K._mark(this);var b=K.extend({},g),c=this.nodeType===1,e=c&&K(this).is(":hidden"),f,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){f=K.camelCase(i),i!==f&&(a[f]=a[i],delete a[i]),h=a[f],K.isArray(h)?(b.animatedProperties[f]=h[1],h=a[f]=h[0]):b.animatedProperties[f]=b.specialEasing&&b.specialEasing[f]||b.easing||"swing";if(h==="hide"&&e||h==="show"&&!e)return b.complete.call(this);c&&(f==="height"||f==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],K.css(this,"display")==="inline"&&K.css(this,"float")==="none"&&(!K.support.inlineBlockNeedsLayout||d(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new K.fx(this,b,i),h=a[i],cs.test(h)?(o=K._data(this,"toggle"+i)||(h==="toggle"?e?"show":"hide":0),o?(K._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=ct.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(K.cssNumber[i]?"":"px"),n!=="px"&&(K.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,K.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var g=K.speed(b,c,e);return K.isEmptyObject(a)?this.each(g.complete,[!1]):(a=K.extend({},a),g.queue===!1?this.each(f):this.queue(g.queue,f))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){var e=b[c];K.removeData(a,c,!0),e.stop(d)}var c,e=!1,f=K.timers,g=K._data(this);d||K._unmark(!0,this);if(a==null)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));(!d||!e)&&K.dequeue(this,a)})}}),K.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){K.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),K.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?K.extend({},a):{complete:c||!c&&b||K.isFunction(a)&&a,duration:a,easing:c&&b||b&&!K.isFunction(b)&&b};d.duration=K.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in K.fx.speeds?K.fx.speeds[d.duration]:K.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){K.isFunction(d.old)&&d.old.call(this),d.queue?K.dequeue(this,d.queue):a!==!1&&K._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),K.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(K.fx.step[this.prop]||K.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=K.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,h=K.fx;this.startTime=cw||g(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(K.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){f.options.hide&&K._data(f.elem,"fxshow"+f.prop)===b&&K._data(f.elem,"fxshow"+f.prop,f.start)},e()&&K.timers.push(e)&&!cu&&(cu=setInterval(h.tick,h.interval))},show:function(){var a=K._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||K.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),K(this.elem).show()},hide:function(){this.options.orig[this.prop]=K._data(this.elem,"fxshow"+this.prop)||K.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cw||g(),f=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(f=!1);if(f){i.overflow!=null&&!K.support.shrinkWrapBlocks&&K.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&K(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)K.style(h,b,i.orig[b]),K.removeData(h,"fxshow"+b,!0),K.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=K.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},K.extend(K.fx,{tick:function(){var a,b=K.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||K.fx.stop()},interval:13,stop:function(){clearInterval(cu),cu=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){K.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),K.each(["width","height"],function(a,b){K.fx.step[b]=function(a){K.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),K.expr&&K.expr.filters&&(K.expr.filters.animated=function(a){return K.grep(K.timers,function(b){return a===b.elem}).length});var cx=/^t(?:able|d|h)$/i,cy=/^(?:body|html)$/i;"getBoundingClientRect"in H.documentElement?K.fn.offset=function(a){var b=this[0],d;if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!d||!K.contains(g,b))return d?{top:d.top,left:d.left}:{top:0,left:0};var h=f.body,i=c(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||K.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||K.support.boxModel&&g.scrollLeft||h.scrollLeft,n=d.top+l-j,o=d.left+m-k;return{top:n,left:o}}:K.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body,i=f.defaultView,j=i?i.getComputedStyle(b,null):b.currentStyle,k=b.offsetTop,l=b.offsetLeft;while((b=b.parentNode)&&b!==h&&b!==g){if(K.support.fixedPosition&&j.position==="fixed")break;c=i?i.getComputedStyle(b,null):b.currentStyle,k-=b.scrollTop,l-=b.scrollLeft,b===d&&(k+=b.offsetTop,l+=b.offsetLeft,K.support.doesNotAddBorder&&(!K.support.doesAddBorderForTableAndCells||!cx.test(b.nodeName))&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),K.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),j=c}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;return K.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(g.scrollTop,h.scrollTop),l+=Math.max(g.scrollLeft,h.scrollLeft)),{top:k,left:l}},K.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(K.css(a,"marginTop"))||0,c+=parseFloat(K.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=K.css(a,"position");d==="static"&&(a.style.position="relative");var e=K(a),f=e.offset(),g=K.css(a,"top"),h=K.css(a,"left"),i=(d==="absolute"||d==="fixed")&&K.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),K.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},K.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cy.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(K.css(a,"marginTop"))||0,c.left-=parseFloat(K.css(a,"marginLeft"))||0,d.top+=parseFloat(K.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(K.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||H.body;while(a&&!cy.test(a.nodeName)&&K.css(a,"position")==="static")a=a.offsetParent;return a})}}),K.each(["Left","Top"],function(a,d){var e="scroll"+d;K.fn[e]=function(d){var f,g;return d===b?(f=this[0],f?(g=c(f),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:K.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]):null):this.each(function(){g=c(this),g?g.scrollTo(a?K(g).scrollLeft():d,a?d:K(g).scrollTop()):this[e]=d})}}),K.each(["Height","Width"],function(a,c){var d=c.toLowerCase();K.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(K.css(a,d,"padding")):this[d]():null},K.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(K.css(b,d,a?"margin":"border")):this[d]():null},K.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(K.isFunction(a))return this.each(function(b){var c=K(this);c[d](a.call(this,b,c[d]()))});if(K.isWindow(e)){var f=e.document.documentElement["client"+c],g=e.document.body;return e.document.compatMode==="CSS1Compat"&&f||g&&g["client"+c]||f}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var h=K.css(e,d),i=parseFloat(h);return K.isNumeric(i)?i:h}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=K,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K})}(window),$(document).ready(function(){$("a.anchorLink").anchorAnimate()}),jQuery.fn.anchorAnimate=function(a){return a=jQuery.extend({speed:1100},a),this.each(function(){var b=this;$(b).click(function(c){c.preventDefault();var d=window.location.href,e=$(b).attr("href"),f=$(e).offset().top;return $("html:not(:animated),body:not(:animated)").animate({scrollTop:f},a.speed,function(){window.location.hash=e}),!1})})},eval(function(a,b,c,d,e,f){e=function(a){return(a<b?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(c--)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}while(c--)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});"
,62,74,"||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"),0,{})),function(a){var b,c,d,e,f,g,h,i,j,k,l=0,m={},n=[],o=0,p={},q=[],r=null,s=new Image,t=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,u=/[^\.]\.(swf)\s*$/i,v,w=1,x=0,y="",z,A,B=!1,C=a.extend(a("<div/>")[0],{prop:0}),D=a.browser.msie&&a.browser.version<7&&!window.XMLHttpRequest,E=function(){c.hide(),s.onerror=s.onload=null,r&&r.abort(),b.empty()},F=function(){if(!1===m.onError(n,l,m)){c.hide(),B=!1;return}m.titleShow=!1,m.width="auto",m.height="auto",b.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),H()},G=function(){var d=n[l],e,f,h,i,j,k;E(),m=a.extend({},a.fn.fancybox.defaults,typeof a(d).data("fancybox")=="undefined"?m:a(d).data("fancybox")),k=m.onStart(n,l,m);if(k===!1){B=!1;return}typeof k=="object"&&(m=a.extend(m,k)),h=m.title||(d.nodeName?a(d).attr("title"):d.title)||"",d.nodeName&&!m.orig&&(m.orig=a(d).children("img:first").length?a(d).children("img:first"):a(d)),h===""&&m.orig&&m.titleFromAlt&&(h=m.orig.attr("alt")),e=m.href||(d.nodeName?a(d).attr("href"):d.href)||null;if(/^(?:javascript)/i.test(e)||e=="#")e=null;m.type?(f=m.type,e||(e=m.content)):m.content?f="html":e&&(e.match(t)?f="image":e.match(u)?f="swf":a(d).hasClass("iframe")?f="iframe":e.indexOf("#")===0?f="inline":f="ajax");if(!f){F();return}f=="inline"&&(d=e.substr(e.indexOf("#")),f=a(d).length>0?"inline":"ajax"),m.type=f,m.href=e,m.title=h,m.autoDimensions&&(m.type=="html"||m.type=="inline"||m.type=="ajax"?(m.width="auto",m.height="auto"):m.autoDimensions=!1),m.modal&&(m.overlayShow=!0,m.hideOnOverlayClick=!1,m.hideOnContentClick=!1,m.enableEscapeButton=!1,m.showCloseButton=!1),m.padding=parseInt(m.padding,10),m.margin=parseInt(m.margin,10),b.css("padding",m.padding+m.margin),a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(g.children())});switch(f){case"html":b.html(m.content),H();break;case"inline":if(a(d).parent().is("#fancybox-content")===!0){B=!1;return}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(d)).bind("fancybox-cleanup",function(){a(this).replaceWith(g.children())}).bind("fancybox-cancel",function(){a(this).replaceWith(b.children())}),a(d).appendTo(b),H();break;case"image":B=!1,a.fancybox.showActivity(),s=new Image,s.onerror=function(){F()},s.onload=function(){B=!0,s.onerror=s.onload=null,I()},s.src=e;break;case"swf":m.scrolling="no",i='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+m.width+'" height="'+m.height+'"><param name="movie" value="'+e+'"></param>',j="",a.each(m.swf,function(a,b){i+='<param name="'+a+'" value="'+b+'"></param>',j+=" "+a+'="'+b+'"'}),i+='<embed src="'+e+'" type="application/x-shockwave-flash" width="'+m.width+'" height="'+m.height+'"'+j+"></embed></object>",b.html(i),H();break;case"ajax":B=!1,a.fancybox.showActivity(),m.ajax.win=m.ajax.success,r=a.ajax(a.extend({},m.ajax,{url:e,data:m.ajax.data||{},error:function(a,b,c){a.status>0&&F()},success:function(a,d,f){var g=typeof f=="object"?f:r;if(g.status==200){if(typeof m.ajax.win=="function"){k=m.ajax.win(e,a,d,f);if(k===!1){c.hide();return}if(typeof k=="string"||typeof k=="object")a=k}b.html(a),H()}}}));break;case"iframe":J()}},H=function(){var c=m.width,d=m.height;c.toString().indexOf("%")>-1?c=parseInt((a(window).width()-m.margin*2)*parseFloat(c)/100,10)+"px":c=c=="auto"?"auto":c+"px",d.toString().indexOf("%")>-1?d=parseInt((a(window).height()-m.margin*2)*parseFloat(d)/100,10)+"px":d=d=="auto"?"auto":d+"px",b.wrapInner('<div style="width:'+c+";height:"+d+";overflow: "+(m.scrolling=="auto"?"auto":m.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>'),m.width=b.width(),m.height=b.height(),J()},I=function(){m.width=s.width,m.height=s.height,a("<img />").attr({id:"fancybox-img",src:s.src,alt:m.title}).appendTo(b),J()},J=function(){var f,r;c.hide();if(e.is(":visible")&&!1===p.onCleanup(q,o,p)){a.event.trigger("fancybox-cancel"),B=!1;return}B=!0,a(g.add(d)).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),e.is(":visible")&&p.titlePosition!=="outside"&&e.css("height",e.height()),q=n,o=l,p=m,p.overlayShow?(d.css({"background-color":p.overlayColor,opacity:p.overlayOpacity,cursor:p.hideOnOverlayClick?"pointer":"auto",height:a(document).height()}),d.is(":visible")||(D&&a("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),d.show())):d.hide(),A=R(),L();if(e.is(":visible")){a(h.add(j).add(k)).hide(),f=e.position(),z={top:f.top,left:f.left,width:e.width(),height:e.height()},r=z.width==A.width&&z.height==A.height,g.fadeTo(p.changeFade,.3,function(){var c=function(){g.html(b.contents()).fadeTo(p.changeFade,1,N)};a.event.trigger("fancybox-change"),g.empty().removeAttr("filter").css({"border-width":p.padding,width:A.width-p.padding*2,height:m.autoDimensions?"auto":A.height-x-p.padding*2}),r?c():(C.prop=0,a(C).animate({prop:1},{duration:p.changeSpeed,easing:p.easingChange,step:P,complete:c}))});return}e.removeAttr("style"),g.css("border-width",p.padding);if(p.transitionIn=="elastic"){z=T(),g.html(b.contents()),e.show(),p.opacity&&(A.opacity=0),C.prop=0,a(C).animate({prop:1},{duration:p.speedIn,easing:p.easingIn,step:P,complete:N});return}p.titlePosition=="inside"&&x>0&&i.show(),g.css({width:A.width-p.padding*2,height:m.autoDimensions?"auto":A.height-x-p.padding*2}).html(b.contents()),e.css(A).fadeIn(p.transitionIn=="none"?0:p.speedIn,N)},K=function(a){return a&&a.length?p.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+a+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+p.titlePosition+'">'+a+"</div>":!1},L=function(){y=p.title||"",x=0,i.empty().removeAttr("style").removeClass();if(p.titleShow===!1){i.hide();return}y=a.isFunction(p.titleFormat)?p.titleFormat(y,q,o,p):K(y);if(!y||y===""){i.hide();return}i.addClass("fancybox-title-"+p.titlePosition).html(y).appendTo("body").show();switch(p.titlePosition){case"inside":i.css({width:A.width-p.padding*2,marginLeft:p.padding,marginRight:p.padding}),x=i.outerHeight(!0),i.appendTo(f),A.height+=x;break;case"over":i.css({marginLeft:p.padding,width:A.width-p.padding*2,bottom:p.padding}).appendTo(f);break;case"float":i.css("left",parseInt((i.width()-A.width-40)/2,10)*-1).appendTo(e);break;default:i.css({width:A.width-p.padding*2,paddingLeft:p.padding,paddingRight:p.padding}).appendTo(e)}i.hide()},M=function(){(p.enableEscapeButton||p.enableKeyboardNav)&&a(document).bind("keydown.fb",function(b){b.keyCode==27&&p.enableEscapeButton?(b.preventDefault(),a.fancybox.close()):(b.keyCode==37||b.keyCode==39)&&p.enableKeyboardNav&&b.target.tagName!=="INPUT"&&b.target.tagName!=="TEXTAREA"&&b.target.tagName!=="SELECT"&&(b.preventDefault(),a.fancybox[b.keyCode==37?"prev":"next"]())});if(!p.showNavArrows){j.hide(),k.hide();return}(p.cyclic&&q.length>1||o!==0)&&j.show(),(p.cyclic&&q.length>1||o!=q.length-1)&&k.show()},N=function(){a.support.opacity||(g.get(0).style.removeAttribute("filter"),e.get(0).style.removeAttribute("filter")),m.autoDimensions&&g.css("height","auto"),e.css("height","auto"),y&&y.length&&i.show(),p.showCloseButton&&h.show(),M(),p.hideOnContentClick&&g.bind("click",a.fancybox.close),p.hideOnOverlayClick&&d.bind("click",a.fancybox.close),a(window).bind("resize.fb",a.fancybox.resize),p.centerOnScroll&&a(window).bind("scroll.fb",a.fancybox.center),p.type=="iframe"&&a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':"")+' scrolling="'+m.scrolling+'" src="'+p.href+'"></iframe>').appendTo(g),e.show(),B=!1,a.fancybox.center(),p.onComplete(q,o,p),O()},O=function(){var a,b;q.length-1>o&&(a=q[o+1].href,typeof a!="undefined"&&a.match(t)&&(b=new Image,b.src=a)),o>0&&(a=q[o-1].href,typeof a!="undefined"&&a.match(t)&&(b=new Image,b.src=a))},P=function(a){var b={width:parseInt(z.width+(A.width-z.width)*a,10),height:parseInt(z.height+(A.height-z.height)*a,10),top:parseInt(z.top+(A.top-z.top)*a,10),left:parseInt(z.left+(A.left-z.left)*a,10)};typeof A.opacity!="undefined"&&(b.opacity=a<.5?.5:a),e.css(b),g.css({width:b.width-p.padding*2,height:b.height-x*a-p.padding*2})},Q=function(){return[a(window).width()-p.margin*2,a(window).height()-p.margin*2,a(document).scrollLeft()+p.margin,a(document).scrollTop()+p.margin]},R=function(){var a=Q(),b={},c=p.autoScale,d=p.padding*2,e;return p.width.toString().indexOf("%")>-1?b.width=parseInt(a[0]*parseFloat(p.width)/100,10):b.width=p.width+d,p.height.toString().indexOf("%")>-1?b.height=parseInt(a[1]*parseFloat(p.height)/100,10):b.height=p.height+d,c&&(b.width>a[0]||b.height>a[1])&&(m.type=="image"||m.type=="swf"?(e=p.width/p.height,b.width>a[0]&&(b.width=a[0],b.height=parseInt((b.width-d)/e+d,10)),b.height>a[1]&&(b.height=a[1],b.width=parseInt((b.height-d)*e+d,10))):(b.width=Math.min(b.width,a[0]),b.height=Math.min(b.height,a[1]))),b.top=parseInt(Math.max(a[3]-20,a[3]+(a[1]-b.height-40)*.5),10),b.left=parseInt(Math.max(a[2]-20,a[2]+(a[0]-b.width-40)*.5),10),b},S=function(a){var b=a.offset();return b.top+=parseInt(a.css("paddingTop"),10)||0,b.left+=parseInt(a.css("paddingLeft"),10)||0,b.top+=parseInt(a.css("border-top-width"),10)||0,b.left+=parseInt(a.css("border-left-width"),10)||0,b.width=a.width(),b.height=a.height(),b},T=function(){var b=m.orig?a(m.orig):!1,c={},d,e;return b&&b.length?(d=S(b),c={width:d.width+p.padding*2,height:d.height+p.padding*2,top:d.top-p.padding-20,left:d.left-p.padding-20}):(e=Q(),c={width:p.padding*2,height:p.padding*2,top:parseInt(e[3]+e[1]*.5,10),left:parseInt(e[2]+e[0]*.5,10)}),c},U=function(){if(!c.is(":visible")){clearInterval(v);return}a("div",c).css("top",w*-40+"px"),w=(w+1)%12};a.fn.fancybox=function(b){return a(this).length?(a(this).data("fancybox",a.extend({},b,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(b){b.preventDefault();if(B)return;B=!0,a(this).blur(),n=[],l=0;var c=a(this).attr("rel")||"";!c||c==""||c==="nofollow"?n.push(this):(n=a("a[rel="+c+"], area[rel="+c+"]"),l=n.index(this)),G();return}),this):this},a.fancybox=function(b){var c;if(B)return;B=!0,c=typeof arguments[1]!="undefined"?arguments[1]:{},n=[],l=parseInt(c.index,10)||0;if(a.isArray(b)){for(var d=0,e=b.length;d<e;d++)typeof b[d]=="object"?a(b[d]).data("fancybox",a.extend({},c,b[d])):b[d]=a({}).data("fancybox",a.extend({content:b[d]},c));n=jQuery.merge(n,b)}else typeof b=="object"?a(b).data("fancybox",a.extend({},c,b)):b=a({}).data("fancybox",a.extend({content:b},c)),n.push(b);if(l>n.length||l<0)l=0;G()},a.fancybox.showActivity=function(){clearInterval(v),c.show(),v=setInterval(U,66)},a.fancybox.hideActivity=function(){c.hide()},a.fancybox.next=function(){return a.fancybox.pos(o+1)},a.fancybox.prev=function(){return a.fancybox.pos(o-1)},a.fancybox.pos=function(a){if(B)return;a=parseInt(a),n=q,a>-1&&a<q.length?(l=a,G()):p.cyclic&&q.length>1&&(l=a>=q.length?0:q.length-1,G());return},a.fancybox.cancel=function(){if(B)return;B=!0,a.event.trigger("fancybox-cancel"),E(),m.onCancel(n,l,m),B=!1},a.fancybox.close=function(){function b(){d.fadeOut("fast"),i.empty().hide(),e.hide(),a.event.trigger("fancybox-cleanup"),g.empty(),p.onClosed(q,o,p),q=m=[],o=l=0,p=m={},B=!1}if(B||e.is(":hidden"))return;B=!0;if(p&&!1===p.onCleanup(q,o,p)){B=!1;return}E(),a(h.add(j).add(k)).hide(),a(g.add(d)).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),g.find("iframe").attr("src",D&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),p.titlePosition!=="inside"&&i.empty(),e.stop();if(p.transitionOut=="elastic"){z=T();var c=e.position();A={top:c.top,left:c.left,width:e.width(),height:e.height()},p.opacity&&(A.opacity=1),i.empty().hide(),C.prop=1,a(C).animate({prop:0},{duration:p.speedOut,easing:p.easingOut,step:P,complete:b})}else e.fadeOut(p.transitionOut=="none"?0:p.speedOut,b)},a.fancybox.resize=function(){d.is(":visible")&&d.css("height",a(document).height()),a.fancybox.center(!0)},a.fancybox.center=function(){var a,b;if(B)return;b=arguments[0]===!0?1:0,a=Q();if(!b&&(e.width()>a[0]||e.height()>a[1]))return;e.stop().animate({top:parseInt(Math.max(a[3]-20,a[3]+(a[1]-g.height()-40)*.5-p.padding)),left:parseInt(Math.max(a[2]-20,a[2]+(a[0]-g.width()-40)*.5-p.padding))},typeof arguments[0]=="number"?arguments[0]:200)},a.fancybox.init=function(){if(a("#fancybox-wrap").length)return;a("body").append(b=a('<div id="fancybox-tmp"></div>'),c=a('<div id="fancybox-loading"><div></div></div>'),d=a('<div id="fancybox-overlay"></div>'),e=a('<div id="fancybox-wrap"></div>')),f=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(e),f.append(g=a('<div id="fancybox-content"></div>'),h=a('<a id="fancybox-close"></a>'),i=a('<div id="fancybox-title"></div>'),j=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),k=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),h.click(a.fancybox.close),c.click(a.fancybox.cancel),j.click(function(b){b.preventDefault(),a.fancybox.prev()}),k.click(function(b){b.preventDefault(),a.fancybox.next()}),a.fn.mousewheel&&e.bind("mousewheel.fb",function(b,c){if(B)b.preventDefault();else if(a(b.target).get(0).clientHeight==0||a(b.target).get(0).scrollHeight===a(b.target).get(0).clientHeight)b.preventDefault(),a.fancybox[c>0?"prev":"next"]()}),a.support.opacity||e.addClass("fancybox-ie"),D&&(c.addClass("fancybox-ie6"),e.addClass("fancybox-ie6"),a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(f))},a.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},a(document).ready(function(){a.fancybox.init()})}(jQuery),function(a){var b={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},c=!1;a(window).bind("load.jcarousel",function(){c=!0}),a.jcarousel=function(d,e){this.options=a.extend({},b,e||{}),this.locked=!1,this.autoStopped=!1,this.container=null,this.clip=null,this.list=null,this.buttonNext=null,this.buttonPrev=null,this.buttonNextState=null,this.buttonPrevState=null;if(!e||e.rtl===undefined)this.options.rtl=(a(d).attr("dir")||a("html").attr("dir")||"").toLowerCase()=="rtl";this.wh=this.options.vertical?"height":"width",this.lt=this.options.vertical?"top":this.options.rtl?"right":"left";var f="",g=d.className.split(" ");for(var h=0;h<g.length;h++)if(g[h].indexOf("jcarousel-skin")!=-1){a(d).removeClass(g[h]),f=g[h];break}d.nodeName.toUpperCase()=="UL"||d.nodeName.toUpperCase()=="OL"?(this.list=a(d),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=a(d),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip")),this.clip.size()===0&&(this.clip=this.list.wrap("<div></div>").parent()),this.container.size()===0&&(this.container=this.clip.wrap("<div></div>").parent()),f!==""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1&&this.container.wrap('<div class=" '+f+'"></div>'),this.buttonPrev=a(".jcarousel-prev",this.container),this.buttonPrev.size()===0&&this.options.buttonPrevHTML!==null&&(this.buttonPrev=a(this.options.buttonPrevHTML).appendTo(this.container)),this.buttonPrev.addClass(this.className("jcarousel-prev")),this.buttonNext=a(".jcarousel-next",this.container),this.buttonNext.size()===0&&this.options.buttonNextHTML!==null&&(this.buttonNext=a(this.options.buttonNextHTML).appendTo(this.container)),this.buttonNext.addClass(this.className("jcarousel-next")),this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"}),this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0),this.container.addClass(this.className("jcarousel-container")).css({position:"relative"}),!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var i=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null,j=this.list.children("li"),k=this;if(j.size()>0){var l=0,m=this.options.offset;j.each(function(){k.format(this,m++),l+=k.dimension(this,i)}),this.list.css(this.wh,l+100+"px");if(!e||e.size===undefined)this.options.size=j.size()}this.container.css("display","block"),this.buttonNext.css("display","block"),this.buttonPrev.css("display","block"),this.funcNext=function(){k.next()},this.funcPrev=function(){k.prev()},this.funcResize=function(){k.resizeTimer&&clearTimeout(k.resizeTimer),k.resizeTimer=setTimeout(function(){k.reload()},100)},this.options.initCallback!==null&&this.options.initCallback(this,"init"),!c&&a.browser.safari?(this.buttons(!1,!1),a(window).bind("load.jcarousel",function(){k.setup()})):this.setup()};var d=a.jcarousel;d.fn=d.prototype={jcarousel:"0.2.8"},d.fn.extend=d.extend=a.extend,d.fn.extend({setup:function(){this.first=null,this.last=null,this.prevFirst=null,this.prevLast=null,this.animating=!1,this.timer=null,this.resizeTimer=null,this.tail=null,this.inTail=!1;if(this.locked)return;this.list.css(this.lt,this.pos(this.options.offset)+"px");var b=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null,this.animate(b,!1),a(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize),this.options.setupCallback!==null&&this.options.setupCallback(this)},reset:function(){this.list.empty(),this.list.css(this.lt,"0px"),this.list.css(this.wh,"10px"),this.options.initCallback!==null&&this.options.initCallback(this,"reset"),this.setup()},reload:function(){this.tail!==null&&this.inTail&&this.list.css(this.lt,d.intval(this.list.css(this.lt))+this.tail),this.tail=null,this.inTail=!1,this.options.reloadCallback!==null&&this.options.reloadCallback(this);if(this.options.visible!==null){var a=this,b=Math.ceil(this.clipping()/this.options.visible),c=0,e=0;this.list.children("li").each(function(d){c+=a.dimension(this,b),d+1<a.first&&(e=c)}),this.list.css(this.wh,c+"px"),this.list.css(this.lt,-e+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0,this.buttons()},unlock:function(){this.locked=!1,this.buttons()},size:function(a){return a!==undefined&&(this.options.size=a,this.locked||this.buttons()),this.options.size},resize:function(a){return a!==undefined&&(this.options.size=a,this.locked||this.buttons()),this.options.size},has:function(a,b){if(b===undefined||!b)b=a;this.options.size!==null&&b>this.options.size&&(b=this.options.size);for(var c=a;c<=b;c++){var d=this.get(c);if(!d.length||d.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(b){return a(">.jcarousel-item-"+b,this.list)},add:function(b,c){var e=this.get(b),f=0,g=a(c);if(e.length===0){var h,i=d.intval(b);e=this.create(b);for(;;){h=this.get(--i);if(i<=0||h.length){i<=0?this.list.prepend(e):h.after(e);break}}}else f=this.dimension(e);g.get(0).nodeName.toUpperCase()=="LI"?(e.replaceWith(g),e=g):e.empty().append(c),this.format(e.removeClass(this.className("jcarousel-item-placeholder")),b);var j=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null,k=this.dimension(e,j)-f;return b>0&&b<this.first&&this.list.css(this.lt,d.intval(this.list.css(this.lt))-k+"px"),this.list.css(this.wh,d.intval(this.list.css(this.wh))+k+"px"),e},remove:function(a){var b=this.get(a);if(!b.length||a>=this.first&&a<=this.last)return;var c=this.dimension(b);a<this.first&&this.list.css(this.lt,d.intval(this.list.css(this.lt))+c+"px"),b.remove(),this.list.css(this.wh,d.intval(this.list.css(this.wh))-c+"px")},next:function(){this.tail!==null&&!this.inTail?this.scrollTail(!1):this.scroll(this.options.wrap!="both"&&this.options.wrap!="last"||this.options.size===null||this.last!=this.options.size?this.first+this.options.scroll:1)},prev:function(){this.tail!==null&&this.inTail?this.scrollTail(!0):this.scroll(this.options.wrap!="both"&&this.options.wrap!="first"||this.options.size===null||this.first!=1?this.first-this.options.scroll:this.options.size)},scrollTail:function(a){if(this.locked||this.animating||!this.tail)return;this.pauseAuto();var b=d.intval(this.list.css(this.lt));b=a?b+this.tail:b-this.tail,this.inTail=!a,this.prevFirst=this.first,this.prevLast=this.last,this.animate(b)},scroll:function(a,b){if(this.locked||this.animating)return;this.pauseAuto(),this.animate(this.pos(a),b)},pos:function(a,b){var c=d.intval(this.list.css(this.lt));if(this.locked||this.animating)return c;this.options.wrap!="circular"&&(a=a<1?1:this.options.size&&a>this.options.size?this.options.size:a);var e=this.first>a,f=this.options.wrap!="circular"&&this.first<=1?1:this.first,g=e?this.get(f):this.get(this.last),h=e?f:f-1,i=null,j=0,k=!1,l=0,m;while(e?--h>=a:++h<a)i=this.get(h),k=!i.length,i.length===0&&(i=this.create(h).addClass(this.className("jcarousel-item-placeholder")),g[e?"before":"after"](i),this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(h<=0||h>this.options.size)&&(m=this.get(this.index(h)),m.length&&(i=this.add(h,m.clone(!0))))),g=i,l=this.dimension(i),k&&(j+=l),this.first!==null&&(this.options.wrap=="circular"||h>=1&&(this.options.size===null||h<=this.options.size))&&(c=e?c+l:c-l);var n=this.clipping(),o=[],p=0,q=0;g=this.get(a-1),h=a;while(++p){i=this.get(h),k=!i.length,i.length===0&&(i=this.create(h).addClass(this.className("jcarousel-item-placeholder")),g.length===0?this.list.prepend(i):g[e?"before":"after"](i),this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(h<=0||h>this.options.size)&&(m=this.get(this.index(h)),m.length&&(i=this.add(h,m.clone(!0))))),g=i,l=this.dimension(i);if(l===0)throw new Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");this.options.wrap!="circular"&&this.options.size!==null&&h>this.options.size?o.push(i):k&&(j+=l),q+=l;if(q>=n)break;h++}for(var r=0;r<o.length;r++)o[r].remove();j>0&&(this.list.css(this.wh,this.dimension(this.list)+j+"px"),e&&(c-=j,this.list.css(this.lt,d.intval(this.list.css(this.lt))-j+"px")));var s=a+p-1;this.options.wrap!="circular"&&this.options.size&&s>this.options.size&&(s=this.options.size);if(h>s){p=0,h=s,q=0;while(++p){i=this.get(h--);if(!i.length)break;q+=this.dimension(i);if(q>=n)break}}var t=s-p+1;this.options.wrap!="circular"&&t<1&&(t=1),this.inTail&&e&&(c+=this.tail,this.inTail=!1),this.tail=null;if(this.options.wrap!="circular"&&s==this.options.size&&s-p+1>=1){var u=d.intval(this.get(s).css(this.options.vertical?"marginBottom":"marginRight"));q-u>n&&(this.tail=q-n-u)}b&&a===this.options.size&&this.tail&&(c-=this.tail,this.inTail=!0);while(a-->t)c+=this.dimension(this.get(a));return this.prevFirst=this.first,this.prevLast=this.last,this.first=t,this.last=s,c},animate:function(b,c){if(this.locked||this.animating)return;this.animating=!0;var d=this,e=function(){d.animating=!1,b===0&&d.list.css(d.lt,0),!d.autoStopped&&(d.options.wrap=="circular"||d.options.wrap=="both"||d.options.wrap=="last"||d.options.size===null||d.last<d.options.size||d.last==d.options.size&&d.tail!==null&&!d.inTail)&&d.startAuto(),d.buttons(),d.notify("onAfterAnimation");if(d.options.wrap=="circular"&&d.options.size!==null)for(var a=d.prevFirst;a<=d.prevLast;a++)a!==null&&!(a>=d.first&&a<=d.last)&&(a<1||a>d.options.size)&&d.remove(a)};this.notify("onBeforeAnimation");if(!this.options.animation||c===!1)this.list.css(this.lt,b+"px"),e();else{var f=this.options.vertical?{top:b}:this.options.rtl?{right:b}:{left:b},g={duration:this.options.animation,easing:this.options.easing,complete:e};a.isFunction(this.options.animationStepCallback)&&(g.step=this.options.animationStepCallback),this.list.animate(f,g)}},startAuto:function(a){a!==undefined&&(this.options.auto=a);if(this.options.auto===0)return this.stopAuto();if(this.timer!==null)return;this.autoStopped=!1;var b=this;this.timer=window.setTimeout(function(){b.next()},this.options.auto*1e3)},stopAuto:function(){this.pauseAuto(),this.autoStopped=!0},pauseAuto:function(){if(this.timer===null)return;window.clearTimeout(this.timer),this.timer=null},buttons:function(a,b){a==null&&(a=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="first"||this.options.size===null||this.last<this.options.size),!this.locked&&(!this.options.wrap||this.options.wrap=="first")&&this.options.size!==null&&this.last>=this.options.size&&(a=this.tail!==null&&!this.inTail)),b==null&&(b=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="last"||this.first>1),!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!==null&&this.first==1&&(b=this.tail!==null&&this.inTail));var c=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),a&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[a?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",a?!1:!0),this.options.buttonNextCallback!==null&&this.buttonNext.data("jcarouselstate")!=a&&this.buttonNext.each(function(){c.options.buttonNextCallback(c,this,a)}).data("jcarouselstate",a)):this.options.buttonNextCallback!==null&&this.buttonNextState!=a&&this.options.buttonNextCallback(c,null,a),this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),b&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[b?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",b?!1:!0),this.options.buttonPrevCallback!==null&&this.buttonPrev.data("jcarouselstate")!=b&&this.buttonPrev.each(function(){c.options.buttonPrevCallback(c,this,b)}).data("jcarouselstate",b)):this.options.buttonPrevCallback!==null&&this.buttonPrevState!=b&&this.options.buttonPrevCallback(c,null,b),this.buttonNextState=a,this.buttonPrevState=b},notify:function(a){var b=this.prevFirst===null?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",a,b),this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",a,b,this.first),this.callback("itemFirstOutCallback",a,b,this.prevFirst)),this.prevLast!==this.last&&(this.callback("itemLastInCallback",a,b,this.last),this.callback("itemLastOutCallback",a,b,this.prevLast)),this.callback("itemVisibleInCallback",a,b,this.first,this.last,this.prevFirst,this.prevLast),this.callback("itemVisibleOutCallback",a,b,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(b,c,d,e,f,g,h){if(this.options[b]==null||typeof this.options[b]!="object"&&c!="onAfterAnimation")return;var i=typeof this.options[b]=="object"?this.options[b][c]:this.options[b];if(!a.isFunction(i))return;var j=this;if(e===undefined)i(j,d,c);else if(f===undefined)this.get(e).each(function(){i(j,this,e,d,c)});else{var k=function(a){j.get(a).each(function(){i(j,this,a,d,c)})};for(var l=e;l<=f;l++)l!==null&&!(l>=g&&l<=h)&&k(l)}},create:function(a){return this.format("<li></li>",a)},format:function(b,c){b=a(b);var d=b.get(0).className.split(" ");for(var e=0;e<d.length;e++)d[e].indexOf("jcarousel-")!=-1&&b.removeClass(d[e]);return b.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+c)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",c),b},className:function(a){return a+" "+a+(this.options.vertical?"-vertical":"-horizontal")},dimension:function(b,c){var e=a(b);if(c==null)return this.options.vertical?e.outerHeight(!0)||d.intval(this.options.itemFallbackDimension):e.outerWidth(!0)||d.intval(this.options.itemFallbackDimension);var f=this.options.vertical?c-d.intval(e.css("marginTop"))-d.intval(e.css("marginBottom")):c-d.intval(e.css("marginLeft"))-d.intval(e.css("marginRight"));return a(e).css(this.wh,f+"px"),this.dimension(e)},clipping:function(){return this.options.vertical?this.clip[0].offsetHeight-d.intval(this.clip.css("borderTopWidth"))-d.intval(this.clip.css("borderBottomWidth")):this.clip[0].offsetWidth-d.intval(this.clip.css("borderLeftWidth"))-d.intval(this.clip.css("borderRightWidth"))},index:function(a,b){return b==null&&(b=this.options.size),Math.round(((a-1)/b-Math.floor((a-1)/b))*b)+1}}),d.extend({defaults:function(c){return a.extend(b,c||{})},intval:function(a){return a=parseInt(a,10),isNaN(a)?0:a},windowLoaded:function(){c=!0}}),a.fn.jcarousel=function(b){if(typeof b=="string"){var c=a(this).data("jcarousel"),e=Array.prototype.slice.call(arguments,1);return c[b].apply(c,e)}return this.each(function(){var c=a(this).data("jcarousel");c?(b&&a.extend(c.options,b),c.reload()):a(this).data("jcarousel",new d(this,b))})}}(jQuery),function(a){function b(b){var c=b||window.event,e=[].slice.call(arguments,1),f=0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",b.wheelDelta&&(f=b.wheelDelta/120),b.detail&&(f=-b.detail/3),h=f,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*f),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),e.unshift(b,f,g,h),a.event.handle.apply(this,e)}var c=["DOMMouseScroll","mousewheel"];a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){typeof define=="function"&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function v(){v.history=v.history||[],v.history.push(arguments);if("object"==typeof console){var a=console[console.warn?"warn":"log"],b=Array.prototype.slice.call(arguments),c;typeof arguments[0]=="string"&&(b[0]="qTip2: "+b[0]),c=a.apply?a.apply(console,b):a(b)}}function w(b){var e;if(!b||"object"!=typeof b)return c;if(b.metadata===d||"object"!=typeof b.metadata)b.metadata={type:b.metadata};if("content"in b){if(b.content===d||"object"!=typeof b.content||b.content.jquery)b.content={text:b.content};e=b.content.text||c,!a.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"==typeof e&&!e.jquery)&&(b.content.text=c);if("title"in b.content){if(b.content.title===d||"object"!=typeof b.content.title)b.content.title={text:b.content.title
};e=b.content.title.text||c,!a.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"==typeof e&&!e.jquery)&&(b.content.title.text=c)}}return"position"in b&&(b.position===d||"object"!=typeof b.position)&&(b.position={my:b.position,at:b.position}),"show"in b&&(b.show===d||"object"!=typeof b.show)&&(b.show.jquery?b.show={target:b.show}:b.show={event:b.show}),"hide"in b&&(b.hide===d||"object"!=typeof b.hide)&&(b.hide.jquery?b.hide={target:b.hide}:b.hide={event:b.hide}),"style"in b&&(b.style===d||"object"!=typeof b.style)&&(b.style={classes:b.style}),a.each(g,function(){this.sanitize&&this.sanitize(b)}),b}function x(r,s,v,x){function H(a){var b=0,c,d=s,e=a.split(".");while(d=d[e[b++]])b<e.length&&(c=d);return[c||s,e.pop()]}function I(){var a=s.style.widget;D.toggleClass(k,a).toggleClass(n,s.style.def&&!a),F.content.toggleClass(k+"-content",a),F.titlebar&&F.titlebar.toggleClass(k+"-header",a),F.button&&F.button.toggleClass(j+"-icon",!a)}function J(a){F.title&&(F.titlebar.remove(),F.titlebar=F.title=F.button=d,a!==c&&y.reposition())}function K(){var b=s.content.title.button,d=typeof b=="string",e=d?b:"Close tooltip";F.button&&F.button.remove(),b.jquery?F.button=b:F.button=a("<a />",{"class":"ui-state-default ui-tooltip-close "+(s.style.widget?"":j+"-icon"),title:e,"aria-label":e}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),F.button.appendTo(F.titlebar).attr("role","button").click(function(a){return D.hasClass(l)||y.hide(a),c}),y.redraw()}function L(){var c=A+"-title";F.titlebar&&J(),F.titlebar=a("<div />",{"class":j+"-titlebar "+(s.style.widget?"ui-widget-header":"")}).append(F.title=a("<div />",{id:c,"class":j+"-title","aria-atomic":b})).insertBefore(F.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(b){a(this).toggleClass("ui-state-active ui-state-focus",b.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(b){a(this).toggleClass("ui-state-hover",b.type==="mouseover")}),s.content.title.button?K():y.rendered&&y.redraw()}function M(a){var b=F.button,d=F.title;if(!y.rendered)return c;a?(d||L(),K()):b.remove()}function N(b,d){var e=F.title;if(!y.rendered||!b)return c;a.isFunction(b)&&(b=b.call(r,G.event,y));if(b===c||!b&&b!=="")return J(c);b.jquery&&b.length>0?e.empty().append(b.css({display:"block"})):e.html(b),y.redraw(),d!==c&&y.rendered&&D.is(":visible")&&y.reposition(G.event)}function O(b,d){function g(b){function i(e){e&&(delete h[e.src],clearTimeout(y.timers.img[e.src]),a(e).unbind(E)),a.isEmptyObject(h)&&(y.redraw(),d!==c&&y.reposition(G.event),b())}var g,h={};if((g=f.find("img[src]:not([height]):not([width])")).length===0)return i();g.each(function(b,c){if(h[c.src]!==e)return;var d=0,f=3;(function g(){if(c.height||c.width||d>f)return i(c);d+=1,y.timers.img[c.src]=setTimeout(g,700)})(),a(c).bind("error"+E+" load"+E,function(){i(this)}),h[c.src]=c})}var f=F.content;return!y.rendered||!b?c:(a.isFunction(b)&&(b=b.call(r,G.event,y)||""),b.jquery&&b.length>0?f.empty().append(b.css({display:"block"})):f.html(b),y.rendered<0?D.queue("fx",g):(C=0,g(a.noop)),y)}function P(){function j(a){if(D.hasClass(l))return c;clearTimeout(y.timers.show),clearTimeout(y.timers.hide);var d=function(){y.toggle(b,a)};s.show.delay>0?y.timers.show=setTimeout(d,s.show.delay):d()}function k(b){if(D.hasClass(l)||B||C)return c;var f=a(b.relatedTarget||b.target),g=f.closest(m)[0]===D[0],h=f[0]===e.show[0];clearTimeout(y.timers.show),clearTimeout(y.timers.hide);if(d.target==="mouse"&&g||s.hide.fixed&&/mouse(out|leave|move)/.test(b.type)&&(g||h)){try{b.preventDefault(),b.stopImmediatePropagation()}catch(i){}return}s.hide.delay>0?y.timers.hide=setTimeout(function(){y.hide(b)},s.hide.delay):y.hide(b)}function n(a){if(D.hasClass(l))return c;clearTimeout(y.timers.inactive),y.timers.inactive=setTimeout(function(){y.hide(a)},s.hide.inactive)}function o(a){D.is(":visible")&&y.reposition(a)}var d=s.position,e={show:s.show.target,hide:s.hide.target,viewport:a(d.viewport),document:a(document),body:a(document.body),window:a(window)},g={show:a.trim(""+s.show.event).split(" "),hide:a.trim(""+s.hide.event).split(" ")},i=a.browser.msie&&parseInt(a.browser.version,10)===6;D.bind("mouseenter"+E+" mouseleave"+E,function(a){var b=a.type==="mouseenter";b&&y.focus(a),D.toggleClass(p,b)}),s.hide.fixed&&(e.hide=e.hide.add(D),D.bind("mouseover"+E,function(){D.hasClass(l)||clearTimeout(y.timers.hide)})),/mouse(out|leave)/i.test(s.hide.event)?s.hide.leave==="window"&&e.window.bind("mouseout"+E+" blur"+E,function(a){/select|option/.test(a.target)&&!a.relatedTarget&&y.hide(a)}):/mouse(over|enter)/i.test(s.show.event)&&e.hide.bind("mouseleave"+E,function(a){clearTimeout(y.timers.show)}),(""+s.hide.event).indexOf("unfocus")>-1&&d.container.closest("html").bind("mousedown"+E,function(b){var c=a(b.target),d=!D.hasClass(l)&&D.is(":visible"),e=c.parents(m).filter(D[0]).length>0;c[0]!==r[0]&&c[0]!==D[0]&&!e&&!r.has(c[0]).length&&!c.attr("disabled")&&y.hide(b)}),"number"==typeof s.hide.inactive&&(e.show.bind("qtip-"+v+"-inactive",n),a.each(f.inactiveEvents,function(a,b){e.hide.add(F.tooltip).bind(b+E+"-inactive",n)})),a.each(g.hide,function(b,c){var d=a.inArray(c,g.show),f=a(e.hide);d>-1&&f.add(e.show).length===f.length||c==="unfocus"?(e.show.bind(c+E,function(a){D.is(":visible")?k(a):j(a)}),delete g.show[d]):e.hide.bind(c+E,k)}),a.each(g.show,function(a,b){e.show.bind(b+E,j)}),"number"==typeof s.hide.distance&&e.show.add(D).bind("mousemove"+E,function(a){var b=G.origin||{},c=s.hide.distance,d=Math.abs;(d(a.pageX-b.pageX)>=c||d(a.pageY-b.pageY)>=c)&&y.hide(a)}),d.target==="mouse"&&(e.show.bind("mousemove"+E,function(a){h={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),d.adjust.mouse&&(s.hide.event&&(D.bind("mouseleave"+E,function(a){(a.relatedTarget||a.target)!==e.show[0]&&y.hide(a)}),F.target.bind("mouseenter"+E+" mouseleave"+E,function(a){G.onTarget=a.type==="mouseenter"})),e.document.bind("mousemove"+E,function(a){G.onTarget&&!D.hasClass(l)&&D.is(":visible")&&y.reposition(a||h)}))),(d.adjust.resize||e.viewport.length)&&(a.event.special.resize?e.viewport:e.window).bind("resize"+E,o),(e.viewport.length||i&&D.css("position")==="fixed")&&e.viewport.bind("scroll"+E,o)}function Q(){var b=[s.show.target[0],s.hide.target[0],y.rendered&&F.tooltip[0],s.position.container[0],s.position.viewport[0],window,document];y.rendered?a([]).pushStack(a.grep(b,function(a){return typeof a=="object"})).unbind(E):s.show.target.unbind(E+"-create")}var y=this,z=document.body,A=j+"-"+v,B=0,C=0,D=a(),E=".qtip-"+v,F,G;y.id=v,y.rendered=c,y.elements=F={target:r},y.timers={img:{}},y.options=s,y.checks={},y.plugins={},y.cache=G={event:{},target:a(),disabled:c,attr:x,onTarget:c},y.checks.builtin={"^id$":function(d,e,g){var h=g===b?f.nextid:g,i=j+"-"+h;h!==c&&h.length>0&&!a("#"+i).length&&(D[0].id=i,F.content[0].id=i+"-content",F.title[0].id=i+"-title")},"^content.text$":function(a,b,c){O(c)},"^content.title.text$":function(a,b,c){if(!c)return J();!F.title&&c&&L(),N(c)},"^content.title.button$":function(a,b,c){M(c)},"^position.(my|at)$":function(a,b,c){"string"==typeof c&&(a[b]=new g.Corner(c))},"^position.container$":function(a,b,c){y.rendered&&D.appendTo(c)},"^show.ready$":function(){y.rendered?y.toggle(b):y.render(1)},"^style.classes$":function(a,b,c){D.attr("class",j+" qtip ui-helper-reset "+c)},"^style.widget|content.title":I,"^events.(render|show|move|hide|focus|blur)$":function(b,c,d){D[(a.isFunction(d)?"":"un")+"bind"]("tooltip"+c,d)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var a=s.position;D.attr("tracking",a.target==="mouse"&&a.adjust.mouse),Q(),P()}},a.extend(y,{render:function(d){if(y.rendered)return y;var e=s.content.text,f=s.content.title.text,h=s.position,i=a.Event("tooltiprender");return a.attr(r[0],"aria-describedby",A),D=F.tooltip=a("<div/>",{id:A,"class":j+" qtip ui-helper-reset "+n+" "+s.style.classes+" "+j+"-pos-"+s.position.my.abbrev(),width:s.style.width||"",height:s.style.height||"",tracking:h.target==="mouse"&&h.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":c,"aria-describedby":A+"-content","aria-hidden":b}).toggleClass(l,G.disabled).data("qtip",y).appendTo(s.position.container).append(F.content=a("<div />",{"class":j+"-content",id:A+"-content","aria-atomic":b})),y.rendered=-1,C=1,B=1,f&&(L(),a.isFunction(f)||N(f,c)),a.isFunction(e)||O(e,c),y.rendered=b,I(),a.each(s.events,function(b,c){a.isFunction(c)&&D.bind(b==="toggle"?"tooltipshow tooltiphide":"tooltip"+b,c)}),a.each(g,function(){this.initialize==="render"&&this(y)}),P(),D.queue("fx",function(a){i.originalEvent=G.event,D.trigger(i,[y]),C=0,B=0,y.redraw(),(s.show.ready||d)&&y.toggle(b,G.event,c),a()}),y},get:function(a){var b,c;switch(a.toLowerCase()){case"dimensions":b={height:D.outerHeight(),width:D.outerWidth()};break;case"offset":b=g.offset(D,s.position.container);break;default:c=H(a.toLowerCase()),b=c[0][c[1]],b=b.precedance?b.string():b}return b},set:function(e,f){function m(a,b){var c,d,e;for(c in k)for(d in k[c])if(e=(new RegExp(d,"i")).exec(a))b.push(e),k[c][d].apply(y,b)}var g=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,h=/^content\.(title|attr)|style/i,i=c,j=c,k=y.checks,l;return"string"==typeof e?(l=e,e={},e[l]=f):e=a.extend(b,{},e),a.each(e,function(b,c){var d=H(b.toLowerCase()),f;f=d[0][d[1]],d[0][d[1]]="object"==typeof c&&c.nodeType?a(c):c,e[b]=[d[0],d[1],c,f],i=g.test(b)||i,j=h.test(b)||j}),w(s),B=C=1,a.each(e,m),B=C=0,D.is(":visible")&&y.rendered&&(i&&y.reposition(s.position.target==="mouse"?d:G.event),j&&y.redraw()),y},toggle:function(e,f){function q(){e?(a.browser.msie&&D[0].style.removeAttribute("filter"),D.css("overflow",""),"string"==typeof i.autofocus&&a(i.autofocus,D).focus(),p=a.Event("tooltipvisible"),p.originalEvent=f?G.event:d,D.trigger(p,[y]),i.target.trigger("qtip-"+v+"-inactive")):D.css({display:"",visibility:"",opacity:"",left:"",top:""})}if(!y.rendered)return e?y.render(1):y;var g=e?"show":"hide",i=s[g],j=D.is(":visible"),k=!f||s[g].target.length<2||G.target[0]===f.target,l=s.position,n=s.content,o,p;(typeof e).search("boolean|number")&&(e=!j);if(!D.is(":animated")&&j===e&&k)return y;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(G.event.type)&&f.target===s.show.target[0]&&D.has(f.relatedTarget).length)return y;G.event=a.extend({},f)}return p=a.Event("tooltip"+g),p.originalEvent=f?G.event:d,D.trigger(p,[y,90]),p.isDefaultPrevented()?y:(a.attr(D[0],"aria-hidden",!e),e?(G.origin=a.extend({},h),y.focus(f),a.isFunction(n.text)&&O(n.text,c),a.isFunction(n.title.text)&&N(n.title.text,c),!u&&l.target==="mouse"&&l.adjust.mouse&&(a(document).bind("mousemove.qtip",function(a){h={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),u=b),y.reposition(f,arguments[2]),(p.solo=!!i.solo)&&a(m,i.solo).not(D).qtip("hide",p)):(clearTimeout(y.timers.show),delete G.origin,u&&!a(m+'[tracking="true"]:visible',i.solo).not(D).length&&(a(document).unbind("mousemove.qtip"),u=c),y.blur(f)),k&&D.stop(0,1),i.effect===c?(D[g](),q.call(D)):a.isFunction(i.effect)?(i.effect.call(D,y),D.queue("fx",function(a){q(),a()})):D.fadeTo(90,e?1:0,q),e&&i.target.trigger("qtip-"+v+"-inactive"),y)},show:function(a){return y.toggle(b,a)},hide:function(a){return y.toggle(c,a)},focus:function(b){if(!y.rendered)return y;var c=a(m),d=parseInt(D[0].style.zIndex,10),e=f.zindex+c.length,g=a.extend({},b),h,i;return D.hasClass(o)||(i=a.Event("tooltipfocus"),i.originalEvent=g,D.trigger(i,[y,e]),i.isDefaultPrevented()||(d!==e&&(c.each(function(){this.style.zIndex>d&&(this.style.zIndex=this.style.zIndex-1)}),c.filter("."+o).qtip("blur",g)),D.addClass(o)[0].style.zIndex=e)),y},blur:function(b){var c=a.extend({},b),d;return D.removeClass(o),d=a.Event("tooltipblur"),d.originalEvent=c,D.trigger(d,[y]),y},reposition:function(b,d){if(!y.rendered||B)return y;B=1;var e=s.position.target,f=s.position,i=f.my,k=f.at,l=f.adjust,m=l.method.split(" "),n=D.outerWidth(),o=D.outerHeight(),p=0,q=0,r=a.Event("tooltipmove"),t=D.css("position")==="fixed",u=f.viewport,v={left:0,top:0},w=f.container,x=c,A=y.plugins.tip,C={horizontal:m[0],vertical:m[1]=m[1]||m[0],enabled:u.jquery&&e[0]!==window&&e[0]!==z&&l.method!=="none",left:function(a){var b=C.horizontal==="shift",c=-w.offset.left+u.offset.left+u.scrollLeft,d=i.x==="left"?n:i.x==="right"?-n:-n/2,e=k.x==="left"?p:k.x==="right"?-p:-p/2,f=A&&A.size?A.size.width||0:0,g=A&&A.corner&&A.corner.precedance==="x"&&!b?f:0,h=c-a+g,j=a+n-u.width-c+g,m=d-(i.precedance==="x"||i.x===i.y?e:0)-(k.x==="center"?p/2:0),o=i.x==="center";return b?(g=A&&A.corner&&A.corner.precedance==="y"?f:0,m=(i.x==="left"?1:-1)*d-g,v.left+=h>0?h:j>0?-j:0,v.left=Math.max(-w.offset.left+u.offset.left+(g&&A.corner.x==="center"?A.offset:0),a-m,Math.min(Math.max(-w.offset.left+u.offset.left+u.width,a+m),v.left))):(h>0&&(i.x!=="left"||j>0)?v.left-=m:j>0&&(i.x!=="right"||h>0)&&(v.left-=o?-m:m),v.left!==a&&o&&(v.left-=l.x),v.left<c&&-v.left>j&&(v.left=a)),v.left-a},top:function(a){var b=C.vertical==="shift",c=-w.offset.top+u.offset.top+u.scrollTop,d=i.y==="top"?o:i.y==="bottom"?-o:-o/2,e=k.y==="top"?q:k.y==="bottom"?-q:-q/2,f=A&&A.size?A.size.height||0:0,g=A&&A.corner&&A.corner.precedance==="y"&&!b?f:0,h=c-a+g,j=a+o-u.height-c+g,m=d-(i.precedance==="y"||i.x===i.y?e:0)-(k.y==="center"?q/2:0),n=i.y==="center";return b?(g=A&&A.corner&&A.corner.precedance==="x"?f:0,m=(i.y==="top"?1:-1)*d-g,v.top+=h>0?h:j>0?-j:0,v.top=Math.max(-w.offset.top+u.offset.top+(g&&A.corner.x==="center"?A.offset:0),a-m,Math.min(Math.max(-w.offset.top+u.offset.top+u.height,a+m),v.top))):(h>0&&(i.y!=="top"||j>0)?v.top-=m:j>0&&(i.y!=="bottom"||h>0)&&(v.top-=n?-m:m),v.top!==a&&n&&(v.top-=l.y),v.top<0&&-v.top>j&&(v.top=a)),v.top-a}},E;if(a.isArray(e)&&e.length===2)k={x:"left",y:"top"},v={left:e[0],top:e[1]};else if(e==="mouse"&&(b&&b.pageX||G.event.pageX))k={x:"left",y:"top"},b=(!b||b.type!=="resize"&&b.type!=="scroll"?b&&b.pageX&&b.type==="mousemove"?b:h&&h.pageX&&(l.mouse||!b||!b.pageX)?{pageX:h.pageX,pageY:h.pageY}:!l.mouse&&G.origin&&G.origin.pageX&&s.show.distance?G.origin:b:G.event)||b||G.event||h||{},v={top:b.pageY,left:b.pageX};else{e==="event"?b&&b.target&&b.type!=="scroll"&&b.type!=="resize"?e=G.target=a(b.target):e=G.target:e=G.target=a(e.jquery?e:F.target),e=a(e).eq(0);if(e.length===0)return y;e[0]===document||e[0]===window?(p=g.iOS?window.innerWidth:e.width(),q=g.iOS?window.innerHeight:e.height(),e[0]===window&&(v={top:(u||e).scrollTop(),left:(u||e).scrollLeft()})):e.is("area")&&g.imagemap?v=g.imagemap(e,k,C.enabled?m:c):e[0].namespaceURI==="http://www.w3.org/2000/svg"&&g.svg?v=g.svg(e,k):(p=e.outerWidth(),q=e.outerHeight(),v=g.offset(e,w)),v.offset&&(p=v.width,q=v.height,x=v.flipoffset,v=v.offset);if(g.iOS<4.1&&g.iOS>3.1||g.iOS==4.3||!g.iOS&&t)E=a(window),v.left-=E.scrollLeft(),v.top-=E.scrollTop();v.left+=k.x==="right"?p:k.x==="center"?p/2:0,v.top+=k.y==="bottom"?q:k.y==="center"?q/2:0}return v.left+=l.x+(i.x==="right"?-n:i.x==="center"?-n/2:0),v.top+=l.y+(i.y==="bottom"?-o:i.y==="center"?-o/2:0),C.enabled?(u={elem:u,height:u[(u[0]===window?"h":"outerH")+"eight"](),width:u[(u[0]===window?"w":"outerW")+"idth"](),scrollLeft:t?0:u.scrollLeft(),scrollTop:t?0:u.scrollTop(),offset:u.offset()||{left:0,top:0}},w={elem:w,scrollLeft:w.scrollLeft(),scrollTop:w.scrollTop(),offset:w.offset()||{left:0,top:0}},v.adjusted={left:C.horizontal!=="none"?C.left(v.left):0,top:C.vertical!=="none"?C.top(v.top):0},v.adjusted.left+v.adjusted.top&&D.attr("class",D[0].className.replace(/ui-tooltip-pos-\w+/i,j+"-pos-"+i.abbrev())),x&&v.adjusted.left&&(v.left+=x.left),x&&v.adjusted.top&&(v.top+=x.top)):v.adjusted={left:0,top:0},r.originalEvent=a.extend({},b),D.trigger(r,[y,v,u.elem||u]),r.isDefaultPrevented()?y:(delete v.adjusted,d===c||isNaN(v.left)||isNaN(v.top)||e==="mouse"||!a.isFunction(f.effect)?D.css(v):a.isFunction(f.effect)&&(f.effect.call(D,y,a.extend({},v)),D.queue(function(b){a(this).css({opacity:"",height:""}),a.browser.msie&&this.style.removeAttribute("filter"),b()})),B=0,y)},redraw:function(){if(y.rendered<1||C)return y;var a=s.position.container,b,c,d,e;return C=1,s.style.height&&D.css("height",s.style.height),s.style.width?D.css("width",s.style.width):(D.css("width","").addClass(q),c=D.width()+1,d=D.css("max-width")||"",e=D.css("min-width")||"",b=(d+e).indexOf("%")>-1?a.width()/100:0,d=(d.indexOf("%")>-1?b:1)*parseInt(d,10)||c,e=(e.indexOf("%")>-1?b:1)*parseInt(e,10)||0,c=d+e?Math.min(Math.max(c,e),d):c,D.css("width",Math.round(c)).removeClass(q)),C=0,y},disable:function(b){return"boolean"!=typeof b&&(b=!D.hasClass(l)&&!G.disabled),y.rendered?(D.toggleClass(l,b),a.attr(D[0],"aria-disabled",b)):G.disabled=!!b,y},enable:function(){return y.disable(c)},destroy:function(){var b=r[0],c=a.attr(b,t),d=r.data("qtip");y.rendered&&(D.stop(1,0).remove(),a.each(y.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(y.timers.show),clearTimeout(y.timers.hide),Q();if(!d||y===d)a.removeData(b,"qtip"),s.suppress&&c&&(a.attr(b,"title",c),r.removeAttr(t)),r.removeAttr("aria-describedby");return r.unbind(".qtip-"+v),delete i[y.id],r}})}function y(e,h){var i,j,k,l,m,n=a(this),o=a(document.body),p=this===document?o:n,q=n.metadata?n.metadata(h.metadata):d,r=h.metadata.type==="html5"&&q?q[h.metadata.name]:d,s=n.data(h.metadata.name||"qtipopts");try{s=typeof s=="string"?(new Function("return "+s))():s}catch(u){v("Unable to parse HTML5 attribute data: "+s)}l=a.extend(b,{},f.defaults,h,typeof s=="object"?w(s):d,w(r||q)),j=l.position,l.id=e;if("boolean"==typeof l.content.text){k=n.attr(l.content.attr);if(l.content.attr===c||!k)return v("Unable to locate content for tooltip! Aborting render of tooltip on element: ",n),c;l.content.text=k}j.container.length||(j.container=o),j.target===c&&(j.target=p),l.show.target===c&&(l.show.target=p),l.show.solo===b&&(l.show.solo=j.container.closest("body")),l.hide.target===c&&(l.hide.target=p),l.position.viewport===b&&(l.position.viewport=j.container),j.at=new g.Corner(j.at),j.my=new g.Corner(j.my);if(a.data(this,"qtip"))if(l.overwrite)n.qtip("destroy");else if(l.overwrite===c)return c;return l.suppress&&(m=a.attr(this,"title"))&&a(this).removeAttr("title").attr(t,m),i=new x(n,l,e,!!k),a.data(this,"qtip",i),n.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){i.destroy()}),i}function z(d){var e=this,f=d.elements.tooltip,g=d.options.content.ajax,h=".qtip-ajax",i=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,j=b,k=c,l;d.checks.ajax={"^content.ajax":function(a,b,c){b==="ajax"&&(g=c),b==="once"?e.init():g&&g.url?e.load():f.unbind(h)}},a.extend(e,{init:function(){return g&&g.url&&f.unbind(h)[g.once?"one":"bind"]("tooltipshow"+h,e.load),e},load:function(b,f){function p(){if(k)return;n&&(d.show(b.originalEvent),f=c),a.isFunction(g.complete)&&g.complete.apply(this,arguments)}function q(b){if(k)return;m&&(b=a("<div/>").append(b.replace(i,"")).find(m)),d.set("content.text",b)}function r(a,b,c){if(k||a.status===0)return;d.set("content.text",b+": "+c)}var h=g.url.indexOf(" "),j=g.url,m,n=g.once&&!g.loading&&f;if(n)try{b.preventDefault()}catch(o){}else if(b&&b.isDefaultPrevented())return e;l&&l.abort&&l.abort(),h>-1&&(m=j.substr(h),j=j.substr(0,h)),l=a.ajax(a.extend({success:q,error:r,context:d},g,{url:j,complete:p}))},destroy:function(){l&&l.abort&&l.abort(),k=b}}),e.init()}function A(a,b,c){var d=Math.ceil(b/2),e=Math.ceil(c/2),f={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[d,0],[b,c]],bottomcenter:[[0,0],[b,0],[d,c]],rightcenter:[[0,0],[b,e],[0,c]],leftcenter:[[b,0],[b,c],[0,e]]};return f.lefttop=f.bottomright,f.righttop=f.bottomleft,f.leftbottom=f.topright,f.rightbottom=f.topleft,f[a.string()]}function B(f,h){function t(a,d,g,h){if(!k.tip)return;var l=i.corner.clone(),n=g.adjusted,o=f.options.position.adjust.method.split(" "),p=o[0],q=o[1]||o[0],r={left:c,top:c,x:0,y:0},s,t={},u;i.corner.fixed!==b&&(p==="shift"&&l.precedance==="x"&&n.left&&l.y!=="center"?l.precedance=l.precedance==="x"?"y":"x":p==="flip"&&n.left&&(l.x=l.x==="center"?n.left>0?"left":"right":l.x==="left"?"right":"left"),q==="shift"&&l.precedance==="y"&&n.top&&l.x!=="center"?l.precedance=l.precedance==="y"?"x":"y":q==="flip"&&n.top&&(l.y=l.y==="center"?n.top>0?"top":"bottom":l.y==="top"?"bottom":"top"),l.string()!==m.corner.string()&&(m.top!==n.top||m.left!==n.left)&&i.update(l,c)),s=i.position(l,n),s.right!==e&&(s.left=-s.right),s.bottom!==e&&(s.top=-s.bottom),s.user=Math.max(0,j.offset);if(r.left=p==="shift"&&!!n.left)l.x==="center"?t["margin-left"]=r.x=s["margin-left"]-n.left:(u=s.right!==e?[n.left,-s.left]:[-n.left,s.left],(r.x=Math.max(u[0],u[1]))>u[0]&&(g.left-=n.left,r.left=c),t[s.right!==e?"right":"left"]=r.x);if(r.top=q==="shift"&&!!n.top)l.y==="center"?t["margin-top"]=r.y=s["margin-top"]-n.top:(u=s.bottom!==e?[n.top,-s.top]:[-n.top,s.top],(r.y=Math.max(u[0],u[1]))>u[0]&&(g.top-=n.top,r.top=c),t[s.bottom!==e?"bottom":"top"]=r.y);k.tip.css(t).toggle(!(r.x&&r.y||l.x==="center"&&r.y||l.y==="center"&&r.x)),g.left-=s.left.charAt?s.user:p!=="shift"||r.top||!r.left&&!r.top?s.left:0,g.top-=s.top.charAt?s.user:q!=="shift"||r.left||!r.left&&!r.top?s.top:0,m.left=n.left,m.top=n.top,m.corner=l.clone()}function u(a,b,c){b=b?b:a[a.precedance];var d=l.hasClass(q),e=k.titlebar&&a.y==="top",f=e?k.titlebar:k.content,g="border-"+b+"-width",h;return l.addClass(q),h=parseInt(f.css(g),10),h=(c?h||parseInt(l.css(g),10):h)||0,l.toggleClass(q,d),h}function v(b){var c=k.titlebar&&b.y==="top",d=c?k.titlebar:k.content,e=a.browser.mozilla,f=e?"-moz-":a.browser.webkit?"-webkit-":"",g=b.y+(e?"":"-")+b.x,h=f+(e?"border-radius-"+g:"border-"+g+"-radius");return parseInt(d.css(h),10)||parseInt(l.css(h),10)||0}function w(a){var b=a.precedance==="y",c=n[b?"width":"height"],d=n[b?"height":"width"],e=a.string().indexOf("center")>-1,f=c*(e?.5:1),g=Math.pow,h=Math.round,i,j,k,l=Math.sqrt(g(f,2)+g(d,2)),m=[p/f*l,p/d*l];return m[2]=Math.sqrt(g(m[0],2)-g(p,2)),m[3]=Math.sqrt(g(m[1],2)-g(p,2)),i=l+m[2]+m[3]+(e?0:m[0]),j=i/l,k=[h(j*d),h(j*c)],{height:k[b?0:1],width:k[b?1:0]}}var i=this,j=f.options.style.tip,k=f.elements,l=k.tooltip,m={top:0,left:0},n={width:j.width,height:j.height},o={},p=j.border||0,r=".qtip-tip",s=!!(a("<canvas />")[0]||{}).getContext;i.corner=d,i.mimic=d,i.border=p,i.offset=j.offset,i.size=n,f.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){i.init()||i.destroy(),f.reposition()},"^style.tip.(height|width)$":function(){n={width:j.width,height:j.height},i.create(),i.update(),f.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&i.update()}},a.extend(i,{init:function(){var b=i.detectCorner()&&(s||a.browser.msie);return b&&(i.create(),i.update(),l.unbind(r).bind("tooltipmove"+r,t)),b},detectCorner:function(){var a=j.corner,d=f.options.position,e=d.at,h=d.my.string?d.my.string():d.my;return a===c||h===c&&e===c?c:(a===b?i.corner=new g.Corner(h):a.string||(i.corner=new g.Corner(a),i.corner.fixed=b),m.corner=new g.Corner(i.corner.string()),i.corner.string()!=="centercenter")},detectColours:function(b){var c,d,e,g=k.tip.css("cssText",""),h=b||i.corner,m=h[h.precedance],p="border-"+m+"-color",r="border"+m.charAt(0)+m.substr(1)+"Color",s=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,t="background-color",u="transparent",v=" !important",w=a(document.body).css("color"),x=f.elements.content.css("color"),y=k.titlebar&&(h.y==="top"||h.y==="center"&&g.position().top+n.height/2+j.offset<k.titlebar.outerHeight(1)),z=y?k.titlebar:k.content;l.addClass(q),o.fill=d=g.css(t),o.border=e=g[0].style[r]||g.css(p)||l.css(p);if(!d||s.test(d))o.fill=z.css(t)||u,s.test(o.fill)&&(o.fill=l.css(t)||d);if(!e||s.test(e)||e===w)o.border=z.css(p)||u,s.test(o.border)&&(o.border=e);a("*",g).add(g).css("cssText",t+":"+u+v+";border:0"+v+";"),l.removeClass(q)},create:function(){var b=n.width,c=n.height,d;k.tip&&k.tip.remove(),k.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:b,height:c}).prependTo(l),s?a("<canvas />").appendTo(k.tip)[0].getContext("2d").save():(d='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>',k.tip.html(d+d),a("*",k.tip).bind("click mousedown",function(a){a.stopPropagation()}))},update:function(e,f){var h=k.tip,l=h.children(),q=n.width,r=n.height,t="px solid ",v="px dashed transparent",x=j.mimic,y=Math.round,z,B,C,D,E;e||(e=m.corner||i.corner),x===c?x=e:(x=new g.Corner(x),x.precedance=e.precedance,x.x==="inherit"?x.x=e.x:x.y==="inherit"?x.y=e.y:x.x===x.y&&(x[e.precedance]=e[e.precedance])),z=x.precedance,i.detectColours(e),o.border!=="transparent"&&o.border!=="#123456"?(p=u(e,d,b),j.border===0&&p>0&&(o.fill=o.border),i.border=p=j.border!==b?j.border:p):i.border=p=0,C=A(x,q,r),i.size=E=w(e),h.css(E),e.precedance==="y"?D=[y(x.x==="left"?p:x.x==="right"?E.width-q-p:(E.width-q)/2),y(x.y==="top"?E.height-r:0)]:D=[y(x.x==="left"?E.width-q:0),y(x.y==="top"?p:x.y==="bottom"?E.height-r-p:(E.height-r)/2)],s?(l.attr(E),B=l[0].getContext("2d"),B.restore(),B.save(),B.clearRect(0,0,3e3,3e3),B.translate(D[0],D[1]),B.beginPath(),B.moveTo(C[0][0],C[0][1]),B.lineTo(C[1][0],C[1][1]),B.lineTo(C[2][0],C[2][1]),B.closePath(),B.fillStyle=o.fill,B.strokeStyle=o.border,B.lineWidth=p*2,B.lineJoin="miter",B.miterLimit=100,p&&B.stroke(),B.fill()):(C="m"+C[0][0]+","+C[0][1]+" l"+C[1][0]+","+C[1][1]+" "+C[2][0]+","+C[2][1]+" xe",D[2]=p&&/^(r|b)/i.test(e.string())?parseFloat(a.browser.version,10)===8?2:1:0,l.css({antialias:""+(x.string().indexOf("center")>-1),left:D[0]-D[2]*Number(z==="x"),top:D[1]-D[2]*Number(z==="y"),width:q+p,height:r+p}).each(function(b){var c=a(this);c[c.prop?"prop":"attr"]({coordsize:q+p+" "+(r+p),path:C,fillcolor:o.fill,filled:!!b,stroked:!b}).css({display:p||b?"block":"none"}),!b&&c.html()===""&&c.html('<vml:stroke weight="'+p*2+'px" color="'+o.border+'" miterlimit="1000" joinstyle="miter" '+' style="behavior:url(#default#VML); display:inline-block;" />')})),f!==c&&i.position(e)},position:function(d){var e=k.tip,f={},g=Math.max(0,j.offset),h,l,m;return j.corner===c||!e?c:(d=d||i.corner,h=d.precedance,l=w(d),m=[d.x,d.y],h==="x"&&m.reverse(),a.each(m,function(a,c){var e,i;c==="center"?(e=h==="y"?"left":"top",f[e]="50%",f["margin-"+e]=-Math.round(l[h==="y"?"width":"height"]/2)+g):(e=u(d,c,b),i=v(d),f[c]=a?p?u(d,c):0:g+(i>e?i:0))}),f[d[h]]-=l[h==="x"?"width":"height"],e.css({top:"",bottom:"",left:"",right:"",margin:""}).css(f),f)},destroy:function(){k.tip&&k.tip.remove(),l.unbind(r)}}),i.init()}function C(d){var e=this,f=d.options.show.modal,h=d.elements,i=h.tooltip,j="#qtip-overlay",k=".qtipmodal",l=k+d.id,n="is-modal-qtip",p=a(document.body),q;d.checks.modal={"^show.modal.(on|blur)$":function(){e.init(),h.overlay.toggle(i.is(":visible"))}},a.extend(e,{init:function(){return f.on?(q=e.create(),i.attr(n,b).css("z-index",g.modal.zindex+a(m+"["+n+"]").length).unbind(k).unbind(l).bind("tooltipshow"+k+" tooltiphide"+k,function(b,c,d){var f=b.originalEvent;if(b.target===i[0])if(f&&b.type==="tooltiphide"&&/mouse(leave|enter)/.test(f.type)&&a(f.relatedTarget).closest(q[0]).length)try{b.preventDefault()}catch(g){}else(!f||f&&!f.solo)&&e[b.type.replace("tooltip","")](b,d)}).bind("tooltipfocus"+k,function(b){if(b.isDefaultPrevented()||b.target!==i[0])return;var c=a(m).filter("["+n+"]"),d=g.modal.zindex+c.length,e=parseInt(i[0].style.zIndex,10);q[0].style.zIndex=d-1,c.each(function(){this.style.zIndex>e&&(this.style.zIndex-=1)}),c.end().filter("."+o).qtip("blur",b.originalEvent),i.addClass(o)[0].style.zIndex=d;try{b.preventDefault()}catch(f){}}).bind("tooltiphide"+k,function(b){b.target===i[0]&&a("["+n+"]").filter(":visible").not(i).last().qtip("focus",b)}),f.escape&&a(window).unbind(l).bind("keydown"+l,function(a){a.keyCode===27&&i.hasClass(o)&&d.hide(a)}),f.blur&&h.overlay.unbind(l).bind("click"+l,function(a){i.hasClass(o)&&d.hide(a)}),e):e},create:function(){function d(){q.css({height:a(window).height(),width:a(window).width()})}var b=a(j);return b.length?h.overlay=b.insertAfter(a(m).last()):(q=h.overlay=a("<div />",{id:j.substr(1),html:"<div></div>",mousedown:function(){return c}}).insertAfter(a(m).last()),a(window).unbind(k).bind("resize"+k,d),d(),q)},toggle:function(d,g,h){if(d&&d.isDefaultPrevented())return e;var j=f.effect,k=g?"show":"hide",o=q.is(":visible"),r=a("["+n+"]").filter(":visible").not(i),s;return q||(q=e.create()),q.is(":animated")&&o===g||!g&&r.length?e:(g?(q.css({left:0,top:0}),q.toggleClass("blurs",f.blur),p.bind("focusin"+l,function(b){var d=a(b.target),e=d.closest(".qtip"),f=e.length<1?c:parseInt(e[0].style.zIndex,10)>parseInt(i[0].style.zIndex,10);!f&&a(b.target).closest(m)[0]!==i[0]&&i.find("input:visible").filter(":first").focus()})):p.undelegate("*","focusin"+l),q.stop(b,c),a.isFunction(j)?j.call(q,g):j===c?q[k]():q.fadeTo(parseInt(h,10)||90,g?1:0,function(){g||a(this).hide()}),g||q.queue(function(a){q.css({left:"",top:""}),a()}),e)},show:function(a,c){return e.toggle(a,b,c)},hide:function(a,b){return e.toggle(a,c,b)},destroy:function(){var b=q;return b&&(b=a("["+n+"]").not(i).length<1,b?(h.overlay.remove(),a(window).unbind(k)):h.overlay.unbind(k+d.id),p.undelegate("*","focusin"+l)),i.removeAttr(n).unbind(k)}}),e.init()}function D(b){var c=this,d=b.elements,e=d.tooltip,f=".bgiframe-"+b.id;a.extend(c,{init:function(){d.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),d.bgiframe.appendTo(e),e.bind("tooltipmove"+f,c.adjust)},adjust:function(){var a=b.get("dimensions"),c=b.plugins.tip,f=d.tip,g,h;h=parseInt(e.css("border-left-width"),10)||0,h={left:-h,top:-h},c&&f&&(g=c.corner.precedance==="x"?["width","left"]:["height","top"],h[g[1]]-=f[g[0]]()),d.bgiframe.css(h).css(a)},destroy:function(){d.bgiframe.remove(),e.unbind(f)}}),c.init()}"use strict";var b=!0,c=!1,d=null,e,f,g,h,i={},j="ui-tooltip",k="ui-widget",l="ui-state-disabled",m="div.qtip."+j,n=j+"-default",o=j+"-focus",p=j+"-hover",q=j+"-fluid",r="-31000px",s="_replacedByqTip",t="oldtitle",u;f=a.fn.qtip=function(g,h,i){var j=(""+g).toLowerCase(),k=d,l=a.makeArray(arguments).slice(1),m=l[l.length-1],n=this[0]?a.data(this[0],"qtip"):d;if(!arguments.length&&n||j==="api")return n;if("string"==typeof g)return this.each(function(){var d=a.data(this,"qtip");if(!d)return b;m&&m.timeStamp&&(d.cache.event=m);if(j!=="option"&&j!=="options"||!h)d[j]&&d[j].apply(d[j],l);else{if(!a.isPlainObject(h)&&i===e)return k=d.get(h),c;d.set(h,i)}}),k!==d?k:this;if("object"==typeof g||!arguments.length)return n=w(a.extend(b,{},g)),f.bind.call(this,n,m)},f.bind=function(d,j){return this.each(function(k){function r(b){function d(){p.render(typeof b=="object"||l.show.ready),m.show.add(m.hide).unbind(o)}if(p.cache.disabled)return c;p.cache.event=a.extend({},b),p.cache.target=b?a(b.target):[e],l.show.delay>0?(clearTimeout(p.timers.show),p.timers.show=setTimeout(d,l.show.delay),n.show!==n.hide&&m.hide.bind(n.hide,function(){clearTimeout(p.timers.show)})):d()}var l,m,n,o,p,q;q=a.isArray(d.id)?d.id[k]:d.id,q=!q||q===c||q.length<1||i[q]?f.nextid++:i[q]=q,o=".qtip-"+q+"-create",p=y.call(this,q,d);if(p===c)return b;l=p.options,a.each(g,function(){this.initialize==="initialize"&&this(p)}),m={show:l.show.target,hide:l.hide.target},n={show:a.trim(""+l.show.event).replace(/ /g,o+" ")+o,hide:a.trim(""+l.hide.event).replace(/ /g,o+" ")+o},/mouse(over|enter)/i.test(n.show)&&!/mouse(out|leave)/i.test(n.hide)&&(n.hide+=" mouseleave"+o),m.show.bind("mousemove"+o,function(a){h={pageX:a.pageX,pageY:a.pageY,type:"mousemove"},p.cache.onTarget=b}),m.show.bind(n.show,r),(l.show.ready||l.prerender)&&r(j)})},g=f.plugins={Corner:function(a){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var b=a.charAt(0);this.precedance=b==="t"||b==="b"?"y":"x",this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y},this.abbrev=function(){var a=this.x.substr(0,1),b=this.y.substr(0,1);return a===b?a:a==="c"||a!=="c"&&b!=="c"?b+a:a+b},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone}}},offset:function(b,c){function j(a,b){d.left+=b*a.scrollLeft(),d.top+=b*a.scrollTop()}var d=b.offset(),e=b.closest("body")[0],f=c,g,h,i;if(f){do f.css("position")!=="static"&&(h=f.position(),d.left-=h.left+(parseInt(f.css("borderLeftWidth"),10)||0)+(parseInt(f.css("marginLeft"),10)||0),d.top-=h.top+(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0),!g&&(i=f.css("overflow"))!=="hidden"&&i!=="visible"&&
(g=f));while((f=a(f[0].offsetParent)).length);g&&g[0]!==e&&j(g,1)}return d},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_","."))||c,fn:{attr:function(b,c){if(this.length){var d=this[0],e="title",f=a.data(d,"qtip");if(b===e&&f&&"object"==typeof f&&f.options.suppress)return arguments.length<2?a.attr(d,t):(f&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",c),this.attr(t,c))}return a.fn["attr"+s].apply(this,arguments)},clone:function(b){var c=a([]),d="title",e=a.fn["clone"+s].apply(this,arguments);return b||e.filter("["+t+"]").attr("title",function(){return a.attr(this,t)}).removeAttr(t),e}}},a.each(g.fn,function(c,d){if(!d||a.fn[c+s])return b;var e=a.fn[c+s]=a.fn[c];a.fn[c]=function(){return d.apply(this,arguments)||e.apply(this,arguments)}}),a.ui||(a["cleanData"+s]=a.cleanData,a.cleanData=function(b){for(var c=0,d;(d=b[c])!==e;c++)try{a(d).triggerHandler("removeqtip")}catch(f){}a["cleanData"+s](b)}),f.version="nightly",f.nextid=0,f.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),f.zindex=15e3,f.defaults={prerender:c,id:c,overwrite:b,suppress:b,content:{text:b,attr:"title",title:{text:c,button:c}},position:{my:"top left",at:"bottom right",target:c,container:c,viewport:c,adjust:{x:0,y:0,mouse:b,resize:b,method:"flip flip"},effect:function(b,d,e){a(this).animate(d,{duration:200,queue:c})}},show:{target:c,event:"mouseenter",effect:b,delay:90,solo:c,ready:c,autofocus:c},hide:{target:c,event:"mouseleave",effect:b,delay:0,fixed:c,inactive:c,leave:"window",distance:c},style:{classes:"",widget:c,width:c,height:c,def:b},events:{render:d,move:d,show:d,hide:d,toggle:d,visible:d,focus:d,blur:d}},g.ajax=function(a){var b=a.plugins.ajax;return"object"==typeof b?b:a.plugins.ajax=new z(a)},g.ajax.initialize="render",g.ajax.sanitize=function(a){var b=a.content,c;b&&"ajax"in b&&(c=b.ajax,typeof c!="object"&&(c=a.content.ajax={url:c}),"boolean"!=typeof c.once&&c.once&&(c.once=!!c.once))},a.extend(b,f.defaults,{content:{ajax:{loading:b,once:b}}}),g.imagemap=function(b,c,d){function n(a,b,c){var d=0,e=1,f=1,g=0,h=0,i=a.width,j=a.height;while(i>0&&j>0&&e>0&&f>0){i=Math.floor(i/2),j=Math.floor(j/2),c.x==="left"?e=i:c.x==="right"?e=a.width-i:e+=Math.floor(i/2),c.y==="top"?f=j:c.y==="bottom"?f=a.height-j:f+=Math.floor(j/2),d=b.length;while(d--){if(b.length<2)break;g=b[d][0]-a.offset.left,h=b[d][1]-a.offset.top,(c.x==="left"&&g>=e||c.x==="right"&&g<=e||c.x==="center"&&(g<e||g>a.width-e)||c.y==="top"&&h>=f||c.y==="bottom"&&h<=f||c.y==="center"&&(h<f||h>a.height-f))&&b.splice(d,1)}}return{left:b[0][0],top:b[0][1]}}b.jquery||(b=a(b));var e=(b[0].shape||b.attr("shape")).toLowerCase(),f=(b[0].coords||b.attr("coords")).split(","),g=[],h=a('img[usemap="#'+b.parent("map").attr("name")+'"]'),i=h.offset(),j={width:0,height:0,offset:{top:1e10,right:0,bottom:0,left:1e10}},k=0,l=0,m;i.left+=Math.ceil((h.outerWidth()-h.width())/2),i.top+=Math.ceil((h.outerHeight()-h.height())/2);if(e==="poly"){k=f.length;while(k--)l=[parseInt(f[--k],10),parseInt(f[k+1],10)],l[0]>j.offset.right&&(j.offset.right=l[0]),l[0]<j.offset.left&&(j.offset.left=l[0]),l[1]>j.offset.bottom&&(j.offset.bottom=l[1]),l[1]<j.offset.top&&(j.offset.top=l[1]),g.push(l)}else g=a.map(f,function(a){return parseInt(a,10)});switch(e){case"rect":j={width:Math.abs(g[2]-g[0]),height:Math.abs(g[3]-g[1]),offset:{left:Math.min(g[0],g[2]),top:Math.min(g[1],g[3])}};break;case"circle":j={width:g[2]+2,height:g[2]+2,offset:{left:g[0],top:g[1]}};break;case"poly":a.extend(j,{width:Math.abs(j.offset.right-j.offset.left),height:Math.abs(j.offset.bottom-j.offset.top)}),c.string()==="centercenter"?j.offset={left:j.offset.left+j.width/2,top:j.offset.top+j.height/2}:(j.offset=n(j,g.slice(),c),d&&(d[0]==="flip"||d[1]==="flip")&&(j.flipoffset=n(j,g.slice(),{x:c.x==="left"?"right":c.x==="right"?"left":"center",y:c.y==="top"?"bottom":c.y==="bottom"?"top":"center"}),j.flipoffset.left-=j.offset.left,j.flipoffset.top-=j.offset.top)),j.width=j.height=0}return j.offset.left+=i.left,j.offset.top+=i.top,j},g.tip=function(a){var b=a.plugins.tip;return"object"==typeof b?b:a.plugins.tip=new B(a)},g.tip.initialize="render",g.tip.sanitize=function(a){var c=a.style,d;c&&"tip"in c&&(d=a.style.tip,typeof d!="object"&&(a.style.tip={corner:d}),/string|boolean/i.test(typeof d.corner)||(d.corner=b),typeof d.width!="number"&&delete d.width,typeof d.height!="number"&&delete d.height,typeof d.border!="number"&&d.border!==b&&delete d.border,typeof d.offset!="number"&&delete d.offset)},a.extend(b,f.defaults,{style:{tip:{corner:b,mimic:c,width:6,height:6,border:b,offset:0}}}),g.svg=function(b,c){var d=a(document),e=b[0],f={width:0,height:0,offset:{top:1e10,left:1e10}},g,h,i,j,k;if(e.getBBox&&e.parentNode){g=e.getBBox(),h=e.getScreenCTM(),i=e.farthestViewportElement||e;if(!i.createSVGPoint)return f;j=i.createSVGPoint(),j.x=g.x,j.y=g.y,k=j.matrixTransform(h),f.offset.left=k.x,f.offset.top=k.y,j.x+=g.width,j.y+=g.height,k=j.matrixTransform(h),f.width=k.x-f.offset.left,f.height=k.y-f.offset.top,f.offset.left+=d.scrollLeft(),f.offset.top+=d.scrollTop()}return f},g.modal=function(a){var b=a.plugins.modal;return"object"==typeof b?b:a.plugins.modal=new C(a)},g.modal.initialize="render",g.modal.sanitize=function(a){a.show&&(typeof a.show.modal!="object"?a.show.modal={on:!!a.show.modal}:typeof a.show.modal.on=="undefined"&&(a.show.modal.on=b))},g.modal.zindex=f.zindex+1e3,a.extend(b,f.defaults,{show:{modal:{on:c,effect:b,blur:b,escape:b}}}),g.bgiframe=function(b){var d=a.browser,e=b.plugins.bgiframe;return a("select, object").length<1||!d.msie||(""+d.version).charAt(0)!=="6"?c:"object"==typeof e?e:b.plugins.bgiframe=new D(b)},g.bgiframe.initialize="render"}),$(document).ready(function(){$(".blockApresentation").text($("img").mouseenter(function(){$(".luz_lampada").fadeIn("slow")})),$(".blockApresentation").text($("img").mouseout(function(){$(".luz_lampada").fadeOut("slow")})),$(".legenda_titulo").click(function(){return window.carousel.scroll(1),!1}),titulo_bg_resize(),title_shadow_bg_resize(),works_shadow_bg_resize(),footer_shadow_bg_resize(),$(window).on("resize",titulo_bg_resize),$(window).on("resize",title_shadow_bg_resize),$(window).on("resize",works_shadow_bg_resize),$(window).on("resize",footer_shadow_bg_resize);var a=$(location).attr("href");setTimeout(function(){a.indexOf("/contact_forms")>-1&&$(".btnContact").click(),a.indexOf("/posts")>-1&&$(".btnBlog").click(),a.indexOf("/jobs")>-1&&$(".btJobs").click()},500),$("#contact_form_submit").click(function(){$.ajax({url:"/contact_forms",type:"POST",data:$(".new_contact_form").serialize(),dataType:"json",success:function(a){$(document).ready(function(){$("div.qtip").remove(),$(".notice_success span").text("Seu formulário foi enviado!").fadeIn()})},error:function(a,b,c){var d=$.parseJSON(a.responseText).errors;$("div.qtip").remove();for(property in d){var e={content:{text:d[property][0]},position:{my:"bottom left",at:"top center",adjust:{x:-70}},show:{event:!1,ready:!0},hide:!1,style:{classes:"tooltip-contact ui-tooltip-shadow ui-tooltip-red",width:"220px"}};$("."+property+"_field_line input").qtip(e),$("."+property+"_field_line textarea").qtip(e)}$.each(d,function(a,b){a,b})}})})}),function(){}.call(this);var NewsCarouselLoader={carousel:null,initCallback:function(b,c){NewsCarouselLoader.init(b,c)},init:function(b,c){window.carousel=b,this.carousel=b,this.carousel.resize(this.carousel.options.size+1),this.loadItem(b,c,this.carousel.options.start-1,this.carousel.options.start-1),this.loadOtherItems(this.carousel.options.size-1,this.carousel.options.start-1)},loadItem:function(b,c,d,e){$.ajax({url:"/posts/"+d+"/to/"+e,dataType:"json",success:function(a){NewsCarouselLoader.addItem(b,d,e,a)}})},addItem:function(b,c,d,e){$(e).each(function(a,d){b.add(c+1,NewsCarouselLoader.getItemHTML(d))})},loadOtherItems:function(b,c){for(var d=1;d<=b;d++){prevCount=c-d,nextCount=c+d,prevCount>0&&this.loadItem(this.carousel,null,prevCount,prevCount),nextCount<=b&&this.loadItem(this.carousel,null,nextCount,nextCount);if(!(prevCount>0)&&!(nextCount<=b))break}$.ajax({url:"/posts/all/menu",dataType:"json",success:function(a){var b=AssemblerMenu.assemble(a);carousel.add(1,AssemblerMenu.assemble(a))}})},getItemHTML:function(b){var c='<li class="jcarousel-item-'+b.id+'">'+'<div class="post_titulo"><span>'+(new Date(b.date)).format("dd/mm/yyyy")+"</span><br/>"+b.title+"</div>"+'<div class="post_texto">'+b.content+"</div>"+"</li>";return c}};AssemblerMenu={assemble:function(a){var b=$(document.createElement("ul"));$(b).addClass("blogMenu");var c=this;return $(a).each(function(d,e){$(b).append(c.createItem(d,e)),d<$(a).size()-1&&(item=$(document.createElement("li")),$(item).addClass("liHrMenu"),line=document.createElement("hr"),$(line).addClass("hrMenu"),$(item).append(line),$(b).append(item))}),b},createItem:function(a,b){var c=$(document.createElement("li"));$(c).addClass("itemMenu"),$(c).attr("href","/posts/"+b.id),$(c).click(function(b){window.carousel.scroll(a+2)});var d=document.createElement("div");$(d).addClass("dateItemMenu"),$(d).text((new Date(b.date)).format("dd/mm/yyyy"));var e=document.createElement("div");return $(e).addClass("titleItemMenu"),$(e).text(b.title),$(c).append(d),$(c).append(e),c}},function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;window.CKEDITOR||(window.CKEDITOR=function(){var a={timestamp:"B8DJ5M3",version:"3.6.2",revision:"7275",_:{},status:"unloaded",basePath:function(){var a=window.CKEDITOR_BASEPATH||"";if(!a){var b=document.getElementsByTagName("script");for(var c=0;c<b.length;c++){var d=b[c].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(d){a=d[1];break}}}a.indexOf(":/")==-1&&(a.indexOf("/")===0?a=location.href.match(/^.*?:\/\/[^\/]*/)[0]+a:a=location.href.match(/^[^\?]*\/(?:)/)[0]+a);if(!a)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return a}(),getUrl:function(a){return a.indexOf(":/")==-1&&a.indexOf("/")!==0&&(a=this.basePath+a),this.timestamp&&a.charAt(a.length-1)!="/"&&!/[&?]t=/.test(a)&&(a+=(a.indexOf("?")>=0?"&":"?")+"t="+this.timestamp),a}},b=window.CKEDITOR_GETURL;if(b){var c=a.getUrl;a.getUrl=function(d){return b.call(a,d)||c.call(a,d)}}return a}());var a=CKEDITOR;a.event||(a.event=function(){},a.event.implementOn=function(b){var c=a.event.prototype;for(var d in c)b[d]==undefined&&(b[d]=c[d])},a.event.prototype=function(){var a=function(a){var b=a.getPrivate&&a.getPrivate()||a._||(a._={});return b.events||(b.events={})},b=function(a){this.name=a,this.listeners=[]};return b.prototype={getListenerIndex:function(a){for(var b=0,c=this.listeners;b<c.length;b++)if(c[b].fn==a)return b;return-1}},{on:function(c,d,e,f,g){var h=a(this),i=h[c]||(h[c]=new b(c));if(i.getListenerIndex(d)<0){var j=i.listeners;e||(e=this),isNaN(g)&&(g=10);var k=this,l=function(a,b,g,h){var i={name:c,sender:this,editor:a,data:b,listenerData:f,stop:g,cancel:h,removeListener:function(){k.removeListener(c,d)}};return d.call(e,i),i.data};l.fn=d,l.priority=g;for(var m=j.length-1;m>=0;m--)if(j[m].priority<=g){j.splice(m+1,0,l);return}j.unshift(l)}},fire:function(){var b=!1,c=function(){b=!0},d=!1,e=function(){d=!0};return function(f,g,h){var i=a(this)[f],j=b,k=d;b=d=!1;if(i){var l=i.listeners;if(l.length){l=l.slice(0);for(var m=0;m<l.length;m++){var n=l[m].call(this,h,g,c,e);typeof n!="undefined"&&(g=n);if(b||d)break}}}var o=d||(typeof g=="undefined"?!1:g);return b=j,d=k,o}}(),fireOnce:function(b,c,d){var e=this.fire(b,c,d);return delete a(this)[b],e},removeListener:function(b,c){var d=a(this)[b];if(d){var e=d.getListenerIndex(c);e>=0&&d.listeners.splice(e,1)}},hasListeners:function(b){var c=a(this)[b];return c&&c.listeners.length>0}}}()),a.editor||(a.ELEMENT_MODE_NONE=0,a.ELEMENT_MODE_REPLACE=1,a.ELEMENT_MODE_APPENDTO=2,a.editor=function(b,c,d,e){var f=this;f._={instanceConfig:b,element:c,data:e},f.elementMode=d||0,a.event.call(f),f._init()},a.editor.replace=function(b,c){var d=b;if(typeof d!="object"){d=document.getElementById(b),d&&d.tagName.toLowerCase()in{style:1,script:1,base:1,link:1,meta:1,title:1}&&(d=null);if(!d){var e=0,f=document.getElementsByName(b);while((d=f[e++])&&d.tagName.toLowerCase()!="textarea");}if(!d)throw'[CKEDITOR.editor.replace] The element with id or name "'+b+'" was not found.'}return d.style.visibility="hidden",new a.editor(c,d,1)},a.editor.appendTo=function(b,c,d){var e=b;if(typeof e!="object"){e=document.getElementById(b);if(!e)throw'[CKEDITOR.editor.appendTo] The element with id "'+b+'" was not found.'}return new a.editor(c,e,2,d)},a.editor.prototype={_init:function(){var b=a.editor._pending||(a.editor._pending=[]);b.push(this)},fire:function(b,c){return a.event.prototype.fire.call(this,b,c,this)},fireOnce:function(b,c){return a.event.prototype.fireOnce.call(this,b,c,this)}},a.event.implementOn(a.editor.prototype,!0)),a.env||(a.env=function(){var a=navigator.userAgent.toLowerCase(),b=window.opera,c={ie:!1,opera:!!b&&b.version,webkit:a.indexOf(" applewebkit/")>-1,air:a.indexOf(" adobeair/")>-1,mac:a.indexOf("macintosh")>-1,quirks:document.compatMode=="BackCompat",mobile:a.indexOf("mobile")>-1,iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;return a!=b&&a!="["+b+"]"},secure:location.protocol=="https:"};c.gecko=navigator.product=="Gecko"&&!c.webkit&&!c.opera;var d=0;c.ie&&(d=parseFloat(a.match(/msie (\d+)/)[1]),c.ie8=!!document.documentMode,c.ie8Compat=document.documentMode==8,c.ie9Compat=document.documentMode==9,c.ie7Compat=d==7&&!document.documentMode||document.documentMode==7,c.ie6Compat=d<7||c.quirks);if(c.gecko){var e=a.match(/rv:([\d\.]+)/);e&&(e=e[1].split("."),d=e[0]*1e4+(e[1]||0)*100+ +(e[2]||0))}return c.opera&&(d=parseFloat(b.version())),c.air&&(d=parseFloat(a.match(/ adobeair\/(\d+)/)[1])),c.webkit&&(d=parseFloat(a.match(/ applewebkit\/(\d+)/)[1])),c.version=d,c.isCompatible=c.iOS&&d>=534||!c.mobile&&(c.ie&&d>=6||c.gecko&&d>=10801||c.opera&&d>=9.5||c.air&&d>=1||c.webkit&&d>=522||!1),c.cssClass="cke_browser_"+(c.ie?"ie":c.gecko?"gecko":c.opera?"opera":c.webkit?"webkit":"unknown"),c.quirks&&(c.cssClass+=" cke_browser_quirks"),c.ie&&(c.cssClass+=" cke_browser_ie"+(c.version<7?"6":c.version>=8?document.documentMode:"7"),c.quirks&&(c.cssClass+=" cke_browser_iequirks")),c.gecko&&d<10900&&(c.cssClass+=" cke_browser_gecko18"),c.air&&(c.cssClass+=" cke_browser_air"),c}());var b=a.env,c=b.ie;a.status=="unloaded"&&function(){a.event.implementOn(a),a.loadFullCore=function(){if(a.status!="basic_ready"){a.loadFullCore._load=1;return}delete a.loadFullCore;var b=document.createElement("script");b.type="text/javascript",b.src=a.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(b)},a.loadFullCoreTimeout=0,a.replaceClass="ckeditor",a.replaceByClassEnabled=1;var c=function(c,d,e,f){if(b.isCompatible){a.loadFullCore&&a.loadFullCore();var g=e(c,d,f);return a.add(g),g}return null};a.replace=function(b,d){return c(b,d,a.editor.replace)},a.appendTo=function(b,d,e){return c(b,d,a.editor.appendTo,e)},a.add=function(a){var b=this._.pending||(this._.pending=[]);b.push(a)},a.replaceAll=function(){var a=document.getElementsByTagName("textarea");for(var b=0;b<a.length;b++){var c=null,d=a[b];if(!d.name&&!d.id)continue;if(typeof arguments[0]=="string"){var e=new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)");if(!e.test(d.className))continue}else if(typeof arguments[0]=="function"){c={};if(arguments[0](d,c)===!1)continue}this.replace(d,c)}},function(){var b=function(){var b=a.loadFullCore,c=a.loadFullCoreTimeout;a.replaceByClassEnabled&&a.replaceAll(a.replaceClass),a.status="basic_ready",b&&b._load?b():c&&setTimeout(function(){a.loadFullCore&&a.loadFullCore()},c*1e3)};window.addEventListener?window.addEventListener("load",b,!1):window.attachEvent&&window.attachEvent("onload",b)}(),a.status="basic_loaded"}(),a.dom={};var d=a.dom;(function(){var b=[];a.on("reset",function(){b=[]}),a.tools={arrayCompare:function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0},clone:function(a){var b;if(a&&a instanceof Array){b=[];for(var c=0;c<a.length;c++)b[c]=this.clone(a[c]);return b}if(a===null||typeof a!="object"||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp)return a;b=new a.constructor;for(var d in a){var e=a[d];b[d]=this.clone(e)}return b},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},extend:function(a){var b=arguments.length,c,d;typeof (c=arguments[b-1])=="boolean"?b--:typeof (c=arguments[b-2])=="boolean"&&(d=arguments[b-1],b-=2);for(var e=1;e<b;e++){var f=arguments[e];for(var g in f)if(c===!0||a[g]==undefined)if(!d||g in d)a[g]=f[g]}return a},prototypedCopy:function(a){var b=function(){};return b.prototype=a,new b},isArray:function(a){return!!a&&a instanceof Array},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},cssStyleToDomStyle:function(){var a=document.createElement("div").style,b=typeof a.cssFloat!="undefined"?"cssFloat":typeof a.styleFloat!="undefined"?"styleFloat":"float";return function(a){return a=="float"?b:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);var b,c=[];for(var d=0;d<a.length;d++)b=a[d],/@import|[{}]/.test(b)?c.push("<style>"+b+"</style>"):c.push('<link type="text/css" rel=stylesheet href="'+b+'">');return c.join("")},htmlEncode:function(a){var b=function(a){var b=new d.element("span");return b.setText(a),b.getHtml()},c=b("\n").toLowerCase()=="<br>"?function(a){return b(a).replace(/<br>/gi,"\n")}:b,e=b(">")==">"?function(a){return c(a).replace(/>/g,"&gt;")}:c,f=b("  ")=="&nbsp; "?function(a){return e(a).replace(/&nbsp;/g," ")}:e;return this.htmlEncode=f,this.htmlEncode(a)},htmlEncodeAttr:function(a){return a.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return"cke_"+this.getNextNumber()},override:function(a,b){return b(a)},setTimeout:function(a,b,c,d,e){return e||(e=window),c||(c=e),e.setTimeout(function(){d?a.apply(c,[].concat(d)):a.apply(c)},b||0)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(b){return b.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(b){return b.replace(a,"")}}(),rtrim:function(){var a=/[ \t\n\r]+$/g;return function(b){return b.replace(a,"")}}(),indexOf:Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},bind:function(a,b){return function(){return a.apply(b,arguments)}},createClass:function(b){var c=b.$,d=b.base,e=b.privates||b._,f=b.proto,g=b.statics;if(e){var h=c;c=function(){var b=this,c=b._||(b._={});for(var d in e){var f=e[d];c[d]=typeof f=="function"?a.tools.bind(f,b):f}h.apply(b,arguments)}}return d&&(c.prototype=this.prototypedCopy(d.prototype),c.prototype.constructor=c,c.prototype.base=function(){this.base=d.prototype.base,d.apply(this,arguments),this.base=arguments.callee}),f&&this.extend(c.prototype,f,!0),g&&this.extend(c,g,!0),c},addFunction:function(a,c){return b.push(function(){return a.apply(c||this,arguments)})-1},removeFunction:function(a){b[a]=null},callFunction:function(a){var c=b[a];return c&&c.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){return function(a){return a+(!a||isNaN(Number(a))?"":"px")}}(),convertToPx:function(){var b;return function(c){return b||(b=d.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',a.document),a.document.getBody().append(b)),/%$/.test(c)?c:(b.setStyle("width",c),b.$.clientWidth)}}(),repeat:function(a,b){return(new Array(b+1)).join(a)},tryThese:function(){var a;for(var b=0,c=arguments.length;b<c;b++){var d=arguments[b];try{a=d();break}catch(e){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join("-")}}})();var e=a.tools;a.dtd=function(){var a=e.extend,b={isindex:1,fieldset:1},c={input:1,button:1,select:1,textarea:1,label:1},d=a({a:1},c),f=a({iframe:1},d),g={hr:1,ul:1,menu:1,div:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,mark:1,time:1,meter:1,command:1,keygen:1,output:1,progress:1,audio:1,video:1,details:1,datagrid:1,datalist:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},h={ins:1,del:1,script:1,style:1},i=a({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1,wbr:1},h),j=a({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1,mark:1},i),k=a({p:1},j),l=a({iframe:1},j,c),m={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,mark:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,audio:1,video:1,details:1,datagrid:1,datalist:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},n=a({a:1},l),o={tr:1},p={"#":1},q=a({param:1},m),r=a({form:1},b,f,g,k),s={li:1},t={style:1,script:1},u={base:1,link:1,meta:1,title:1},v=a(u,t),w={head:1,body:1},x={html:1},y={address:1,blockquote:1,center:1,dir:1,div:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,audio:1,video:1,details:1,datagrid:1,datalist:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};return{$nonBodyContent:a(x,w,u),$block:y,$blockLimit:{body:1,div:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,audio:1,video:1,details:1,datagrid:1,datalist:1,td:1,th:1,caption:1,form:1},$inline:n,$body:a({script:1,style:1},y),$cdata:{script:1,style:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1,wbr:1},$listItem:{dd:1,dt:1,li:1},$list:{ul:1,ol:1,dl:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1,param:1,audio:1,video:1},$captionBlock:{caption:1,legend:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1,mark:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},html:w,head:v,style:p,script:p,body:r,base:{},link:{},meta:{},title:p,col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:r,td:r,br:{},wbr:{},th:r,center:r,kbd:n,button:a(k,g),basefont:{},h5:n,h4:n,samp:n,h6:n,ol:s,h1:n,h3:n,option:p,h2:n,form:a(b,f,g,k),select:{optgroup:1,option:1},font:n,ins:n,menu:s,abbr:n,label:n,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:n,tfoot:o,cite:n,li:r,input:{},iframe:r,strong:n,textarea:p,noframes:r,big:n,small:n,span:n,hr:{},dt:n,sub:n,optgroup:{option:1},param:{},bdo:n,"var":n,div:r,object:q,sup:n,dd:r,strike:n,area:{},dir:s,map:a({area:1,form:1,p:1},b,h,g),applet:q,dl:{dt:1,dd:1},del:n,isindex:{},fieldset:a({legend:1},m),thead:o,ul:s,acronym:n,b:n,a:l,blockquote:r,caption:n,i:n,u:n,tbody:o,s:n,address:a(f,k),tt:n,legend:n,q:n,pre:a(i,d),p:n,em:n,dfn:n,section:r,header:r,footer:r,nav:r,article:r,aside:r,figure:r,dialog:r,hgroup:r,mark:n,time:n,meter:n,menu:n,command:n,keygen:n,output:n,progress:q,audio:q,video:q,details:q,datagrid:q,datalist:q}}();var f=a.dtd;d.event=function(a){this.$=a},d.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this,b=a.getKey();if(a.$.ctrlKey||a.$.metaKey)b+=1114112;return a.$.shiftKey&&(b+=2228224),a.$.altKey&&(b+=4456448),b},preventDefault:function(a){var b=this.$;b.preventDefault?b.preventDefault():b.returnValue=!1,a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=this.$.target||this.$.srcElement;return a?new d.node(a):null}},a.CTRL=1114112,a.SHIFT=2228224,a.ALT=4456448,d.domObject=function(a){a&&(this.$=a)},d.domObject.prototype=function(){var b=function(b,c){return function(e){typeof a!="undefined"&&b.fire(c,new d.event(e))}};return{getPrivate:function(){var a;return(a=this.getCustomData("_"))||this.setCustomData("_",a={}),a},on:function(c){var d=this,e=d.getCustomData("_cke_nativeListeners");e||(e={},d.setCustomData("_cke_nativeListeners",e));if(!e[c]){var f=e[c]=b(d,c);d.$.attachEvent?d.$.attachEvent("on"+c,f):d.$.addEventListener&&d.$.addEventListener(c,f,!!a.event.useCapture)}return a.event.prototype.on.apply(d,arguments)},removeListener:function(b){var c=this;a.event.prototype.removeListener.apply(c,arguments);if(!c.hasListeners(b)){var d=c.getCustomData("_cke_nativeListeners"),e=d&&d[b];e&&(c.$.detachEvent?c.$.detachEvent("on"+b,e):c.$.removeEventListener&&c.$.removeEventListener(b,e,!1),delete d[b])}},removeAllListeners:function(){var a=this,b=a.getCustomData("_cke_nativeListeners");for(var c in b){var d=b[c];a.$.detachEvent?a.$.detachEvent("on"+c,d):a.$.removeEventListener&&a.$.removeEventListener(c,d,!1),delete b[c]}}}}(),function(b){var c={};a.on("reset",function(){c={}}),b.equals=function(a){return a&&a.$===this.$},b.setCustomData=function(a,b){var d=this.getUniqueId(),e=c[d]||(c[d]={});return e[a]=b,this},b.getCustomData=function(a){var b=this.$["data-cke-expando"],d=b&&c[b];return d&&d[a]},b.removeCustomData=function(a){var b=this.$["data-cke-expando"],d=b&&c[b],e=d&&d[a];return typeof e!="undefined"&&delete d[a],e||null},b.clearCustomData=function(){this.removeAllListeners();var a=this.$["data-cke-expando"];a&&delete c[a]},b.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=e.getNextNumber())},a.event.implementOn(b)}(d.domObject.prototype),d.window=function(a){d.domObject.call(this,a)},d.window.prototype=new d.domObject,e.extend(d.window.prototype,{focus:function(){b.webkit&&this.$.parent&&this.$.parent.focus(),this.$.focus()},getViewPaneSize:function(){var a=this.$.document,b=a.compatMode=="CSS1Compat";return{width:(b?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(b?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if("pageXOffset"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};var b=a.document;return{x:b.documentElement.scrollLeft||b.body.scrollLeft||0,y:b.documentElement.scrollTop||b.body.scrollTop||0}}}),d.document=function(a){d.domObject.call(this,a)};var g=d.document;g.prototype=new d.domObject,e.extend(g.prototype,{appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var b=new d.element("link");b.setAttributes({rel:"stylesheet",type:"text/css",href:a}),this.getHead().append(b)}},appendStyleText:function(a){var b=this;if(b.$.createStyleSheet){var c=b.$.createStyleSheet("");c.cssText=a}else{var e=new d.element("style",b);e.append(new d.text(a,b)),b.getHead().append(e)}},createElement:function(a,b){var c=new d.element(a,this);return b&&(b.attributes&&c.setAttributes(b.attributes),b.styles&&c.setStyles(b.styles)),c},createText:function(a){return new d.text(a,this)},focus:function(){this.getWindow().focus()},getById:function(a){var b=this.$.getElementById(a);return b?new d.element(b):null},getByAddress:function(a,b){var c=this.$.documentElement;for(var e=0;c&&e<a.length;e++){var f=a[e];if(!b){c=c.childNodes[f];continue}var g=-1;for(var h=0;h<c.childNodes.length;h++){var i=c.childNodes[h];if(b===!0&&i.nodeType==3&&i.previousSibling&&i.previousSibling.nodeType==3)continue;g++;if(g==f){c=i;break}}}return c?new d.node(c):null},getElementsByTag:function(a,b){return(!c||document.documentMode>8)&&b&&(a=b+":"+a),new d.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName("head")[0];return a?a=new d.element(a):a=this.getDocumentElement().append(new d.element("head"),!0),(this.getHead=function(){return a})()},getBody:function(){var a=new d.element(this.$.body);return(this.getBody=function(){return a})()},getDocumentElement:function(){var a=new d.element(this.$.documentElement);return(this.getDocumentElement=function(){return a})()},getWindow:function(){var a=new d.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return a})()},write:function(a){var c=this;c.$.open("text/html","replace"),b.isCustomDomain()&&(c.$.domain=document.domain),c.$.write(a),c.$.close()}}),d.node=function(a){if(a){switch(a.nodeType){case 9:return new g(a);case 1:return new d.element(a);case 3:return new d.text(a)}d.domObject.call(this,a)}return this},d.node.prototype=new d.domObject,a.NODE_ELEMENT=1,a.NODE_DOCUMENT=9,a.NODE_TEXT=3,a.NODE_COMMENT=8,a.NODE_DOCUMENT_FRAGMENT=11,a.POSITION_IDENTICAL=0,a.POSITION_DISCONNECTED=1,a.POSITION_FOLLOWING=2,a.POSITION_PRECEDING=4,a.POSITION_IS_CONTAINED=8,a.POSITION_CONTAINS=16,e.extend(d.node.prototype,{appendTo:function(a,b){return a.append(this,b),a},clone:function(a,b){var c=this.$.cloneNode(a),e=function(c){if(c.nodeType!=1)return;b||c.removeAttribute("id",!1),c.removeAttribute("data-cke-expando",!1);if(a){var d=c.childNodes;for(var f=0;f<d.length;f++)e(d[f])}};return e(c),new d.node(c)},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){return a.$.parentNode.insertBefore(this.$,a.$.nextSibling),a},insertBefore:function(a){return a.$.parentNode.insertBefore(this.$,a.$),a},insertBeforeMe:function(a){return this.$.parentNode.insertBefore(a.$,this.$),a},getAddress:function(a){var b=[],c=this.getDocument().$.documentElement,d=this.$;while(d&&d!=c){var e=d.parentNode;e&&b.unshift(this.getIndex.call({$:d},a)),d=e}return b},getDocument:function(){return new g(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){var b=this.$,c=0;while(b=b.previousSibling){if(a&&b.nodeType==3&&(!b.nodeValue.length||b.previousSibling&&b.previousSibling.nodeType==3))continue;c++}return c},getNextSourceNode:function(a,b,c){if(c&&!c.call){var d=c;c=function(a){return!a.equals(d)}}var e=!a&&this.getFirst&&this.getFirst(),f;if(!e){if(this.type==1&&c&&c(this,!0)===!1)return null;e=this.getNext()}while(!e&&(f=(f||this).getParent())){if(c&&c(f,!0)===!1)return null;e=f.getNext()}return e?c&&c(e)===!1?null:b&&b!=e.type?e.getNextSourceNode(!1,b,c):e:null},getPreviousSourceNode:function(a,b,c){if(c&&!c.call){var d=c;c=function(a){return!a.equals(d)}}var e=!a&&this.getLast&&this.getLast(),f;if(!e){if(this.type==1&&c&&c(this,!0)===!1)return null;e=this.getPrevious()}while(!e&&(f=(f||this).getParent())){if(c&&c(f,!0)===!1)return null;e=f.getPrevious()}return e?c&&c(e)===!1?null:b&&e.type!=b?e.getPreviousSourceNode(!1,b,c):e:null},getPrevious:function(a){var b=this.$,c;do b=b.previousSibling,c=b&&new d.node(b);while(c&&a&&!a(c));return c},getNext:function(a){var b=this.$,c;do b=b.nextSibling,c=b&&new d.node(b);while(c&&a&&!a(c));return c},getParent:function(){var a=this.$.parentNode;return a&&a.nodeType==1?new d.node(a):null},getParents:function(a){var b=this,c=[];do c[a?"push":"unshift"](b);while(b=b.getParent());return c},getCommonAncestor:function(a){var b=this;if(a.equals(b))return b;if(a.contains&&a.contains(b))return a;var c=b.contains?b:b.getParent();do if(c.contains(a))return c;while(c=c.getParent());return null},getPosition:function(a){var b=this.$,c=a.$;if(b.compareDocumentPosition)return b.compareDocumentPosition(c);if(b==c)return 0;if(this.type==1&&a.type==1){if(b.contains){if(b.contains(c))return 20;if(c.contains(b))return 10}if("sourceIndex"in b)return b.sourceIndex<0||c.sourceIndex<0?1:b.sourceIndex<c.sourceIndex?4:2}var d=this.getAddress(),e=a.getAddress(),f=Math.min(d.length,e.length);for(var g=0;g<=f-1;g++)if(d[g]!=e[g]){if(g<f)return d[g]<e[g]?4:2;break}return d.length<e.length?20:10},getAscendant:function(a,b){var c=this.$,e;b||(c=c.parentNode);while(c){if(c.nodeName&&(e=c.nodeName.toLowerCase(),typeof a=="string"?e==a:e in a))return new d.node(c);c=c.parentNode}return null},hasAscendant:function(
a,b){var c=this.$;b||(c=c.parentNode);while(c){if(c.nodeName&&c.nodeName.toLowerCase()==a)return!0;c=c.parentNode}return!1},move:function(a,b){a.append(this.remove(),b)},remove:function(a){var b=this.$,c=b.parentNode;if(c){if(a)for(var d;d=b.firstChild;)c.insertBefore(b.removeChild(d),b);c.removeChild(b)}return this},replace:function(a){this.insertBefore(a),a.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){var a=this,b;while(a.getFirst&&(b=a.getFirst())){if(b.type==3){var c=e.ltrim(b.getText()),d=b.getLength();if(!c){b.remove();continue}c.length<d&&(b.split(d-c.length),a.$.removeChild(a.$.firstChild))}break}},rtrim:function(){var a=this,d;while(a.getLast&&(d=a.getLast())){if(d.type==3){var f=e.rtrim(d.getText()),g=d.getLength();if(!f){d.remove();continue}f.length<g&&(d.split(f.length),a.$.lastChild.parentNode.removeChild(a.$.lastChild))}break}!c&&!b.opera&&(d=a.$.lastChild,d&&d.type==1&&d.nodeName.toLowerCase()=="br"&&d.parentNode.removeChild(d))},isReadOnly:function(){var a=this;this.type!=1&&(a=this.getParent());if(a&&typeof a.$.isContentEditable!="undefined")return!a.$.isContentEditable&&!a.data("cke-editable");var b=a;while(b){if(b.is("body")||!!b.data("cke-editable"))break;if(b.getAttribute("contentEditable")=="false")return!0;if(b.getAttribute("contentEditable")=="true")break;b=b.getParent()}return!1}}),d.nodeList=function(a){this.$=a},d.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){var b=this.$[a];return b?new d.node(b):null}},d.element=function(a,b){typeof a=="string"&&(a=(b?b.$:document).createElement(a)),d.domObject.call(this,a)};var h=d.element;h.get=function(a){return a&&(a.$?a:new h(a))},h.prototype=new d.node,h.createFromHtml=function(a,b){var c=new h("div",b);return c.setHtml(a),c.getFirst().remove()},h.setMarker=function(a,b,c,d){var f=b.getCustomData("list_marker_id")||b.setCustomData("list_marker_id",e.getNextNumber()).getCustomData("list_marker_id"),g=b.getCustomData("list_marker_names")||b.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return a[f]=b,g[c]=1,b.setCustomData(c,d)},h.clearAllMarkers=function(a){for(var b in a)h.clearMarkers(a,a[b],1)},h.clearMarkers=function(a,b,c){var d=b.getCustomData("list_marker_names"),e=b.getCustomData("list_marker_id");for(var f in d)b.removeCustomData(f);b.removeCustomData("list_marker_names"),c&&(b.removeCustomData("list_marker_id"),delete a[e])},e.extend(h.prototype,{type:1,addClass:function(a){var b=this.$.className;if(b){var c=new RegExp("(?:^|\\s)"+a+"(?:\\s|$)","");c.test(b)||(b+=" "+a)}this.$.className=b||a},removeClass:function(a){var b=this.getAttribute("class");if(b){var c=new RegExp("(?:^|\\s+)"+a+"(?=\\s|$)","i");c.test(b)&&(b=b.replace(c,"").replace(/^\s+/,""),b?this.setAttribute("class",b):this.removeAttribute("class"))}},hasClass:function(a){var b=new RegExp("(?:^|\\s+)"+a+"(?=\\s|$)","");return b.test(this.getAttribute("class"))},append:function(a,b){var c=this;return typeof a=="string"&&(a=c.getDocument().createElement(a)),b?c.$.insertBefore(a.$,c.$.firstChild):c.$.appendChild(a.$),a},appendHtml:function(a){var b=this;if(!b.$.childNodes.length)b.setHtml(a);else{var c=new h("div",b.getDocument());c.setHtml(a),c.moveChildren(b)}},appendText:function(a){this.$.text!=undefined?this.$.text+=a:this.append(new d.text(a))},appendBogus:function(){var a=this,c=a.getLast();while(c&&c.type==3&&!e.rtrim(c.getText()))c=c.getPrevious();if(!c||!c.is||!c.is("br")){var d=b.opera?a.getDocument().createText(""):a.getDocument().createElement("br");b.gecko&&d.setAttribute("type","_moz"),a.append(d)}},breakParent:function(a){var b=this,c=new d.range(b.getDocument());c.setStartAfter(b),c.setEndAfter(a);var e=c.extractContents();c.insertNode(b.remove()),e.insertAfterNode(b)},contains:c||b.webkit?function(a){var b=this.$;return a.type!=1?b.contains(a.getParent().$):b!=a.$&&b.contains(a.$)}:function(a){return!!(this.$.compareDocumentPosition(a.$)&16)},focus:function(){function a(){try{this.$.focus()}catch(a){}}return function(b){b?e.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return c?a.replace(/<\?[^>]*>/g,""):a},getOuterHtml:function(){var a=this;if(a.$.outerHTML)return a.$.outerHTML.replace(/<\?[^>]*>/,"");var b=a.$.ownerDocument.createElement("div");return b.appendChild(a.$.cloneNode(!0)),b.innerHTML},setHtml:function(a){return this.$.innerHTML=a},setText:function(a){return h.prototype.setText=this.$.innerText!=undefined?function(a){return this.$.innerText=a}:function(a){return this.$.textContent=a},this.setText(a)},getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return c&&(b.ie7Compat||b.ie6Compat)?function(b){var c=this;switch(b){case"class":b="className";break;case"http-equiv":b="httpEquiv";break;case"name":return c.$.name;case"tabindex":var d=a.call(c,b);return d!==0&&c.$.tabIndex===0&&(d=null),d;case"checked":var e=c.$.attributes.getNamedItem(b),f=e.specified?e.nodeValue:c.$.checked;return f?"checked":null;case"hspace":case"value":return c.$[b];case"style":return c.$.style.cssText}return a.call(c,b)}:a}(),getChildren:function(){return new d.nodeList(this.$.childNodes)},getComputedStyle:c?function(a){return this.$.currentStyle[e.cssStyleToDomStyle(a)]}:function(a){return this.getWindow().$.getComputedStyle(this.$,"").getPropertyValue(a)},getDtd:function(){var a=f[this.getName()];return this.getDtd=function(){return a},a},getElementsByTag:g.prototype.getElementsByTag,getTabIndex:c?function(){var a=this.$.tabIndex;return a===0&&!f.$tabIndex[this.getName()]&&parseInt(this.getAttribute("tabindex"),10)!==0&&(a=-1),a}:b.webkit?function(){var a=this.$.tabIndex;return a==undefined&&(a=parseInt(this.getAttribute("tabindex"),10),isNaN(a)&&(a=-1)),a}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(c&&!(document.documentMode>8)){var b=this.$.scopeName;b!="HTML"&&(a=b.toLowerCase()+":"+a)}return(this.getName=function(){return a})()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild,c=b&&new d.node(b);return c&&a&&!a(c)&&(c=c.getNext(a)),c},getLast:function(a){var b=this.$.lastChild,c=b&&new d.node(b);return c&&a&&!a(c)&&(c=c.getPrevious(a)),c},getStyle:function(a){return this.$.style[e.cssStyleToDomStyle(a)]},is:function(){var a=this.getName();for(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this,c=b.getName();if(b.isReadOnly()||b.getComputedStyle("display")=="none"||b.getComputedStyle("visibility")=="hidden"||f.$nonEditable[c])return!1;if(a!==!1){var d=f[c]||f.span;return d&&d["#"]}return!0},isIdentical:function(a){if(this.getName()!=a.getName())return!1;var b=this.$.attributes,d=a.$.attributes,e=b.length,f=d.length;for(var g=0;g<e;g++){var h=b[g];if(h.nodeName=="_moz_dirty")continue;if((!c||h.specified&&h.nodeName!="data-cke-expando")&&h.nodeValue!=a.getAttribute(h.nodeName))return!1}if(c)for(g=0;g<f;g++){h=d[g];if(h.specified&&h.nodeName!="data-cke-expando"&&h.nodeValue!=this.getAttribute(h.nodeName))return!1}return!0},isVisible:function(){var c=this,d=(c.$.offsetHeight||c.$.offsetWidth)&&c.getComputedStyle("visibility")!="hidden",e,f;return d&&(b.webkit||b.opera)&&(e=c.getWindow(),!e.equals(a.document.getWindow())&&(f=e.$.frameElement)&&(d=(new h(f)).isVisible())),!!d},isEmptyInlineRemoveable:function(){if(!f.$removeEmpty[this.getName()])return!1;var a=this.getChildren();for(var b=0,c=a.count();b<c;b++){var d=a.getItem(b);if(d.type==1&&d.data("cke-bookmark"))continue;if(d.type==1&&!d.isEmptyInlineRemoveable()||d.type==3&&e.trim(d.getText()))return!1}return!0},hasAttributes:c&&(b.ie7Compat||b.ie6Compat)?function(){var a=this.$.attributes;for(var b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(c.specified)return!0}}return!1}:function(){var a=this.$.attributes,b=a.length,c={"data-cke-expando":1,_moz_dirty:1};return b>0&&(b>2||!c[a[0].nodeName]||b==2&&!c[a[1].nodeName])},hasAttribute:function(){function a(a){var b=this.$.attributes.getNamedItem(a);return!!b&&!!b.specified}return c&&b.version<8?function(b){return b=="name"?!!this.$.name:a.call(this,b)}:a}(),hide:function(){this.setStyle("display","none")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c==a)return;var d;if(b)while(d=c.lastChild)a.insertBefore(c.removeChild(d),a.firstChild);else while(d=c.firstChild)a.appendChild(c.removeChild(d))},mergeSiblings:function(){function a(a,b,c){if(b&&b.type==1){var d=[];while(b.data("cke-bookmark")||b.isEmptyInlineRemoveable()){d.push(b),b=c?b.getNext():b.getPrevious();if(!b||b.type!=1)return}if(a.isIdentical(b)){var e=c?a.getLast():a.getFirst();while(d.length)d.shift().move(a,!c);b.moveChildren(a,!c),b.remove(),e&&e.type==1&&e.mergeSiblings()}}}return function(b){var c=this;if(b!==!1&&!f.$removeEmpty[c.getName()]&&!c.is("a"))return;a(c,c.getNext(),!0),a(c,c.getPrevious())}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var a=function(a,b){return this.$.setAttribute(a,b),this};return c&&(b.ie7Compat||b.ie6Compat)?function(b,c){var d=this;return b=="class"?d.$.className=c:b=="style"?d.$.style.cssText=c:b=="tabindex"?d.$.tabIndex=c:b=="checked"?d.$.checked=c:a.apply(d,arguments),d}:b.ie8Compat&&b.secure?function(b,c){if(b=="src"&&c.match(/^http:\/\//))try{a.apply(this,arguments)}catch(d){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,a[b]);return this},setValue:function(a){return this.$.value=a,this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return c&&(b.ie7Compat||b.ie6Compat)?function(b){b=="class"?b="className":b=="tabindex"&&(b="tabIndex"),a.call(this,b)}:a}(),removeAttributes:function(a){if(e.isArray(a))for(var b=0;b<a.length;b++)this.removeAttribute(a[b]);else for(var c in a)a.hasOwnProperty(c)&&this.removeAttribute(c)},removeStyle:function(a){var b=this;b.setStyle(a,""),b.$.style.removeAttribute&&b.$.style.removeAttribute(e.cssStyleToDomStyle(a)),b.$.style.cssText||b.removeAttribute("style")},setStyle:function(a,b){return this.$.style[e.cssStyleToDomStyle(a)]=b,this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){c?(a=Math.round(a*100),this.setStyle("filter",a>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")")):this.setStyle("opacity",a)},unselectable:b.gecko?function(){this.$.style.MozUserSelect="none",this.on("dragstart",function(a){a.data.preventDefault()})}:b.webkit?function(){this.$.style.KhtmlUserSelect="none",this.on("dragstart",function(a){a.data.preventDefault()})}:function(){if(c||b.opera){var a=this.$,d,e=0;a.unselectable="on";while(d=a.all[e++])switch(d.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:d.unselectable="on"}}},getPositionedAncestor:function(){var a=this;while(a.getName()!="html"){if(a.getComputedStyle("position")!="static")return a;a=a.getParent()}return null},getDocumentPosition:function(a){var d=this,e=0,f=0,g=d.getDocument(),i=g.getBody(),j=g.$.compatMode=="BackCompat";if(document.documentElement.getBoundingClientRect){var k=d.$.getBoundingClientRect(),l=g.$,m=l.documentElement,n=m.clientTop||i.$.clientTop||0,o=m.clientLeft||i.$.clientLeft||0,p=!0;if(c){var q=g.getDocumentElement().contains(d),r=g.getBody().contains(d);p=j&&r||!j&&q}p&&(e=k.left+(!j&&m.scrollLeft||i.$.scrollLeft),e-=o,f=k.top+(!j&&m.scrollTop||i.$.scrollTop),f-=n)}else{var s=d,t=null,u;while(s&&s.getName()!="body"&&s.getName()!="html"){e+=s.$.offsetLeft-s.$.scrollLeft,f+=s.$.offsetTop-s.$.scrollTop,s.equals(d)||(e+=s.$.clientLeft||0,f+=s.$.clientTop||0);var v=t;while(v&&!v.equals(s))e-=v.$.scrollLeft,f-=v.$.scrollTop,v=v.getParent();t=s,s=(u=s.$.offsetParent)?new h(u):null}}if(a){var w=d.getWindow(),x=a.getWindow();if(!w.equals(x)&&w.$.frameElement){var y=(new h(w.$.frameElement)).getDocumentPosition(a);e+=y.x,f+=y.y}}return document.documentElement.getBoundingClientRect||b.gecko&&!j&&(e+=d.$.clientLeft?1:0,f+=d.$.clientTop?1:0),{x:e,y:f}},scrollIntoView:function(a){var b=this,c=b.getWindow(),d=c.getViewPaneSize().height,e=d*-1;a?e+=d:(e+=b.$.offsetHeight||0,e+=parseInt(b.getComputedStyle("marginBottom")||0,10)||0);var f=b.getDocumentPosition();e+=f.y,e=e<0?0:e;var g=c.getScrollPosition().y;(e>g||e<g-d)&&c.$.scrollTo(0,e)},setState:function(a){var b=this;switch(a){case 1:b.addClass("cke_on"),b.removeClass("cke_off"),b.removeClass("cke_disabled");break;case 0:b.addClass("cke_disabled"),b.removeClass("cke_off"),b.removeClass("cke_on");break;default:b.addClass("cke_off"),b.removeClass("cke_on"),b.removeClass("cke_disabled")}},getFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(d){a.src=a.src,c&&b.version<7&&window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);</script>")')}return a&&new g(a.contentWindow.document)},copyAttributes:function(a,b){var d=this,e=d.$.attributes;b=b||{};for(var f=0;f<e.length;f++){var g=e[f],h=g.nodeName.toLowerCase(),i;if(h in b)continue;if(h=="checked"&&(i=d.getAttribute(h)))a.setAttribute(h,i);else if(g.specified||c&&g.nodeValue&&h=="value")i=d.getAttribute(h),i===null&&(i=g.nodeValue),a.setAttribute(h,i)}d.$.style.cssText!==""&&(a.$.style.cssText=d.$.style.cssText)},renameNode:function(a){var b=this;if(b.getName()==a)return;var c=b.getDocument(),d=new h(a,c);b.copyAttributes(d),b.moveChildren(d),b.getParent()&&b.$.parentNode.replaceChild(d.$,b.$),d.$["data-cke-expando"]=b.$["data-cke-expando"],b.$=d.$},getChild:function(a){var b=this.$;if(!a.slice)b=b.childNodes[a];else while(a.length>0&&b)b=b.childNodes[a.shift()];return b?new d.node(b):null},getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){this.on("contextmenu",function(a){a.data.getTarget().hasClass("cke_enable_context_menu")||a.data.preventDefault()})},getDirection:function(a){var b=this;return a?b.getComputedStyle("direction")||b.getDirection()||b.getDocument().$.dir||b.getDocument().getBody().getDirection(1):b.getStyle("direction")||b.getAttribute("dir")},data:function(a,b){return a="data-"+a,b===undefined?this.getAttribute(a):(b===!1?this.removeAttribute(a):this.setAttribute(a,b),null)}}),function(){function d(b){var c=0;for(var d=0,e=a[b].length;d<e;d++)c+=parseInt(this.getComputedStyle(a[b][d])||0,10)||0;return c}var a={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};h.prototype.setSize=function(a,e,f){typeof e=="number"&&(f&&(!c||!b.quirks)&&(e-=d.call(this,a)),this.setStyle(a,e+"px"))},h.prototype.getSize=function(a,b){var c=Math.max(this.$["offset"+e.capitalize(a)],this.$["client"+e.capitalize(a)])||0;return b&&(c-=d.call(this,a)),c}}(),a.command=function(b,c){this.uiItems=[],this.exec=function(a){return this.state==0?!1:(this.editorFocus&&b.focus(),c.exec.call(this,b,a)!==!1)},e.extend(this,c,{modes:{wysiwyg:1},editorFocus:1,state:2}),a.event.call(this)},a.command.prototype={enable:function(){var a=this;a.state==0&&a.setState(!a.preserveState||typeof a.previousState=="undefined"?2:a.previousState)},disable:function(){this.setState(0)},setState:function(a){var b=this;return b.state==a?!1:(b.previousState=b.state,b.state=a,b.fire("state"),!0)},toggleState:function(){var a=this;a.state==2?a.setState(1):a.state==1&&a.setState(2)}},a.event.implementOn(a.command.prototype,!0),a.ENTER_P=1,a.ENTER_BR=2,a.ENTER_DIV=3,a.config={customConfig:"config.js",autoUpdateElement:!0,baseHref:"",contentsCss:a.basePath+"contents.css",contentsLangDirection:"ui",contentsLanguage:"",language:"",defaultLanguage:"en",enterMode:1,forceEnterMode:!1,shiftEnterMode:2,corePlugins:"",docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',bodyId:"",bodyClass:"",fullPage:!1,height:200,plugins:"about,a11yhelp,basicstyles,bidi,blockquote,button,clipboard,colorbutton,colordialog,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,filebrowser,find,flash,font,format,forms,horizontalrule,htmldataprocessor,iframe,image,indent,justify,keystrokes,link,list,liststyle,maximize,newpage,pagebreak,pastefromword,pastetext,popup,preview,print,removeformat,resize,save,scayt,smiley,showblocks,showborders,sourcearea,stylescombo,table,tabletools,specialchar,tab,templates,toolbar,undo,wysiwygarea,wsc",extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,theme:"default",skin:"kama",width:"",baseFloatZIndex:1e4};var i=a.config;a.focusManager=function(a){return a.focusManager?a.focusManager:(this.hasFocus=!1,this._={editor:a},this)},a.focusManager.prototype={focus:function(){var b=this;b._.timer&&clearTimeout(b._.timer);if(!b.hasFocus){a.currentInstance&&a.currentInstance.focusManager.forceBlur();var c=b._.editor;c.container.getChild(1).addClass("cke_focus"),b.hasFocus=!0,c.fire("focus")}},blur:function(){var a=this;a._.timer&&clearTimeout(a._.timer),a._.timer=setTimeout(function(){delete a._.timer,a.forceBlur()},100)},forceBlur:function(){if(this.hasFocus){var a=this._.editor;a.container.getChild(1).removeClass("cke_focus"),this.hasFocus=!1,a.fire("blur")}}},function(){var b={};a.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,lt:1,lv:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sk:1,sl:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-cn":1,zh:1},load:function(b,c,d){if(!b||!a.lang.languages[b])b=this.detect(c,b);this[b]?d(b,this[b]):a.scriptLoader.load(a.getUrl("lang/"+b+".js"),function(){d(b,this[b])},this)},detect:function(b,c){var d=this.languages;c=c||navigator.userLanguage||navigator.language||b;var e=c.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),f=e[1],g=e[2];return d[f+"-"+g]?f=f+"-"+g:d[f]||(f=null),a.lang.detect=f?function(){return f}:function(a){return a},f||b}}}(),a.scriptLoader=function(){var b={},d={};return{load:function(e,f,g,i){var j=typeof e=="string";j&&(e=[e]),g||(g=a);var k=e.length,l=[],m=[],n=function(a){f&&(j?f.call(g,a):f.call(g,l,m))};if(k===0){n(!0);return}var o=function(b,c){(c?l:m).push(b),--k<=0&&(i&&a.document.getDocumentElement().removeStyle("cursor"),n(c))},p=function(a,c){b[a]=1;var e=d[a];delete d[a];for(var f=0;f<e.length;f++)e[f](a,c)},q=function(e){if(b[e]){o(e,!0);return}var g=d[e]||(d[e]=[]);g.push(o);if(g.length>1)return;var i=new h("script");i.setAttributes({type:"text/javascript",src:e}),f&&(c?i.$.onreadystatechange=function(){if(i.$.readyState=="loaded"||i.$.readyState=="complete")i.$.onreadystatechange=null,p(e,!0)}:(i.$.onload=function(){setTimeout(function(){p(e,!0)},0)},i.$.onerror=function(){p(e,!1)})),i.appendTo(a.document.getHead())};i&&a.document.getDocumentElement().setStyle("cursor","wait");for(var r=0;r<k;r++)q(e[r])}}}(),a.resourceManager=function(a,b){var c=this;c.basePath=a,c.fileName=b,c.registered={},c.loaded={},c.externals={},c._={waitingList:{}}},a.resourceManager.prototype={add:function(b,c){if(this.registered[b])throw'[CKEDITOR.resourceManager.add] The resource name "'+b+'" is already registered.';a.fire(b+e.capitalize(this.fileName)+"Ready",this.registered[b]=c||{})},get:function(a){return this.registered[a]||null},getPath:function(b){var c=this.externals[b];return a.getUrl(c&&c.dir||this.basePath+b+"/")},getFilePath:function(b){var c=this.externals[b];return a.getUrl(this.getPath(b)+(c&&typeof c.file=="string"?c.file:this.fileName+".js"))},addExternal:function(a,b,c){a=a.split(",");for(var d=0;d<a.length;d++){var e=a[d];this.externals[e]={dir:b,file:c}}},load:function(b,c,d){e.isArray(b)||(b=b?[b]:[]);var f=this.loaded,g=this.registered,h=[],i={},j={};for(var k=0;k<b.length;k++){var l=b[k];if(!l)continue;if(!f[l]&&!g[l]){var m=this.getFilePath(l);h.push(m),m in i||(i[m]=[]),i[m].push(l)}else j[l]=this.get(l)}a.scriptLoader.load(h,function(a,b){if(b.length)throw'[CKEDITOR.resourceManager.load] Resource name "'+i[b[0]].join(",")+'" was not found at "'+b[0]+'".';for(var e=0;e<a.length;e++){var g=i[a[e]];for(var h=0;h<g.length;h++){var k=g[h];j[k]=this.get(k),f[k]=1}}c.call(d,j)},this)}},a.plugins=new a.resourceManager("plugins/","plugin");var j=a.plugins;j.load=e.override(j.load,function(a){return function(b,c,d){var f={},g=function(b){a.call(this,b,function(a){e.extend(f,a);var b=[];for(var h in a){var i=a[h],j=i&&i.requires;if(j)for(var k=0;k<j.length;k++)f[j[k]]||b.push(j[k])}if(b.length)g.call(this,b);else{for(h in f)i=f[h],i.onLoad&&!i.onLoad._called&&(i.onLoad(),i.onLoad._called=1);c&&c.call(d||window,f)}},this)};g.call(this,b)}}),j.setLang=function(a,b,c){var d=this.get(a),f=d.langEntries||(d.langEntries={}),g=d.lang||(d.lang=[]);e.indexOf(g,b)==-1&&g.push(b),f[b]=c},a.skins=function(){var b={},c={},d=function(d,f,g,h){function k(a,b){return a.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(a,c,d,e){return/^\/|^\w?:/.test(d)?a:"url("+b+c+d+e+")"})}var i=b[f];d.skin||(d.skin=i,i.init&&i.init(d));var j=function(b){for(var d=0;d<b.length;d++)b[d]=a.getUrl(c[f]+b[d])};g=i[g];var l=!g||!!g._isLoaded;if(l)h&&h();else{var m=g._pending||(g._pending=[]);m.push(h);if(m.length>1)return;var n=!g.css||!g.css.length,o=!g.js||!g.js.length,p=function(){if(n&&o){g._isLoaded=1;for(var a=0;a<m.length;a++)m[a]&&m[a]()}};if(!n){var q=g.css;if(e.isArray(q)){j(q);for(var r=0;r<q.length;r++)a.document.appendStyleSheet(q[r])}else q=k(q,a.getUrl(c[f])),a.document.appendStyleText(q);g.css=q,n=1}o||(j(g.js),a.scriptLoader.load(g.js,function(){o=1,p()})),p()}};return{add:function(d,e){b[d]=e,e.skinPath=c[d]||(c[d]=a.getUrl("skins/"+d+"/"))},load:function(e,f,g){var h=e.skinName,i=e.skinPath;b[h]?d(e,h,f,g):(c[h]=i,a.scriptLoader.load(a.getUrl(i+"skin.js"),function(){d(e,h,f,g)}))}}}(),a.themes=new a.resourceManager("themes/","theme"),a.ui=function(a){return a.ui?a.ui:(this._={handlers:{},items:{},editor:a},this)};var k=a.ui;k.prototype={add:function(a,b,c){this._.items[a]={type:b,command:c.command||null,args:Array.prototype.slice.call(arguments,2)}},create:function(a){var b=this,c=b._.items[a],d=c&&b._.handlers[c.type],f=c&&c.command&&b._.editor.getCommand(c.command),g=d&&d.create.apply(b,c.args);return c&&(g=e.extend(g,b._.editor.skin[c.type],!0)),f&&f.uiItems.push(g),g},addHandler:function(a,b){this._.handlers[a]=b}},a.event.implementOn(k),function(){function s(){var a,b=this._.commands,c=this.mode;if(!c)return;for(var d in b)a=b[d],a[a.startDisabled?"disable":this.readOnly&&!a.readOnly?"disable":a.modes[c]?"enable":"disable"]()}var c=0,d=function(){var b="editor"+ ++c;return a.instances&&a.instances[b]?d():b},f={},g=function(b){var c=b.config.customConfig;if(!c)return!1;c=a.getUrl(c);var d=f[c]||(f[c]={});return d.fn?(d.fn.call(b,b.config),(a.getUrl(b.config.customConfig)==c||!g(b))&&b.fireOnce("customConfigLoaded")):a.scriptLoader.load(c,function(){a.editorConfig?d.fn=a.editorConfig:d.fn=function(){},g(b)}),!0},l=function(a,b){a.on("customConfigLoaded",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);e.extend(a.config,b,!0),delete a.config.on}m(a)}),b&&b.customConfig!=undefined&&(a.config.customConfig=b.customConfig),g(a)||a.fireOnce("customConfigLoaded")},m=function(b){var c=b.config.skin.split(","),d=c[0],e=a.getUrl(c[1]||"skins/"+d+"/");b.skinName=d,b.skinPath=e,b.skinClass="cke_skin_"+d,b.tabIndex=b.config.tabIndex||b.element.getAttribute("tabindex")||0,b.readOnly=!!b.config.readOnly||!!b.element.getAttribute("disabled"),b.fireOnce("configLoaded"),p(b)},n=function(c){a.lang.load(c.config.language,c.config.defaultLanguage,function(a,d){c.langCode=a,c.lang=e.prototypedCopy(d),b.gecko&&b.version<10900&&c.lang.dir=="rtl"&&(c.lang.dir="ltr"),c.fire("langLoaded");var f=c.config;f.contentsLangDirection=="ui"&&(f.contentsLangDirection=c.lang.dir),o(c)})},o=function(c){var d=c.config,f=d.plugins,g=d.extraPlugins,h=d.removePlugins;if(g){var i=new RegExp("(?:^|,)(?:"+g.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");f=f.replace(i,""),f+=","+g}h&&(i=new RegExp("(?:^|,)(?:"+h.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),f=f.replace(i,"")),b.air&&(f+=",adobeair"),j.load(f.split(","),function(b){var d=[],f=[],g=[];c.plugins=b;for(var h in b){var i=b[h],k=i.lang,l=j.getPath(h),m=null;i.path=l,k&&(m=e.indexOf(k,c.langCode)>=0?c.langCode:k[0],!i.langEntries||!i.langEntries[m]?g.push(a.getUrl(l+"lang/"+m+".js")):(e.extend(c.lang,i.langEntries[m]),m=null)),f.push(m),d.push(i)}a.scriptLoader.load(g,function(){var a=["beforeInit","init","afterInit"];for(var b=0;b<a.length;b++)for(var g=0;g<d.length;g++){var h=d[g];b===0&&f[g]&&h.lang&&e.extend(c.lang,h.langEntries[f[g]]),h[a[b]]&&h[a[b]](c)}c.fire("pluginsLoaded"),q(c)})})},p=function(b){a.skins.load(b,"editor",function(){n(b)})},q=function(b){var c=b.config.theme;a.themes.load(c,function(){var d=b.theme=a.themes.get(c);d.path=a.themes.getPath(c),d.build(b),b.config.autoUpdateElement&&r(b)})},r=function(a){var b=a.element;if(a.elementMode==1&&b.is("textarea")){var c=b.$.form&&new h(b.$.form);if(c){function d(){a.updateElement()}c.on("submit",d),!c.$.submit.nodeName&&!c.$.submit.length&&(c.$.submit=e.override(c.$.submit,function(b){return function(){a.updateElement(),b.apply?b.apply(this,arguments):b()}})),a.on("destroy",function(){c.removeListener("submit",d)})}}};a.editor.prototype._init=function(){var b=this,c=h.get(b._.element),f=b._.instanceConfig;delete b._.element,delete b._.instanceConfig,b._.commands={},b._.styles=[],b.element=c,b.name=c&&b.elementMode==1&&(c.getId()||c.getNameAtt())||d();if(b.name in a.instances)throw'[CKEDITOR.editor] The instance "'+b.name+'" already exists.';b.id=e.getNextId(),b.config=e.prototypedCopy(i),b.ui=new k(b),b.focusManager=new a.focusManager(b),a.fire("instanceCreated",null,b),b.on("mode",s,null,null,1),b.on("readOnly",s,null,null,1),l(b,f)}}(),e.extend(a.editor.prototype,{addCommand:function(b,c){return this._.commands[b]=new a.command(this,c)},addCss:function(a){this._.styles.push(a)},destroy:function(b){var c=this;b||c.updateElement(),c.fire("destroy"),c.theme&&c.theme.destroy(c),a.remove(c),a.fire("instanceDestroyed",null,c)},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b,command:c};if(c&&c.state!=0&&this.fire("beforeCommandExec",d)!==!0){d.returnValue=c.exec(d.commandData);if(!c.async&&this.fire("afterCommandExec",d)!==!0)return d.returnValue}return!1},getCommand:function(a){return this._.commands[a]},getData:function(){var a=this;a.fire("beforeGetData");var b=a._.data;if(typeof b!="string"){var c=a.element;c&&a.elementMode==1?b=c.is("textarea")?c.getValue():c.getHtml():b=""}return b={dataValue:b},a.fire("getData",b),b.dataValue},getSnapshot:function(){var a=this.fire("getSnapshot");if(typeof a!="string"){var b=this.element;b&&this.elementMode==1&&(a=b.is("textarea")?b.getValue():b.getHtml())}return a},loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:function(a,b,c){b&&this.on("dataReady",function(a){a.removeListener(),b.call(a.editor)});var d={dataValue:a};!c&&this.fire("setData",d),this._.data=d.dataValue,!c&&this.fire("afterSetData",d)},setReadOnly:function(a){a=a==undefined||a,this.readOnly!=a&&(this.readOnly=a,this.fire("readOnly"))},insertHtml:function(a){this.fire("insertHtml",a)},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",a)},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this.mayBeDirty&&(this._.previousValue=this.getSnapshot())},updateElement:function(){var a=this,b=a.element;if(b&&a.elementMode==1){var c=a.getData();a.config.htmlEncodeOutput&&(c=e.htmlEncode(c)),b.is("textarea")?b.setValue(c):b.setHtml(c)}}}),a.on("loaded",function(){var b=a.editor._pending;if(b){delete a.editor._pending;for(var c=0;c<b.length;c++)b[c]._init()}}),a.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'>])*)\\/?>))","g")}},function(){var b=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,c={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};a.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(a){var d=this,e,g,h=0,i;while(e=d._.htmlPartsRegex.exec(a)){var j=e.index;if(j>h){var k=a.substring(h,j);i?i.push(k):d.onText(k)}h=d._.htmlPartsRegex.lastIndex;if(g=e[1]){g=g.toLowerCase(),i&&f.$cdata[g]&&(d.onCDATA(i.join("")),i=null);if(!i){d.onTagClose(g);continue}}if(i){i.push(e[0]);continue}if(g=e[3]){g=g.toLowerCase();if(/="/.test(g))continue;var l={},n,o=e[4],p=!!o&&o.charAt(o.length-1)=="/";if(o)while(n=b.exec(o)){var q=n[1].toLowerCase(),r=n[2]||n[3]||n[4]||"";!r&&c[q]?l[q]=q:l[q]=r}d.onTagOpen(g,l,p),!i&&f.$cdata[g]&&(i=[]);continue}(g=e[2])&&d.onComment(g)}a.length>h&&d.onText(a.substring(h,a.length))}}}(),a.htmlParser.comment=function(a){this.value=a,this._={isBlockLike:!1}},a.htmlParser.comment.prototype={type:8,writeHtml:function(a,b){var c=this.value;if(b){if(!(c=b.onComment(c,this)))return;if(typeof c!="string"){c.parent=this.parent,c.writeHtml(a,b);return}}a.comment(c)}},function(){a.htmlParser.text=function(a){this.value=a,this._={isBlockLike:!1}},a.htmlParser.text.prototype={type:3,writeHtml:function(a,b){var c=this.value;if(b&&!(c=b.onText(c,this)))return;a.text(c)}}}(),function(){a.htmlParser.cdata=function(a){this.value=a},a.htmlParser.cdata.prototype={type:3,writeHtml:function(a){a.write(this.value)}}}(),a.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function j(a){return a.name=="a"&&a.attributes.href||f.$removeEmpty[a.name]}var d=e.extend({table:1,ul:1,ol:1,dl:1},f.table,f.ul,f.ol,f.dl),g=c&&b.version<8?{dd:1,dt:1}:{},h={ol:1,ul:1},i=e.extend({},{html:1},f.html,f.body,f.head,{style:1,script:1});a.htmlParser.fragment.fromHtml=function(b,k,l){function x(a){var b;if(s.length>0)for(var c=0;c<s.length;c++){var d=s[c],e=d.name,g=f[e],h=u.name&&f[u.name];(!h||h[e])&&(!a||!g||g[a]||!f[a])?(b||(y(),b=1),d=d.clone(),d.parent=u,u=d,s.splice(c,1),c--):e==u.name&&(z(u,u.parent,1),c--)}}function y(){while(t.length)u.add(t.shift())}function z(a,b,c){if(a.previous!==undefined)return;b=b||u||r;var d=u;if(k&&(!b.type||b.name=="body")){var g,h;a.attributes&&(h=a.attributes["data-cke-real-element-type"])?g=h:g=a.name,g&&!(g in f.$body||g=="body"||a.isOrphan)&&(u=b,q.onTagOpen(k,{}),a.returnPoint=b=u)}if(a._.isBlockLike&&a.name!="pre"&&a.name!="textarea"){var i=a.children.length,j=a.children[i-1],l;j&&j.type==3&&((l=e.rtrim(j.value))?j.value=l:a.children.length=i-1)}b.add(a),a.returnPoint?(u=a.returnPoint,delete a.returnPoint):u=c?b:d}var q=new a.htmlParser,r=l||new a.htmlParser.fragment,s=[],t=[],u=r,v=!1,w=!1;q.onTagOpen=function(b,c,e,k){var l=new a.htmlParser.element(b,c);l.isUnknown&&e&&(l.isEmpty=!0),l.isOptionalClose=b in g||k;if(j(l)){s.push(l);return}if(b=="pre")w=!0;else{if(b=="br"&&w){u.add(new a.htmlParser.text("\n"));return}b=="textarea"&&(v=!0)}if(b=="br"){t.push(l);return}for(;;){var r=u.name,D=r?f[r]||(u._.isBlockLike?f.div:f.span):i;if(!(!l.isUnknown&&!u.isUnknown&&!D[b]))break;if(u.isOptionalClose)q.onTagClose(r);else if(b in h&&r in h){var E=u.children,F=E[E.length-1];(!F||F.name!="li")&&z(F=new a.htmlParser.element("li"),u),!l.returnPoint&&(l.returnPoint=u),u=F}else if(b in f.$listItem&&r!=b)q.onTagOpen(b=="li"?"ul":"dl",{},0,1);else if(r in d&&r!=b)!l.returnPoint&&(l.returnPoint=u),u=u.parent;else{r in f.$inline&&s.unshift(u);if(!u.parent){l.isOrphan=1;break}z(u,u.parent,1)}}x(b),y(),l.parent=u,l.isEmpty?z(l):u=l},q.onTagClose=function(a){for(var b=s.length-1;b>=0;b--)if(a==s[b].name){s.splice(b,1);return}var c=[],d=[],e=u;while(e!=r&&e.name!=a)e._.isBlockLike||d.unshift(e),c.push(e),e=e.returnPoint||e.parent;if(e!=r){for(b=0;b<c.length;b++){var f=c[b];z(f,f.parent)}u=e,u.name=="pre"&&(w=!1),u.name=="textarea"&&(v=!1),e._.isBlockLike&&y(),z(e,e.parent),e==u&&(u=u.parent),s=s.concat(d)}a=="body"&&(k=!1)},q.onText=function(b){if((!u._.hasInlineStarted||t.length)&&!w&&!v){b=e.ltrim(b);if(b.length===0)return}y(),x(),k&&(!u.type||u.name=="body")&&e.trim(b)&&this.onTagOpen(k,{},0,1),!w&&!v&&(b=b.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),u.add(new a.htmlParser.text(b))},q.onCDATA=function(b){u
.add(new a.htmlParser.cdata(b))},q.onComment=function(b){y(),x(),u.add(new a.htmlParser.comment(b))},q.parse(b),y(!c&&1);while(u!=r)z(u,u.parent,1);return r},a.htmlParser.fragment.prototype={add:function(a,b){var c=this;isNaN(b)&&(b=c.children.length);var d=b>0?c.children[b-1]:null;if(d){if(a._.isBlockLike&&d.type==3){d.value=e.rtrim(d.value);if(d.value.length===0){c.children.pop(),c.add(a);return}}d.next=a}a.previous=d,a.parent=c,c.children.splice(b,0,a),c._.hasInlineStarted=a.type==3||a.type==1&&!a._.isBlockLike},writeHtml:function(b,c){var d;this.filterChildren=function(){var b=new a.htmlParser.basicWriter;this.writeChildrenHtml.call(this,b,c,!0);var e=b.getHtml();this.children=(new a.htmlParser.fragment.fromHtml(e)).children,d=1},!this.name&&c&&c.onFragment(this),this.writeChildrenHtml(b,d?null:c)},writeChildrenHtml:function(a,b){for(var c=0;c<this.children.length;c++)this.children[c].writeHtml(a,b)}}}(),a.htmlParser.element=function(a,b){var c=this;c.name=a,c.attributes=b||(b={}),c.children=[];var d=b["data-cke-real-element-type"]||a||"",e=d.match(/^cke:(.*)/);e&&(d=e[1]);var g=f,h=!!(g.$nonBodyContent[d]||g.$block[d]||g.$listItem[d]||g.$tableContent[d]||g.$nonEditable[d]||d=="br"),i=!!g.$empty[a];c.isEmpty=i,c.isUnknown=!g[a],c._={isBlockLike:h,hasInlineStarted:i||!h}},a.htmlParser.cssStyle=function(){var b,c=arguments[0],d={};return b=c instanceof a.htmlParser.element?c.attributes.style:c,(b||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,b,c){b=="font-family"&&(c=c.replace(/["']/g,"")),d[b.toLowerCase()]=c}),{rules:d,populate:function(b){var c=this.toString();c&&(b instanceof h?b.setAttribute("style",c):b instanceof a.htmlParser.element?b.attributes.style=c:b.style=c)},toString:function(){var a=[];for(var b in d)d[b]&&a.push(b,":",d[b],";");return a.join("")}}},function(){var b=function(a,b){return a=a[0],b=b[0],a<b?-1:a>b?1:0};a.htmlParser.element.prototype={type:1,add:a.htmlParser.fragment.prototype.add,clone:function(){return new a.htmlParser.element(this.name,this.attributes)},writeHtml:function(c,d){var e=this.attributes,f=this,g=f.name,h,i,j,k;f.filterChildren=function(){if(!k){var b=new a.htmlParser.basicWriter;a.htmlParser.fragment.prototype.writeChildrenHtml.call(f,b,d),f.children=(new a.htmlParser.fragment.fromHtml(b.getHtml(),0,f.clone())).children,k=1}};if(d){for(;;){if(!(g=d.onElementName(g)))return;f.name=g;if(!(f=d.onElement(f)))return;f.parent=this.parent;if(f.name==g)break;if(f.type!=1){f.writeHtml(c,d);return}g=f.name;if(!g){for(var l=0,m=this.children.length;l<m;l++)this.children[l].parent=f.parent;this.writeChildrenHtml.call(f,c,k?null:d);return}}e=f.attributes}c.openTag(g,e);var n=[];for(var o=0;o<2;o++)for(h in e){i=h,j=e[h];if(o==1)n.push([h,j]);else if(d){for(;;){if(!(i=d.onAttributeName(h))){delete e[h];break}if(i!=h){delete e[h],h=i;continue}break}i&&((j=d.onAttribute(f,i,j))===!1?delete e[i]:e[i]=j)}}c.sortAttributes&&n.sort(b);var p=n.length;for(o=0;o<p;o++){var q=n[o];c.attribute(q[0],q[1])}c.openTagClose(g,f.isEmpty),f.isEmpty||(this.writeChildrenHtml.call(f,c,k?null:d),c.closeTag(g))},writeChildrenHtml:function(b,c){a.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments)}}}(),function(){function b(a,b){for(var c=0;a&&c<b.length;c++){var d=b[c];a=a.replace(d[0],d[1])}return a}function c(a,b,c){typeof b=="function"&&(b=[b]);var d,e,f=a.length,g=b&&b.length;if(g){for(d=0;d<f&&a[d].pri<c;d++);for(e=g-1;e>=0;e--){var h=b[e];h&&(h.pri=c,a.splice(d,0,h))}}}function d(a,b,c){if(b)for(var d in b){var e=a[d];a[d]=f(e,b[d],c),e||a.$length++}}function f(a,b,d){if(b)return b.pri=d,a?(a.splice?c(a,b,d):(a.pri>d?a=[b,a]:a=[a,b],a.filter=g),a):(b.filter=b,b)}function g(b){var c=b.type||b instanceof a.htmlParser.fragment;for(var d=0;d<this.length;d++){if(c)var e=b.type,f=b.name;var g=this[d],h=g.apply(window,arguments);if(h===!1)return h;if(c){if(h&&(h.name!=f||h.type!=e))return h}else if(typeof h!="string")return h;h!=undefined&&(b=h)}return b}a.htmlParser.filter=e.createClass({$:function(a){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}},a&&this.addRules(a,10)},proto:{addRules:function(a,b){var e=this;typeof b!="number"&&(b=10),c(e._.elementNames,a.elementNames,b),c(e._.attributeNames,a.attributeNames,b),d(e._.elements,a.elements,b),d(e._.attributes,a.attributes,b),e._.text=f(e._.text,a.text,b)||e._.text,e._.comment=f(e._.comment,a.comment,b)||e._.comment,e._.root=f(e._.root,a.root,b)||e._.root},onElementName:function(a){return b(a,this._.elementNames)},onAttributeName:function(a){return b(a,this._.attributeNames)},onText:function(a){var b=this._.text;return b?b.filter(a):a},onComment:function(a,b){var c=this._.comment;return c?c.filter(a,b):a},onFragment:function(a){var b=this._.root;return b?b.filter(a):a},onElement:function(a){var b=this,c=[b._.elements["^"],b._.elements[a.name],b._.elements.$],d,e;for(var f=0;f<3;f++){d=c[f];if(d){e=d.filter(a,b);if(e===!1)return null;if(e&&e!=a)return b.onNode(e);if(a.parent&&!a.name)break}}return a},onNode:function(b){var c=b.type;return c==1?this.onElement(b):c==3?new a.htmlParser.text(this.onText(b.value)):c==8?new a.htmlParser.comment(this.onComment(b.value)):null},onAttribute:function(a,b,c){var d=this._.attributes[b];if(d){var e=d.filter(c,a,this);if(e===!1)return!1;if(typeof e!="undefined")return e}return c}}})}(),a.htmlParser.basicWriter=e.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a,b){this._.output.push("<",a)},openTagClose:function(a,b){b?this._.output.push(" />"):this._.output.push(">")},attribute:function(a,b){typeof b=="string"&&(b=e.htmlEncodeAttr(b)),this._.output.push(" ",a,'="',b,'"')},closeTag:function(a){this._.output.push("</",a,">")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push("<!--",a,"-->")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(a){var b=this._.output.join("");return a&&this.reset(),b}}}),delete a.loadFullCore,a.instances={},a.document=new g(document),a.add=function(b){a.instances[b.name]=b,b.on("focus",function(){a.currentInstance!=b&&(a.currentInstance=b,a.fire("currentInstance"))}),b.on("blur",function(){a.currentInstance==b&&(a.currentInstance=null,a.fire("currentInstance"))})},a.remove=function(b){delete a.instances[b.name]},a.on("instanceDestroyed",function(){e.isEmpty(this.instances)&&a.fire("reset")}),a.TRISTATE_ON=1,a.TRISTATE_OFF=2,a.TRISTATE_DISABLED=0,d.comment=e.createClass({base:d.node,$:function(a,b){typeof a=="string"&&(a=(b?b.$:document).createComment(a)),this.base(a)},proto:{type:8,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}}),function(){var a={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,dd:1,legend:1,caption:1},b={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,form:1,fieldset:1},e=function(a){var b=a.getChildren();for(var c=0,d=b.count();c<d;c++){var e=b.getItem(c);if(e.type==1&&f.$block[e.getName()])return!0}return!1};d.elementPath=function(d){var f=this,g=null,h=null,i=[],j=d;while(j){if(j.type==1){f.lastElement||(f.lastElement=j);var k=j.getName();c&&j.$.scopeName!="HTML"&&(k=j.$.scopeName.toLowerCase()+":"+k),h||(!g&&a[k]&&(g=j),b[k]&&(!g&&k=="div"&&!e(j)?g=j:h=j)),i.push(j);if(k=="body")break}j=j.getParent()}f.block=g,f.blockLimit=h,f.elements=i}}(),d.elementPath.prototype={compare:function(a){var b=this.elements,c=a&&a.elements;if(!c||b.length!=c.length)return!1;for(var d=0;d<b.length;d++)if(!b[d].equals(c[d]))return!1;return!0},contains:function(a){var b=this.elements;for(var c=0;c<b.length;c++)if(b[c].getName()in a)return b[c];return null}},d.text=function(a,b){typeof a=="string"&&(a=(b?b.$:document).createTextNode(a)),this.$=a},d.text.prototype=new d.node,e.extend(d.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var e=this;if(c&&a==e.getLength()){var f=e.getDocument().createText("");return f.insertAfter(e),f}var g=e.getDocument(),h=new d.text(e.$.splitText(a),g);if(b.ie8){var i=new d.text("",g);i.insertAfter(h),i.remove()}return h},substring:function(a,b){return typeof b!="number"?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,b)}}),d.documentFragment=function(b){b=b||a.document,this.$=b.$.createDocumentFragment()},e.extend(d.documentFragment.prototype,h.prototype,{type:11,insertAfterNode:function(a){a=a.$,a.parentNode.insertBefore(this.$,a.nextSibling)}},!0,{append:1,appendBogus:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function a(a,b){if(this._.end)return null;var c,d=this.range,e,f=this.guard,g=this.type,h=a?"getPreviousSourceNode":"getNextSourceNode";if(!this._.start){this._.start=1,d.trim();if(d.collapsed)return this.end(),null}if(!a&&!this._.guardLTR){var i=d.endContainer,j=i.getChild(d.endOffset);this._.guardLTR=function(a,b){return(!b||!i.equals(a))&&(!j||!a.equals(j))&&(a.type!=1||!b||a.getName()!="body")}}if(a&&!this._.guardRTL){var k=d.startContainer,l=d.startOffset>0&&k.getChild(d.startOffset-1);this._.guardRTL=function(a,b){return(!b||!k.equals(a))&&(!l||!a.equals(l))&&(a.type!=1||!b||a.getName()!="body")}}var m=a?this._.guardRTL:this._.guardLTR;f?e=function(a,b){return m(a,b)===!1?!1:f(a,b)}:e=m,this.current?c=this.current[h](!1,g,e):a?(c=d.endContainer,d.endOffset>0?(c=c.getChild(d.endOffset-1),e(c)===!1&&(c=null)):c=e(c,!0)===!1?null:c.getPreviousSourceNode(!0,g,e)):(c=d.startContainer,c=c.getChild(d.startOffset),c?e(c)===!1&&(c=null):c=e(d.startContainer,!0)===!1?null:d.startContainer.getNextSourceNode(!0,g,e));while(c&&!this._.end){this.current=c;if(!this.evaluator||this.evaluator(c)!==!1){if(!b)return c}else if(b&&this.evaluator)return!1;c=c[h](!1,g,e)}return this.end(),this.current=null}function b(b){var c,d=null;while(c=a.call(this,b))d=c;return d}d.walker=e.createClass({$:function(a){this.range=a,this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return a.call(this,0,1)!==!1},checkBackward:function(){return a.call(this,1,1)!==!1},lastForward:function(){return b.call(this)},lastBackward:function(){return b.call(this,1)},reset:function(){delete this.current,this._={}}}});var g={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1};h.prototype.isBlockBoundary=function(a){var b=a?e.extend({},f.$block,a||{}):f.$block;return this.getComputedStyle("float")=="none"&&g[this.getComputedStyle("display")]||b[this.getName()]},d.walker.blockBoundary=function(a){return function(b,c){return b.type!=1||!b.isBlockBoundary(a)}},d.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},d.walker.bookmark=function(a,b){function c(a){return a&&a.getName&&a.getName()=="span"&&a.data("cke-bookmark")}return function(d){var e,f;return e=d&&!d.getName&&(f=d.getParent())&&c(f),e=a?e:e||c(d),!!(b^e)}},d.walker.whitespaces=function(a){return function(b){var c=b&&b.type==3&&!e.trim(b.getText());return!!(a^c)}},d.walker.invisible=function(a){var b=d.walker.whitespaces();return function(c){var d=b(c)||c.is&&!c.$.offsetHeight;return!!(a^d)}},d.walker.nodeType=function(a,b){return function(c){return!!(b^c.type==a)}};var i=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,j=d.walker.whitespaces(),k=d.walker.bookmark(),l=function(a){return k(a)||j(a)||a.type==1&&a.getName()in f.$inline&&!(a.getName()in f.$empty)};h.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(l(a));return a&&(c?a.getText&&i.test(a.getText()):a.is&&a.is("br"))?a:!1}}(),d.range=function(a){var b=this;b.startContainer=null,b.startOffset=null,b.endContainer=null,b.endOffset=null,b.collapsed=!0,b.document=a},function(){function i(a){var b=!1,f=d.walker.bookmark(!0);return function(d){if(f(d))return!0;if(d.type==3){if(d.hasAscendant("pre")||e.trim(d.getText()).length)return!1}else if(d.type==1&&!g[d.getName()]){if(!(!a&&!c&&d.getName()=="br"&&!b))return!1;b=!0}return!0}}function j(a){return a.type!=3&&a.getName()in f.$removeEmpty||!e.trim(a.getText())||!!a.getParent().data("cke-bookmark")}function m(a){return!k(a)&&!l(a)}var a=function(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset},b=function(a,b,c,d){a.optimizeBookmark();var e=a.startContainer,f=a.endContainer,g=a.startOffset,i=a.endOffset,j,k;f.type==3?f=f.split(i):f.getChildCount()>0&&(i>=f.getChildCount()?(f=f.append(a.document.createText("")),k=!0):f=f.getChild(i)),e.type==3?(e.split(g),e.equals(f)&&(f=e.getNext())):g?g>=e.getChildCount()?(e=e.append(a.document.createText("")),j=!0):e=e.getChild(g).getPrevious():(e=e.getFirst().insertBeforeMe(a.document.createText("")),j=!0);var l=e.getParents(),m=f.getParents(),n,o,p;for(n=0;n<l.length;n++){o=l[n],p=m[n];if(!o.equals(p))break}var q=c,r,s,t,u;for(var v=n;v<l.length;v++){r=l[v],q&&!r.equals(e)&&(s=q.append(r.clone())),t=r.getNext();while(t){if(t.equals(m[v])||t.equals(f))break;u=t.getNext(),b==2?q.append(t.clone(!0)):(t.remove(),b==1&&q.append(t)),t=u}q&&(q=s)}q=c;for(var w=n;w<m.length;w++){r=m[w],b>0&&!r.equals(f)&&(s=q.append(r.clone()));if(!l[w]||r.$.parentNode!=l[w].$.parentNode){t=r.getPrevious();while(t){if(t.equals(l[w])||t.equals(e))break;u=t.getPrevious(),b==2?q.$.insertBefore(t.$.cloneNode(!0),q.$.firstChild):(t.remove(),b==1&&q.$.insertBefore(t.$,q.$.firstChild)),t=u}}q&&(q=s)}if(b==2){var x=a.startContainer;x.type==3&&(x.$.data+=x.$.nextSibling.data,x.$.parentNode.removeChild(x.$.nextSibling));var y=a.endContainer;y.type==3&&y.$.nextSibling&&(y.$.data+=y.$.nextSibling.data,y.$.parentNode.removeChild(y.$.nextSibling))}else{if(o&&p&&(e.$.parentNode!=o.$.parentNode||f.$.parentNode!=p.$.parentNode)){var z=p.getIndex();j&&p.$.parentNode==e.$.parentNode&&z--;if(d&&o.type==1){var A=h.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',a.document);A.insertAfter(o),o.mergeSiblings(!1),a.moveToBookmark({startNode:A})}else a.setStart(p.getParent(),z)}a.collapse(!0)}j&&e.remove(),k&&f.$.parentNode&&f.remove()},g={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},k=new d.walker.whitespaces,l=new d.walker.bookmark;d.range.prototype={clone:function(){var a=this,b=new d.range(a.document);return b.startContainer=a.startContainer,b.startOffset=a.startOffset,b.endContainer=a.endContainer,b.endOffset=a.endOffset,b.collapsed=a.collapsed,b},collapse:function(a){var b=this;a?(b.endContainer=b.startContainer,b.endOffset=b.startOffset):(b.startContainer=b.endContainer,b.startOffset=b.endOffset),b.collapsed=!0},cloneContents:function(){var a=new d.documentFragment(this.document);return this.collapsed||b(this,2,a),a},deleteContents:function(a){if(this.collapsed)return;b(this,0,null,a)},extractContents:function(a){var c=new d.documentFragment(this.document);return this.collapsed||b(this,1,c,a),c},createBookmark:function(a){var b=this,c,d,f,g,h=b.collapsed;return c=b.document.createElement("span"),c.data("cke-bookmark",1),c.setStyle("display","none"),c.setHtml("&nbsp;"),a&&(f="cke_bm_"+e.getNextNumber(),c.setAttribute("id",f+"S")),h||(d=c.clone(),d.setHtml("&nbsp;"),a&&d.setAttribute("id",f+"E"),g=b.clone(),g.collapse(),g.insertNode(d)),g=b.clone(),g.collapse(!0),g.insertNode(c),d?(b.setStartAfter(c),b.setEndBefore(d)):b.moveToPosition(c,4),{startNode:a?f+"S":c,endNode:a?f+"E":d,serializable:a,collapsed:h}},createBookmark2:function(a){var b=this,c=b.startContainer,d=b.endContainer,e=b.startOffset,f=b.endOffset,g=b.collapsed,h,i;if(!c||!d)return{start:0,end:0};if(a){c.type==1&&(h=c.getChild(e),h&&h.type==3&&e>0&&h.getPrevious().type==3&&(c=h,e=0),h&&h.type==1&&(e=h.getIndex(1)));while(c.type==3&&(i=c.getPrevious())&&i.type==3)c=i,e+=i.getLength();if(!g){d.type==1&&(h=d.getChild(f),h&&h.type==3&&f>0&&h.getPrevious().type==3&&(d=h,f=0),h&&h.type==1&&(f=h.getIndex(1)));while(d.type==3&&(i=d.getPrevious())&&i.type==3)d=i,f+=i.getLength()}}return{start:c.getAddress(a),end:g?null:d.getAddress(a),startOffset:e,endOffset:f,normalized:a,collapsed:g,is2:!0}},moveToBookmark:function(a){var b=this;if(a.is2){var c=b.document.getByAddress(a.start,a.normalized),d=a.startOffset,e=a.end&&b.document.getByAddress(a.end,a.normalized),f=a.endOffset;b.setStart(c,d),e?b.setEnd(e,f):b.collapse(!0)}else{var g=a.serializable,h=g?b.document.getById(a.startNode):a.startNode,i=g?b.document.getById(a.endNode):a.endNode;b.setStartBefore(h),h.remove(),i?(b.setEndBefore(i),i.remove()):b.collapse(!0)}},getBoundaryNodes:function(){var a=this,b=a.startContainer,c=a.endContainer,e=a.startOffset,f=a.endOffset,g;if(b.type==1){g=b.getChildCount();if(g>e)b=b.getChild(e);else if(g<1)b=b.getPreviousSourceNode();else{b=b.$;while(b.lastChild)b=b.lastChild;b=new d.node(b),b=b.getNextSourceNode()||b}}if(c.type==1){g=c.getChildCount();if(g>f)c=c.getChild(f).getPreviousSourceNode(!0);else if(g<1)c=c.getPreviousSourceNode();else{c=c.$;while(c.lastChild)c=c.lastChild;c=new d.node(c)}}return b.getPosition(c)&2&&(b=c),{startNode:b,endNode:c}},getCommonAncestor:function(a,b){var c=this,d=c.startContainer,e=c.endContainer,f;return d.equals(e)?a&&d.type==1&&c.startOffset==c.endOffset-1?f=d.getChild(c.startOffset):f=d:f=d.getCommonAncestor(e),b&&!f.is?f.getParent():f},optimize:function(){var a=this,b=a.startContainer,c=a.startOffset;b.type!=1&&(c?c>=b.getLength()&&a.setStartAfter(b):a.setStartBefore(b)),b=a.endContainer,c=a.endOffset,b.type!=1&&(c?c>=b.getLength()&&a.setEndAfter(b):a.setEndBefore(b))},optimizeBookmark:function(){var a=this,b=a.startContainer,c=a.endContainer;b.is&&b.is("span")&&b.data("cke-bookmark")&&a.setStartAt(b,3),c&&c.is&&c.is("span")&&c.data("cke-bookmark")&&a.setEndAt(c,4)},trim:function(a,b){var c=this,d=c.startContainer,e=c.startOffset,f=c.collapsed;if((!a||f)&&d&&d.type==3){if(!e)e=d.getIndex(),d=d.getParent();else if(e>=d.getLength())e=d.getIndex()+1,d=d.getParent();else{var g=d.split(e);e=d.getIndex()+1,d=d.getParent(),c.startContainer.equals(c.endContainer)?c.setEnd(g,c.endOffset-c.startOffset):d.equals(c.endContainer)&&(c.endOffset+=1)}c.setStart(d,e);if(f){c.collapse(!0);return}}var h=c.endContainer,i=c.endOffset;!b&&!f&&h&&h.type==3&&(i?i>=h.getLength()?(i=h.getIndex()+1,h=h.getParent()):(h.split(i),i=h.getIndex()+1,h=h.getParent()):(i=h.getIndex(),h=h.getParent()),c.setEnd(h,i))},enlarge:function(a,b){switch(a){case 1:if(this.collapsed)return;var c=this.getCommonAncestor(),g=this.document.getBody(),h,i,j,k,l,m=!1,n,o,p=this.startContainer,q=this.startOffset;p.type==3?(q&&(p=!e.trim(p.substring(0,q)).length&&p,m=!!p),p&&((k=p.getPrevious())||(j=p.getParent()))):(q&&(k=p.getChild(q-1)||p.getLast()),k||(j=p));while(j||k){if(j&&!k){!l&&j.equals(c)&&(l=!0);if(!g.contains(j))break;if(!m||j.getComputedStyle("display")!="inline")m=!1,l?h=j:this.setStartBefore(j);k=j.getPrevious()}while(k){n=!1;if(k.type==3)o=k.getText(),/[^\s\ufeff]/.test(o)&&(k=null),n=/[\s\ufeff]$/.test(o);else if((k.$.offsetWidth>0||b&&k.is("br"))&&!k.data("cke-bookmark"))if(m&&f.$removeEmpty[k.getName()]){o=k.getText();if(/[^\s\ufeff]/.test(o))k=null;else{var r=k.$.all||k.$.getElementsByTagName("*");for(var s=0,t;t=r[s++];)if(!f.$removeEmpty[t.nodeName.toLowerCase()]){k=null;break}}k&&(n=!!o.length)}else k=null;n&&(m?l?h=j:j&&this.setStartBefore(j):m=!0);if(k){var u=k.getPrevious();if(!j&&!u){j=k,k=null;break}k=u}else j=null}j&&(j=j.getParent())}p=this.endContainer,q=this.endOffset,j=k=null,l=m=!1,p.type==3?(p=!e.trim(p.substring(q)).length&&p,m=!p||!p.getLength(),p&&((k=p.getNext())||(j=p.getParent()))):(k=p.getChild(q),k||(j=p));while(j||k){if(j&&!k){!l&&j.equals(c)&&(l=!0);if(!g.contains(j))break;if(!m||j.getComputedStyle("display")!="inline")m=!1,l?i=j:j&&this.setEndAfter(j);k=j.getNext()}while(k){n=!1;if(k.type==3)o=k.getText(),/[^\s\ufeff]/.test(o)&&(k=null),n=/^[\s\ufeff]/.test(o);else if((k.$.offsetWidth>0||b&&k.is("br"))&&!k.data("cke-bookmark"))if(m&&f.$removeEmpty[k.getName()]){o=k.getText();if(/[^\s\ufeff]/.test(o))k=null;else{r=k.$.all||k.$.getElementsByTagName("*");for(s=0;t=r[s++];)if(!f.$removeEmpty[t.nodeName.toLowerCase()]){k=null;break}}k&&(n=!!o.length)}else k=null;n&&m&&(l?i=j:this.setEndAfter(j));if(k){u=k.getNext();if(!j&&!u){j=k,k=null;break}k=u}else j=null}j&&(j=j.getParent())}h&&i&&(c=h.contains(i)?i:h,this.setStartBefore(c),this.setEndAfter(c));break;case 2:case 3:var v=new d.range(this.document);g=this.document.getBody(),v.setStartAt(g,1),v.setEnd(this.startContainer,this.startOffset);var w=new d.walker(v),x,y,z=d.walker.blockBoundary(a==3?{br:1}:null),A=function(a){var b=z(a);return b||(x=a),b},B=function(a){var b=A(a);return!b&&a.is&&a.is("br")&&(y=a),b};w.guard=A,j=w.lastBackward(),x=x||g,this.setStartAt(x,!x.is("br")&&(!j&&this.checkStartOfBlock()||j&&x.contains(j))?1:4);if(a==3){var C=this.clone();w=new d.walker(C);var D=d.walker.whitespaces(),E=d.walker.bookmark();w.evaluator=function(a){return!D(a)&&!E(a)};var F=w.previous();if(F&&F.type==1&&F.is("br"))return}v=this.clone(),v.collapse(),v.setEndAt(g,2),w=new d.walker(v),w.guard=a==3?B:A,x=null,j=w.lastForward(),x=x||g,this.setEndAt(x,!j&&this.checkEndOfBlock()||j&&x.contains(j)?2:3),y&&this.setEndAfter(y)}},shrink:function(a,b){if(!this.collapsed){a=a||2;var c=this.clone(),e=this.startContainer,f=this.endContainer,g=this.startOffset,h=this.endOffset,i=this.collapsed,j=1,k=1;e&&e.type==3&&(g?g>=e.getLength()?c.setStartAfter(e):(c.setStartBefore(e),j=0):c.setStartBefore(e)),f&&f.type==3&&(h?h>=f.getLength()?c.setEndAfter(f):(c.setEndAfter(f),k=0):c.setEndBefore(f));var l=new d.walker(c),m=d.walker.bookmark();l.evaluator=function(b){return b.type==(a==1?1:3)};var n;l.guard=function(b,c){return m(b)?!0:a==1&&b.type==3?!1:c&&b.equals(n)?!1:(!c&&b.type==1&&(n=b),!0)};if(j){var o=l[a==1?"lastForward":"next"]();o&&this.setStartAt(o,b?1:3)}if(k){l.reset();var p=l[a==1?"lastBackward":"previous"]();p&&this.setEndAt(p,b?2:4)}return!!j||!!k}},insertNode:function(a){var b=this;b.optimizeBookmark(),b.trim(!1,!0);var c=b.startContainer,d=b.startOffset,e=c.getChild(d);e?a.insertBefore(e):c.append(a),a.getParent().equals(b.endContainer)&&b.endOffset++,b.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b),this.collapse(!0)},selectNodeContents:function(a){this.setStart(a,0),this.setEnd(a,a.type==3?a.getLength():a.getChildCount())},setStart:function(b,c){var d=this;b.type==1&&f.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent()),d.startContainer=b,d.startOffset=c,d.endContainer||(d.endContainer=b,d.endOffset=c),a(d)},setEnd:function(b,c){var d=this;b.type==1&&f.$empty[b.getName()]&&(c=b.getIndex()+1,b=b.getParent()),d.endContainer=b,d.endOffset=c,d.startContainer||(d.startContainer=b,d.startOffset=c),a(d)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){var d=this;switch(c){case 1:d.setStart(b,0);break;case 2:b.type==3?d.setStart(b,b.getLength()):d.setStart(b,b.getChildCount());break;case 3:d.setStartBefore(b);break;case 4:d.setStartAfter(b)}a(d)},setEndAt:function(b,c){var d=this;switch(c){case 1:d.setEnd(b,0);break;case 2:b.type==3?d.setEnd(b,b.getLength()):d.setEnd(b,b.getChildCount());break;case 3:d.setEndBefore(b);break;case 4:d.setEndAfter(b)}a(d)},fixBlock:function(a,b){var d=this,e=d.createBookmark(),f=d.document.createElement(b);return d.collapse(a),d.enlarge(2),d.extractContents().appendTo(f),f.trim(),c||f.appendBogus(),d.insertNode(f),d.moveToBookmark(e),f},splitBlock:function(a){var b=this,e=new d.elementPath(b.startContainer),f=new d.elementPath(b.endContainer),g=e.blockLimit,h=f.blockLimit,i=e.block,j=f.block,k=null;if(!g.equals(h))return null;a!="br"&&(i||(i=b.fixBlock(!0,a),j=(new d.elementPath(b.endContainer)).block),j||(j=b.fixBlock(!1,a)));var l=i&&b.checkStartOfBlock(),m=j&&b.checkEndOfBlock();return b.deleteContents(),i&&i.equals(j)&&(m?(k=new d.elementPath(b.startContainer),b.moveToPosition(j,4),j=null):l?(k=new d.elementPath(b.startContainer),b.moveToPosition(i,3),i=null):(j=b.splitElement(i),!c&&!i.is("ul","ol")&&i.appendBogus())),{previousBlock:i,nextBlock:j,wasStartOfBlock:l,wasEndOfBlock:m,elementPath:k}},splitElement:function(a){var b=this;if(!b.collapsed)return null;b.setEndAt(a,2);var c=b.extractContents(),d=a.clone(!1);return c.appendTo(d),d.insertAfter(a),b.moveToPosition(a,4),d},checkBoundaryOfElement:function(a,b){var c=b==1,e=this.clone();e.collapse(c),e[c?"setStartAt":"setEndAt"](a,c?1:2);var f=new d.walker(e);return f.evaluator=j,f[c?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var a=this,b=a.startContainer,c=a.startOffset;if(c&&b.type==3){var f=e.ltrim(b.substring(0,c));if(f.length)return!1}a.trim();var g=new d.elementPath(a.startContainer),h=a.clone();h.collapse(!0),h.setStartAt(g.block||g.blockLimit,1);var j=new d.walker(h);return j.evaluator=i(!0),j.checkBackward()},checkEndOfBlock:function(){var a=this,b=a.endContainer,c=a.endOffset;if(b.type==3){var f=e.rtrim(b.substring(c));if(f.length)return!1}a.trim();var g=new d.elementPath(a.endContainer),h=a.clone();h.collapse(!1),h.setEndAt(g.block||g.blockLimit,2);var j=new d.walker(h);return j.evaluator=i(!1),j.checkForward()},checkReadOnly:function(){function a(a,b){while(a){if(a.type==1){if(a.getAttribute("contentEditable")=="false"&&!a.data("cke-editable"))return 0;if(a.is("html")||a.getAttribute("contentEditable")=="true"&&(a.contains(b)||a.equals(b)))break}a=a.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!a(b,c)||!a(c,b)}}(),moveToElementEditablePosition:function(a,b){function c(a,c){var d;return a.type==1&&a.isEditable(!1)&&!f.$nonEditable[a.getName()]&&(d=a[b?"getLast":"getFirst"](m)),!c&&!d&&(d=a[b?"getPrevious":"getNext"](m)),d}var d=0;while(a){if(a.type==3){this.moveToPosition(a,b?4:3),d=1;break}a.type==1&&a.isEditable()&&(this.moveToPosition(a,b?2:1),d=1),a=c(a,d)}return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=1||a.endContainer.type!=1)return null;var b=new d.walker(a),c=d.walker.bookmark(!0),e=d.walker.whitespaces(!0),f=function(a){return e(a)&&c(a)};a.evaluator=f;var g=b.next();return b.reset(),g&&g.equals(b.previous())?g:null},getTouchedStartNode:function(){var a=this.startContainer;return this.collapsed||a.type!=1?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=1?a:a.getChild(this.endOffset-1)||a}}}(),a.POSITION_AFTER_START=1,a.POSITION_BEFORE_END=2,a.POSITION_BEFORE_START=3,a.POSITION_AFTER_END=4,a.ENLARGE_ELEMENT=1,a.ENLARGE_BLOCK_CONTENTS=2,a.ENLARGE_LIST_ITEM_CONTENTS=3,a.START=1,a.END=2,a.STARTEND=3,a.SHRINK_ELEMENT=1,a.SHRINK_TEXT=2,function(){function b(a,b,c){var d=a.serializable,e=b[c?"endContainer":"startContainer"],f=c?"endOffset":"startOffset",g=d?b.document.getById(a.startNode):a.startNode,h=d?b.document.getById(a.endNode):a.endNode;return e.equals(g.getPrevious())?(b.startOffset=b.startOffset-e.getLength()-h.getPrevious().getLength(),e=h.getNext()):e.equals(h.getPrevious())&&(b.startOffset=b.startOffset-e.getLength(),e=h.getNext()),e.equals(g.getParent())&&b[f]++,e.equals(h.getParent())&&b[f]++,b[c?"endContainer":"startContainer"]=e,b}d.rangeList=function(b){return b instanceof d.rangeList?b:(b?b instanceof d.range&&(b=[b]):b=[],e.extend(b,a))};var a={createIterator:function(){var a=this,b=d.walker.bookmark(),c=function(a){return!a.is||!a.is("tr")},e=[],f;return{getNextRange:function(c){f=f==undefined?0:f+1;var d=a[f];if(d&&a.length>1){if(!f)for(var g=a.length-1;g>=0;g--)e.unshift(a[g].createBookmark(!0));if(c){var h=0;while(a[f+h+1]){var i=d.document,j=0,k=i.getById(e[h].endNode),l=i.getById(e[h+1].startNode),m;for(;;){m=k.getNextSourceNode(!1);if(!l.equals(m)){if(b(m)||m.type==1&&m.isBlockBoundary()){k=m;continue}}else j=1;break}if(!j)break;h++}}d.moveToBookmark(e.shift());while(h--)m=a[++f],m.moveToBookmark(e.shift()),d.setEnd(m.endContainer,m.endOffset)}return d}}},createBookmarks:function(a){var c=this,d=[],e;for(var f=0;f<c.length;f++){d.push(e=c[f].createBookmark(a,!0));for(var g=f+1;g<c.length;g++)c[g]=b(e,c[g]),c[g]=b(e,c[g],!0)}return d},createBookmarks2:function(a){var b=[];for(var c=0;c<this.length;c++)b.push(this[c].createBookmark2(a));return b},moveToBookmarks:function(a){for(var b=0;b<this.length;b++)this[b].moveToBookmark(a[b])}}}(),function(){if(b.webkit){b.hc=!1;return}var c=h.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;border: 1px solid;border-color: red blue;"></div>',a.document);c.appendTo(a.document.getHead());try{b.hc=c.getComputedStyle("border-top-color")==c.getComputedStyle("border-right-color")}catch(d){b.hc=!1}b.hc&&(b.cssClass+=" cke_hc"),c.remove()}(),j.load(i.corePlugins.split(","),function(){a.status="loaded",a.fire("loaded");var b=a._.pending;if(b){delete a._.pending;for(var c=0;c<b.length;c++)a.add(b[c])}});if(c)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}a.skins.add("kama",function(){var d="cke_ui_color";return{editor:{css:["editor.css"]},dialog:{css:["dialog.css"]},richcombo:{canGroup:!1},templates:{css:["templates.css"]},margins:[0,0,0,0],init:function(f){function k(a){var b=a.getById(d);return b||(b=a.getHead().append("style"),b.setAttribute("id",d),b.setAttribute("type","text/css")),b}function l(a,d,e){var f,g,h;for(var i=0;i<a.length;i++)if(b.webkit)for(g=0;g<d.length;g++){h=d[g][1];for(f=0;f<e.length;f++)h=h.replace(e[f][0],e[f][1]);a[i].$.sheet.addRule(d[g][0],h)}else{h=d;for(f=0;f<e.length;f++)h=h.replace(e[f][0],e[f][1]);c?a[i].$.styleSheet.cssText+=h:a[i].$.innerHTML+=h}}f.config.width&&!isNaN(f.config.width)&&(f.config.width-=12);var g=[],h=/\$color/g,i="/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}";if(b.webkit){i=i.split("}").slice(0,-1);for(var j=0;j<i.length;j++)i[j]=i[j].split("{")}var n=/\$color/g;e.extend(f,{uiColor:null,getUiColor:function(){return this.uiColor},setUiColor:function(c){var d,e=k(a.document),h="."+f.id,j=[h+" .cke_wrapper",h+"_dialog .cke_dialog_contents",h+"_dialog a.cke_dialog_tab",h+"_dialog .cke_dialog_footer"].join(","),m="background-color: $color !important;";return b.webkit?d=[[j,m]]:d=j+"{"+m+"}",(this.setUiColor=function(a){var b=[[n,a]];f.uiColor=a,l([e],d,b),l(g,i,b)})(c)}}),f.on("menuShow",function(a){var b=a.data[0],c=b.element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!c.getById("cke_ui_color")){var d=k(c);g.push(d);var e=f.getUiColor();e&&l([d],i,[[n,e]])}}),f.config.uiColor&&f.setUiColor(f.config.uiColor)}}}()),function(){function b(){a.dialog.on("resize",function(a){var b=a.data,c=b.width,d=b.height,e=b.dialog,f=e.parts.contents;if(b.skin!="kama")return;f.setStyles({width:c+"px",height:d+"px"})})}a.dialog?b():a.on("dialogPluginReady"
,b)}(),j.add("about",{requires:["dialog"],init:function(b){var c=b.addCommand("about",new a.dialogCommand("about"));c.modes={wysiwyg:1,source:1},c.canUndo=!1,c.readOnly=1,b.ui.addButton("About",{label:b.lang.about.title,command:"about"}),a.dialog.add("about",this.path+"dialogs/about.js")}}),function(){var b="a11yhelp",c="a11yHelp";j.add(b,{availableLangs:{en:1,he:1},init:function(b){var d=this;b.addCommand(c,{exec:function(){var f=b.langCode;f=d.availableLangs[f]?f:"en",a.scriptLoader.load(a.getUrl(d.path+"lang/"+f+".js"),function(){e.extend(b.lang,d.langEntries[f]),b.openDialog(c)})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),a.dialog.add(c,this.path+"dialogs/a11yhelp.js")}})}(),j.add("basicstyles",{requires:["styles","button"],init:function(b){var c=function(c,d,e,f){var g=new a.style(f);b.attachStyleStateChange(g,function(a){!b.readOnly&&b.getCommand(e).setState(a)}),b.addCommand(e,new a.styleCommand(g)),b.ui.addButton(c,{label:d,command:e})},d=b.config,e=b.lang;c("Bold",e.bold,"bold",d.coreStyles_bold),c("Italic",e.italic,"italic",d.coreStyles_italic),c("Underline",e.underline,"underline",d.coreStyles_underline),c("Strike",e.strike,"strike",d.coreStyles_strike),c("Subscript",e.subscript,"subscript",d.coreStyles_subscript),c("Superscript",e.superscript,"superscript",d.coreStyles_superscript)}}),i.coreStyles_bold={element:"strong",overrides:"b"},i.coreStyles_italic={element:"em",overrides:"i"},i.coreStyles_underline={element:"u"},i.coreStyles_strike={element:"strike"},i.coreStyles_subscript={element:"sub"},i.coreStyles_superscript={element:"sup"},function(){function g(a){i(a),k(a)}function i(a){var b=a.editor,c=a.data.path;if(b.readOnly)return;var d=b.config.useComputedState,e;d=d===undefined||d,d||(e=l(c.lastElement)),e=e||c.block||c.blockLimit;if(e.is("body")){var f=b.getSelection().getRanges()[0].getEnclosedNode();f&&f.type==1&&(e=f)}if(!e)return;var g=d?e.getComputedStyle("direction"):e.getStyle("direction")||e.getAttribute("dir");b.getCommand("bidirtl").setState(g=="rtl"?1:2),b.getCommand("bidiltr").setState(g=="ltr"?1:2)}function k(a){var b=a.editor,c=a.data.path.block||a.data.path.blockLimit;b.fire("contentDirChanged",c?c.getComputedStyle("direction"):b.lang.dir)}function l(a){while(a&&!(a.getName()in f||a.is("body"))){var b=a.getParent();if(!b)break;a=b}return a}function m(a,b,c,d){if(a.isReadOnly())return;h.setMarker(d,a,"bidi_processed",1);var e=a;while((e=e.getParent())&&!e.is("body"))if(e.getCustomData("bidi_processed")){a.removeStyle("direction"),a.removeAttribute("dir");return}var f="useComputedState"in c.config?c.config.useComputedState:1,g=f?a.getComputedStyle("direction"):a.getStyle("direction")||a.hasAttribute("dir");if(g==b)return;a.removeStyle("direction"),f?(a.removeAttribute("dir"),b!=a.getComputedStyle("direction")&&a.setAttribute("dir",b)):a.setAttribute("dir",b),c.forceNextSelectionCheck()}function n(a,b,c){var d=a.getCommonAncestor(!1,!0);a=a.clone(),a.enlarge(c==2?3:2);if(a.checkBoundaryOfElement(d,1)&&a.checkBoundaryOfElement(d,2)){var e;while(d&&d.type==1&&(e=d.getParent())&&e.getChildCount()==1&&!(d.getName()in b))d=e;return d.type==1&&d.getName()in b&&d}}function o(a){return function(e){var f=e.getSelection(),g=e.config.enterMode,i=f.getRanges();if(i&&i.length){var j={},k=f.createBookmarks(),l=i.createIterator(),o,p=0;while(o=l.getNextRange(1)){var q=o.getEnclosedNode();if(!q||q&&!(q.type==1&&q.getName()in c))q=n(o,b,g);q&&m(q,a,e,j);var r,s,t=new d.walker(o),v=k[p].startNode,w=k[p++].endNode;t.evaluator=function(a){return!!(a.type==1&&a.getName()in b&&(a.getName()!=(g==1?"p":"div")||a.getParent().type!=1||a.getParent().getName()!="blockquote")&&a.getPosition(v)&2&&(a.getPosition(w)&4+16)==4)};while(s=t.next())m(s,a,e,j);r=o.createIterator(),r.enlargeBr=g!=2;while(s=r.getNextParagraph(g==1?"p":"div"))m(s,a,e,j)}h.clearAllMarkers(j),e.forceNextSelectionCheck(),f.selectBookmarks(k),e.focus()}}}function p(a){var b=a.getDocument().getBody().getParent();while(a){if(a.equals(b))return!1;a=a.getParent()}return!0}function q(b){var c=b==r.setAttribute,d=b==r.removeAttribute,e=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(f,g){var h=this;if(!h.getDocument().equals(a.document)){var i;if((f==(c||d?"dir":"direction")||f=="style"&&(d||e.test(g)))&&!p(h)){i=h.getDirection(1);var j=b.apply(h,arguments);if(i!=h.getDirection(1))return h.getDocument().fire("dirChanged",h),j}}return b.apply(h,arguments)}}var b={table:1,ul:1,ol:1,blockquote:1,div:1},c={},f={};e.extend(c,b,{tr:1,p:1,div:1,li:1}),e.extend(f,c,{td:1}),j.add("bidi",{requires:["styles","button"],init:function(b){var c=function(c,d,e,f){b.addCommand(e,new a.command(b,{exec:f})),b.ui.addButton(c,{label:d,command:e})},d=b.lang.bidi;c("BidiLtr",d.ltr,"bidiltr",o("ltr")),c("BidiRtl",d.rtl,"bidirtl",o("rtl")),b.on("selectionChange",g),b.on("contentDom",function(){b.document.on("dirChanged",function(a){b.fire("dirChanged",{node:a.data,dir:a.data.getDirection(1)})})})}});var r=h.prototype,s=["setStyle","removeStyle","setAttribute","removeAttribute"];for(var t=0;t<s.length;t++)r[s[t]]=e.override(r[s[t]],q)}(),function(){function a(a,b){var c=b.block||b.blockLimit;return!c||c.getName()=="body"?2:c.getAscendant("blockquote",!0)?1:2}function b(b){var c=b.editor;if(c.readOnly)return;var d=c.getCommand("blockquote");d.state=a(c,b.data.path),d.fire("state")}function e(a){for(var b=0,c=a.getChildCount(),d;b<c&&(d=a.getChild(b));b++)if(d.type==1&&d.isBlockBoundary())return!1;return!0}var f={exec:function(a){var b=a.getCommand("blockquote").state,f=a.getSelection(),g=f&&f.getRanges(!0)[0];if(!g)return;var i=f.createBookmarks();if(c){var j=i[0].startNode,k=i[0].endNode,l;if(j&&j.getParent().getName()=="blockquote"){l=j;while(l=l.getNext())if(l.type==1&&l.isBlockBoundary()){j.move(l,!0);break}}if(k&&k.getParent().getName()=="blockquote"){l=k;while(l=l.getPrevious())if(l.type==1&&l.isBlockBoundary()){k.move(l);break}}}var m=g.createIterator(),n;m.enlargeBr=a.config.enterMode!=2;if(b==2){var p=[];while(n=m.getNextParagraph())p.push(n);if(p.length<1){var q=a.document.createElement(a.config.enterMode==1?"p":"div"),r=i.shift();g.insertNode(q),q.append(new d.text("﻿",a.document)),g.moveToBookmark(r),g.selectNodeContents(q),g.collapse(!0),r=g.createBookmark(),p.push(q),i.unshift(r)}var s=p[0].getParent(),t=[];for(var u=0;u<p.length;u++)n=p[u],s=s.getCommonAncestor(n.getParent());var v={table:1,tbody:1,tr:1,ol:1,ul:1};while(v[s.getName()])s=s.getParent();var w=null;while(p.length>0){n=p.shift();while(!n.getParent().equals(s))n=n.getParent();n.equals(w)||t.push(n),w=n}while(t.length>0){n=t.shift();if(n.getName()=="blockquote"){var x=new d.documentFragment(a.document);while(n.getFirst())x.append(n.getFirst().remove()),p.push(x.getLast());x.replace(n)}else p.push(n)}var y=a.document.createElement("blockquote");y.insertBefore(p[0]);while(p.length>0)n=p.shift(),y.append(n)}else if(b==1){var z=[],A={};while(n=m.getNextParagraph()){var B=null,C=null;while(n.getParent()){if(n.getParent().getName()=="blockquote"){B=n.getParent(),C=n;break}n=n.getParent()}B&&C&&!C.getCustomData("blockquote_moveout")&&(z.push(C),h.setMarker(A,C,"blockquote_moveout",!0))}h.clearAllMarkers(A);var D=[],E=[];A={};while(z.length>0){var F=z.shift();y=F.getParent(),F.getPrevious()?F.getNext()?(F.breakParent(F.getParent()),E.push(F.getNext())):F.remove().insertAfter(y):F.remove().insertBefore(y),y.getCustomData("blockquote_processed")||(E.push(y),h.setMarker(A,y,"blockquote_processed",!0)),D.push(F)}h.clearAllMarkers(A);for(u=E.length-1;u>=0;u--)y=E[u],e(y)&&y.remove();if(a.config.enterMode==2){var G=!0;while(D.length){F=D.shift();if(F.getName()=="div"){x=new d.documentFragment(a.document);var H=G&&F.getPrevious()&&(F.getPrevious().type!=1||!F.getPrevious().isBlockBoundary());H&&x.append(a.document.createElement("br"));var I=F.getNext()&&(F.getNext().type!=1||!F.getNext().isBlockBoundary());while(F.getFirst())F.getFirst().remove().appendTo(x);I&&x.append(a.document.createElement("br")),x.replace(F),G=!1}}}}f.selectBookmarks(i),a.focus()}};j.add("blockquote",{init:function(a){a.addCommand("blockquote",f),a.ui.addButton("Blockquote",{label:a.lang.blockquote,command:"blockquote"}),a.on("selectionChange",b)},requires:["domiterator"]})}(),j.add("button",{beforeInit:function(a){a.ui.addHandler("button",k.button.handler)}}),a.UI_BUTTON="button",k.button=function(a){e.extend(this,a,{title:a.label,className:a.className||a.command&&"cke_button_"+a.command||"",click:a.click||function(b){b.execCommand(a.command)}}),this._={}},k.button.handler={create:function(a){return new k.button(a)}},function(){k.button.prototype={render:function(f,g){var h=b,i=this._.id=e.getNextId(),j="",k=this.command,l;this._.editor=f;var m={id:i,button:this,editor:f,focus:function(){var b=a.document.getById(i);b.focus()},execute:function(){c&&b.version<7?e.setTimeout(function(){this.button.click(f)},0,this):this.button.click(f)}},n=e.addFunction(function(a){if(m.onkey)return a=new d.event(a),m.onkey(m,a.getKeystroke())!==!1}),o=e.addFunction(function(a){var c;return m.onfocus&&(c=m.onfocus(m,new d.event(a))!==!1),b.gecko&&b.version<10900&&a.preventBubble(),c});m.clickFn=l=e.addFunction(m.execute,m);if(this.modes){var p={};function q(){var a=f.mode;if(a){var b=this.modes[a]?p[a]!=undefined?p[a]:2:0;this.setState(f.readOnly&&!this.readOnly?0:b)}}f.on("beforeModeUnload",function(){f.mode&&this._.state!=0&&(p[f.mode]=this._.state)},this),f.on("mode",q,this),!this.readOnly&&f.on("readOnly",q,this)}else k&&(k=f.getCommand(k),k&&(k.on("state",function(){this.setState(k.state)},this),j+="cke_"+(k.state==1?"on":k.state==0?"disabled":"off")));k||(j+="cke_off"),this.className&&(j+=" "+this.className),g.push('<span class="cke_button'+(this.icon&&this.icon.indexOf(".png")==-1?" cke_noalphafix":"")+'">','<a id="',i,'" class="',j,'"',h.gecko&&h.version>=10900&&!h.hc?"":'" href="javascript:void(\''+(this.title||"").replace("'","")+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+i+'_label"'+(this.hasArrow?' aria-haspopup="true"':"")),(h.opera||h.gecko&&h.mac)&&g.push(' onkeypress="return false;"'),h.gecko&&g.push(' onblur="this.style.cssText = this.style.cssText;"'),g.push(' onkeydown="return CKEDITOR.tools.callFunction(',n,', event);" onfocus="return CKEDITOR.tools.callFunction(',o,', event);" '+(c?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction(',l,', this); return false;"><span class="cke_icon"');if(this.icon){var r=(this.iconOffset||0)*-16;g.push(' style="background-image:url(',a.getUrl(this.icon),");background-position:0 "+r+'px;"')}return g.push('>&nbsp;</span><span id="',i,'_label" class="cke_label">',this.label,"</span>"),this.hasArrow&&g.push('<span class="cke_buttonarrow">'+(b.hc?"&#9660;":"&nbsp;")+"</span>"),g.push("</a>","</span>"),this.onRender&&this.onRender(),m},setState:function(b){if(this._.state==b)return!1;this._.state=b;var c=a.document.getById(this._.id);return c?(c.setState(b),b==0?c.setAttribute("aria-disabled",!0):c.removeAttribute("aria-disabled"),b==1?c.setAttribute("aria-pressed",!0):c.removeAttribute("aria-pressed"),!0):!1}}}(),k.prototype.addButton=function(a,b){this.add(a,"button",b)},function(){function m(a){a.cancel()}function n(a,c,e){var f=this.document;if(f.getById("cke_pastebin"))return;if(c=="text"&&a.data&&a.data.$.clipboardData){var g=a.data.$.clipboardData.getData("text/plain");if(g){a.data.preventDefault(),e(g);return}}var i=this.getSelection(),j=new d.range(f),k=new h(c=="text"?"textarea":b.webkit?"body":"div",f);k.setAttribute("id","cke_pastebin"),b.webkit&&k.append(f.createText(" ")),f.getBody().append(k),k.setStyles({position:"absolute",top:i.getStartElement().getDocumentPosition().y+"px",width:"1px",height:"1px",overflow:"hidden"}),k.setStyle(this.config.contentsLangDirection=="ltr"?"left":"right","-1000px");var l=i.createBookmarks();this.on("selectionChange",m,null,null,0),c=="text"?k.$.focus():(j.setStartAt(k,1),j.setEndAt(k,2),j.select(!0));var n=this;window.setTimeout(function(){c=="text"&&b.gecko&&n.focusGrabber.focus(),k.remove(),n.removeListener("selectionChange",m);var a;k=b.webkit&&(a=k.getFirst())&&a.is&&a.hasClass("Apple-style-span")?a:k,i.selectBookmarks(l),e(k["get"+(c=="text"?"Value":"Html")]())},0)}function o(a){if(!c||b.quirks)return;var d=a.getSelection(),e;if(d.getType()==3&&(e=d.getSelectedElement())){var f=d.getRanges()[0],g=a.document.createText("");g.insertBefore(e),f.setStartBefore(g),f.setEndAfter(e),d.selectRanges([f]),setTimeout(function(){e.getParent()&&(g.remove(),d.selectElement(e))},0)}}function q(a,b){c&&(p=1);var d=2;try{d=b.document.$.queryCommandEnabled(a)?2:0}catch(e){}return p=0,d}function s(){var a=this;if(a.mode!="wysiwyg")return;a.getCommand("cut").setState(r?0:q("Cut",a)),a.getCommand("copy").setState(q("Copy",a));var c=r?0:b.webkit?2:q("Paste",a);a.fire("pasteState",c)}var f=function(a,c){var d=a.document,e=d.getBody(),f=0,g=function(){f=1};return e.on(c,g),(b.version>7?d.$:d.$.selection.createRange()).execCommand(c),e.removeListener(c,g),f},g=c?function(a,b){return f(a,b)}:function(a,b){try{return a.document.$.execCommand(b,!1,null)}catch(c){return!1}},i=function(a){var b=this;b.type=a,b.canUndo=b.type=="cut",b.startDisabled=!0};i.prototype={exec:function(a,b){this.type=="cut"&&o(a);var c=g(a,this.type);return c||alert(a.lang.clipboard[this.type+"Error"]),c}};var k={canUndo:!1,exec:c?function(a){a.focus();if(!a.document.getBody().fire("beforepaste")&&!f(a,"paste"))return a.fire("pasteDialog"),!1}:function(a){try{if(!a.document.getBody().fire("beforepaste")&&!a.document.$.execCommand("Paste",!1,null))throw 0}catch(b){return setTimeout(function(){a.fire("pasteDialog")},0),!1}}},l=function(a){if(this.mode!="wysiwyg")return;switch(a.data.keyCode){case 1114198:case 2228269:var d=this.document.getBody();!c&&d.fire("beforepaste")?a.cancel():(b.opera||b.gecko&&b.version<10900)&&d.fire("paste");return;case 1114200:case 2228270:var e=this;this.fire("saveSnapshot"),setTimeout(function(){e.fire("saveSnapshot")},0)}},p,r;j.add("clipboard",{requires:["dialog","htmldataprocessor"],init:function(c){function d(a,b,d,e){var f=c.lang[b];c.addCommand(b,d),c.ui.addButton(a,{label:f,command:b}),c.addMenuItems&&c.addMenuItem(b,{label:f,command:b,group:"clipboard",order:e})}c.on("paste",function(a){var b=a.data;b.html?c.insertHtml(b.html):b.text&&c.insertText(b.text),setTimeout(function(){c.fire("afterPaste")},0)},null,null,1e3),c.on("pasteDialog",function(a){setTimeout(function(){c.openDialog("paste")},0)}),c.on("pasteState",function(a){c.getCommand("paste").setState(a.data)}),d("Cut","cut",new i("cut"),1),d("Copy","copy",new i("copy"),4),d("Paste","paste",k,8),a.dialog.add("paste",a.getUrl(this.path+"dialogs/paste.js")),c.on("key",l,c),c.on("contentDom",function(){var a=c.document.getBody();a.on(b.webkit?"paste":"beforepaste",function(a){if(p)return;var b={mode:"html"};c.fire("beforePaste",b),n.call(c,a,b.mode,function(a){if(!(a=e.trim(a.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,""))))return;var d={};d[b.mode]=a,c.fire("paste",d)})}),a.on("contextmenu",function(){p=1,setTimeout(function(){p=0},10)}),a.on("beforecut",function(){!p&&o(c)}),a.on("mouseup",function(){setTimeout(function(){s.call(c)},0)},c),a.on("keyup",s,c)}),c.on("selectionChange",function(a){r=a.data.selection.getRanges()[0].checkReadOnly(),s.call(c)}),c.contextMenu&&c.contextMenu.addListener(function(a,d){var e=d.getRanges()[0].checkReadOnly();return{cut:!e&&q("Cut",c),copy:q("Copy",c),paste:!e&&(b.webkit?2:q("Paste",c))}})}})}(),j.add("colorbutton",{requires:["panelbutton","floatpanel","styles"],init:function(c){function i(a,b,f){var h=e.getNextId()+"_colorBox";c.ui.add(a,"panelbutton",{label:f,title:f,className:"cke_button_"+a.toLowerCase(),modes:{wysiwyg:1},panel:{css:c.skin.editor.css,attributes:{role:"listbox","aria-label":g.panelTitle}},onBlock:function(a,d){d.autoSize=!0,d.element.addClass("cke_colorblock"),d.element.setHtml(j(a,b,h)),d.element.getDocument().getBody().setStyle("overflow","hidden"),k.fire("ready",this);var e=d.keys,f=c.lang.dir=="rtl";e[f?37:39]="next",e[40]="next",e[9]="next",e[f?39:37]="prev",e[38]="prev",e[2228233]="prev",e[32]="click"},onOpen:function(){var a=c.getSelection(),e=a&&a.getStartElement(),f=new d.elementPath(e),g;e=f.block||f.blockLimit||c.document.getBody();do g=e&&e.getComputedStyle(b=="back"?"background-color":"color")||"transparent";while(b=="back"&&g=="transparent"&&e&&(e=e.getParent()));if(!g||g=="transparent")g="#ffffff";this._.panel._.iframe.getFrameDocument().getById(h).setStyle("background-color",g)}})}function j(b,d,h){var i=[],j=f.colorButton_colors.split(","),k=j.length+(f.colorButton_enableMore?2:1),p=e.addFunction(function(d,e){if(d=="?"){var g=arguments.callee;function h(a){this.removeListener("ok",h),this.removeListener("cancel",h),a.name=="ok"&&g(this.getContentElement("picker","selectedColor").getValue(),e)}c.openDialog("colordialog",function(){this.on("ok",h),this.on("cancel",h)});return}c.focus(),b.hide(!1),c.fire("saveSnapshot"),(new a.style(f["colorButton_"+e+"Style"],{color:"inherit"})).remove(c.document);if(d){var i=f["colorButton_"+e+"Style"];i.childRule=e=="back"?function(a){return l(a)}:function(a){return!a.is("a")&&!a.getElementsByTag("a").count()||l(a)},(new a.style(i,{color:d})).apply(c.document)}c.fire("saveSnapshot")});i.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',g.auto,'" onclick="CKEDITOR.tools.callFunction(',p,",null,'",d,"');return false;\" href=\"javascript:void('",g.auto,'\')" role="option" aria-posinset="1" aria-setsize="',k,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',h,'"></span></td><td colspan=7 align=center>',g.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(var q=0;q<j.length;q++){q%8===0&&i.push("</tr><tr>");var r=j[q].split("/"),t=r[0],u=r[1]||t;r[1]||(t="#"+t.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3"));var v=c.lang.colors[u]||u;i.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',v,'" onclick="CKEDITOR.tools.callFunction(',p,",'",t,"','",d,"'); return false;\" href=\"javascript:void('",v,'\')" role="option" aria-posinset="',q+2,'" aria-setsize="',k,'"><span class="cke_colorbox" style="background-color:#',u,'"></span></a></td>')}return(f.colorButton_enableMore===undefined||f.colorButton_enableMore)&&i.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',g.more,'" onclick="CKEDITOR.tools.callFunction(',p,",'?','",d,"');return false;\" href=\"javascript:void('",g.more,"')\"",' role="option" aria-posinset="',k,'" aria-setsize="',k,'">',g.more,"</a></td>"),i.push("</tr></table>"),i.join("")}function l(a){return a.getAttribute("contentEditable")=="false"||a.getAttribute("data-nostyle")}var f=c.config,g=c.lang.colorButton,h;b.hc||(i("TextColor","fore",g.textColorTitle),i("BGColor","back",g.bgColorTitle))}}),i.colorButton_colors="000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF",i.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},i.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}},j.colordialog={init:function(b){b.addCommand("colordialog",new a.dialogCommand("colordialog")),a.dialog.add("colordialog",this.path+"dialogs/colordialog.js")}},j.add("colordialog",j.colordialog),j.add("contextmenu",{requires:["menu"],onLoad:function(){j.contextMenu=e.createClass({base:a.menu,$:function(a){this.base.call(this,a,{panel:{className:a.skinClass+" cke_contextmenu",attributes:{"aria-label":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,d){if(b.opera&&!("oncontextmenu"in document.body)){var f;a.on("mousedown",function(c){c=c.data;if(c.$.button!=2){c.getKeystroke()==1114112+1&&a.fire("contextmenu",c);return}if(d&&(b.mac?c.$.metaKey:c.$.ctrlKey))return;var e=c.getTarget();if(!f){var g=e.getDocument();f=g.createElement("input"),f.$.type="button",g.getBody().append(f)}f.setAttribute("style","position:absolute;top:"+(c.$.clientY-2)+"px;left:"+(c.$.clientX-2)+"px;width:5px;height:5px;opacity:0.01")}),a.on("mouseup",function(b){f&&(f.remove(),f=undefined,a.fire("contextmenu",b.data))})}a.on("contextmenu",function(a){var f=a.data;if(d&&(b.webkit?g:b.mac?f.$.metaKey:f.$.ctrlKey))return;f.preventDefault();var h=f.getTarget().getDocument().getDocumentElement(),i=f.$.clientX,j=f.$.clientY;e.setTimeout(function(){this.open(h,null,i,j)},c?200:0,this)},this),b.opera&&a.on("keypress",function(a){var b=a.data;b.$.keyCode===0&&b.preventDefault()});if(b.webkit){var g,h=function(a){g=b.mac?a.data.$.metaKey:a.data.$.ctrlKey},i=function(){g=0};a.on("keydown",h),a.on("keyup",i),a.on("contextmenu",i)}},open:function(b,c,d,e){this.editor.focus(),b=b||a.document.getDocumentElement(),this.show(b,c,d,e)}}})},beforeInit:function(a){a.contextMenu=new j.contextMenu(a),a.addCommand("contextMenu",{exec:function(){a.contextMenu.open(a.document.getBody())}})}}),function(){function b(a){var b=this.att,c=a&&a.hasAttribute(b)&&a.getAttribute(b)||"";c!==undefined&&this.setValue(c)}function c(){var a;for(var b=0;b<arguments.length;b++)if(arguments[b]instanceof h){a=arguments[b];break}if(a){var c=this.att,d=this.getValue();d?a.setAttribute(c,d):a.removeAttribute(c,d)}}j.add("dialogadvtab",{createAdvancedTab:function(d,e){e||(e={id:1,dir:1,classes:1,styles:1});var f=d.lang.common,g={id:"advanced",label:f.advancedTab,title:f.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},h=[];if(e.id||e.dir)e.id&&h.push({id:"advId",att:"id",type:"text",label:f.id,setup:b,commit:c}),e.dir&&h.push({id:"advLangDir",att:"dir",type:"select",label:f.langDir,"default":"",style:"width:100%",items:[[f.notSet,""],[f.langDirLTR,"ltr"],[f.langDirRTL,"rtl"]],setup:b,commit:c}),g.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(h)});if(e.styles||e.classes)h=[],e.styles&&h.push({id:"advStyles",att:"style",type:"text",label:f.styles,"default":"",validate:a.dialog.validate.inlineStyle(f.invalidInlineStyle),onChange:function(){},getStyle:function(a,b){var c=this.getValue().match(new RegExp(a+"\\s*:\\s*([^;]*)","i"));return c?c[1]:b},updateStyle:function(a,b){var c=this.getValue();c&&(c=c.replace(new RegExp("\\s*"+a+"s*:[^;]*(?:$|;s*)","i"),"").replace(/^[;\s]+/,"").replace(/\s+$/,"")),b&&(c&&!/;\s*$/.test(c)&&(c+="; "),c+=a+": "+b),this.setValue(c,1)},setup:b,commit:c}),e.classes&&h.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",label:f.cssClasses,"default":"",setup:b,commit:c}]}),g.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(h)});return g}})}(),function(){j.add("div",{requires:["editingblock","domiterator","styles"],init:function(b){var c=b.lang.div;b.addCommand("creatediv",new a.dialogCommand("creatediv")),b.addCommand("editdiv",new a.dialogCommand("editdiv")),b.addCommand("removediv",{exec:function(a){function i(a){var b=new d.elementPath(a),c=b.blockLimit,e=c.is("div")&&c;e&&!e.data("cke-div-added")&&(h.push(e),e.data("cke-div-added"))}var b=a.getSelection(),c=b&&b.getRanges(),e,f=b.createBookmarks(),g,h=[];for(var j=0;j<c.length;j++)e=c[j],e.collapsed?i(b.getStartElement()):(g=new d.walker(e),g.evaluator=i,g.lastForward());for(j=0;j<h.length;j++)h[j].remove(!0);b.selectBookmarks(f)}}),b.ui.addButton("CreateDiv",{label:c.toolbar,command:"creatediv"}),b.addMenuItems&&(b.addMenuItems({editdiv:{label:c.edit,command:"editdiv",group:"div",order:1},removediv:{label:c.remove,command:"removediv",group:"div",order:5}}),b.contextMenu&&b.contextMenu.addListener(function(a,b){if(!a||a.isReadOnly())return null;var c=new d.elementPath(a),e=c.blockLimit;return e&&e.getAscendant("div",!0)?{editdiv:2,removediv:2}:null})),a.dialog.add("creatediv",this.path+"dialogs/div.js"),a.dialog.add("editdiv",this.path+"dialogs/div.js")}})}(),function(){var f={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(d){var e=d._.elementsPath.idBase,f=a.document.getById(e+"0");f&&f.focus(c||b.air)}}},g='<span class="cke_empty">&nbsp;</span>';j.add("elementspath",{requires:["selection"],init:function(c){function l(a){c.focus();var b=c._.elementsPath.list[a];if(b.is("body")){var e=new d.range(c.document);e.selectNodeContents(b),e.select()}else c.getSelection().selectElement(b)}function q(){i&&i.setHtml(g),delete c._.elementsPath.list}var h="cke_path_"+c.name,i,j=function(){return i||(i=a.document.getById(h)),i},k="cke_elementspath_"+e.getNextNumber()+"_";c._.elementsPath={idBase:k,filters:[]},c.on("themeSpace",function(a){a.data.space=="bottom"&&(a.data.html+='<span id="'+h+'_label" class="cke_voice_label">'+c.lang.elementsPath.eleLabel+"</span>"+'<div id="'+h+'" class="cke_path" role="group" aria-labelledby="'+h+'_label">'+g+"</div>")});var o=e.addFunction(l),p=e.addFunction(function(b,e){var f=c._.elementsPath.idBase,g;e=new d.event(e);var h=c.lang.dir=="rtl";switch(e.getKeystroke()){case h?39:37:case 9:return g=a.document.getById(f+(b+1)),g||(g=a.document.getById(f+"0")),g.focus(),!1;case h?37:39:case 2228233:return g=a.document.getById(f+(b-1)),g||(g=a.document.getById(f+(c._.elementsPath.list.length-1))),g.focus(),!1;case 27:return c.focus(),!1;case 13:case 32:return l(b),!1}return!0});c.on("selectionChange",function(a){var c=b,d=a.data.selection,e=d.getStartElement(),f=[],h=a.editor,i=h._.elementsPath.list=[],l=h._.elementsPath.filters;while(e){var m=0,q;e.data("cke-display-name")?q=e.data("cke-display-name"):e.data("cke-real-element-type")?q=e.data("cke-real-element-type"):q=e.getName();for(var t=0;t<l.length;t++){var w=l[t](e,q);if(w===!1){m=1;break}q=w||q}if(!m){var x=i.push(e)-1,y="";if(c.opera||c.gecko&&c.mac)y+=' onkeypress="return false;"';c.gecko&&(y+=' onblur="this.style.cssText = this.style.cssText;"');var z=h.lang.elementsPath.eleTitle.replace(/%1/,q);f.unshift('<a id="',k,x,'" href="javascript:void(\'',q,'\')" tabindex="-1" title="',z,'"'+(b.gecko&&b.version<10900?' onfocus="event.preventBubble();"':"")+' hidefocus="true" '+' onkeydown="return CKEDITOR.tools.callFunction(',p,",",x,', event );"'+y,' onclick="CKEDITOR.tools.callFunction('+o,",",x,'); return false;"',' role="button" aria-labelledby="'+k+x+'_label">',q,'<span id="',k,x,'_label" class="cke_label">'+z+"</span>","</a>")}if(q=="body")break;e=e.getParent()}var A=j();A.setHtml(f.join("")+g),h.fire("elementsPathUpdate",{space:A})}),c.on("readOnly",q),c.on("contentDomUnload",q),c.addCommand("elementsPathFocus",f.toolbarFocus)}})}(),function(){function i(a){return a.mode!="wysiwyg"?!1:k(a,a.config.shiftEnterMode,1)}function k(a,b,c){return c=a.config.forceEnterMode||c,a.mode!="wysiwyg"?!1:(b||(b=a.config.enterMode),setTimeout(function(){a.fire("saveSnapshot"),b==2?e(a,b,null,c):g(a,b,null,c),a.fire("saveSnapshot")},0),!0)}function l(a){var b=a.getSelection().getRanges(!0);for(var c=b.length-1;c>0;c--)b[c].deleteContents();return b[0]}j.add("enterkey",{requires:["keystrokes","indent"],init:function(a){a.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){k(a)}}),a.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){i(a)}});var b=a.keystrokeHandler.keystrokes;b[13]="enter",b[2228237]="shiftEnter"}}),j.enterkey={enterBlock:function(a,b,g,i){g=g||l(a);if(!g)return;var j=g.document,k=g.checkStartOfBlock(),m=g.checkEndOfBlock(),o=new d.elementPath(g.startContainer),q=o.block;if(k&&m){if(q&&(q.is("li")||q.getParent().is("li"))){a.execCommand("outdent");return}if(q&&q.getParent().is("blockquote")){q.breakParent(q.getParent()),q.getPrevious().getFirst(d.walker.invisible(1))||q.getPrevious().remove(),q.getNext().getFirst(d.walker.invisible(1))||q.getNext().remove(),g.moveToElementEditStart(q),g.select();return}}else if(q&&q.is("pre")){if(!m){e(a,b,g,i);return}}else if(q&&f.$captionBlock[q.getName()]){e(a,b,g,i);return}var r=b==3?"div":"p",t=g.splitBlock(r);if(!t)return;var u=t.previousBlock,v=t.nextBlock,w=t.wasStartOfBlock,x=t.wasEndOfBlock,y;v?(y=v.getParent(),y.is("li")&&(v.breakParent(y),v.move(v.getNext(),1))):u&&(y=u.getParent())&&y.is("li")&&(u.breakParent(y),y=u.getNext(),g.moveToElementEditStart(y),u.move(u.getPrevious()));if(!w&&!x)v.is("li")&&(y=v.getFirst(d.walker.invisible(!0)))&&y.is&&y.is("ul","ol")&&(c?j.createText(" "):j.createElement("br")).insertBefore(y),v&&g.moveToElementEditStart(v);else{var z,A;if(u){if(u.is("li")||!h.test(u.getName())&&!u.is("pre"))z=u.clone()}else v&&(z=v.clone());z?i&&!z.is("li")&&z.renameNode(r):y&&y.is("li")?z=y:(z=j.createElement(r),u&&(A=u.getDirection())&&z.setAttribute("dir",A));var B=t.elementPath;if(B)for(var C=0,D=B.elements.length;C<D;C++){var E=B.elements[C];if(E.equals(B.block)||E.equals(B.blockLimit))break;f.$removeEmpty[E.getName()]&&(E=E.clone(),z.moveChildren(E),z.append(E))}c||z.appendBogus(),z.getParent()||g.insertNode(z),z.is("li")&&z.removeAttribute("value"),c&&w&&(!x||!u.getChildCount())&&(g.moveToElementEditStart(x?u:z),g.select()),g.moveToElementEditStart(w&&!x?v:z)}if(!c)if(v){var F=j.createElement("span");F.setHtml("&nbsp;"),g.insertNode(F),F.scrollIntoView(),g.deleteContents()}else z.scrollIntoView();g.select()},enterBr:function(a,e,f,i){f=f||l(a);if(!f)return;var j=f.document,k=e==3?"div":"p",m=f.checkEndOfBlock(),n=new d.elementPath(a.getSelection().getStartElement()),q=n.block,r=q&&n.block.getName(),t=!1;if(!i&&r=="li"){g(a,e,f,i);return}if(!i&&m&&h.test(r)){var u,v;(v=q.getDirection())?(u=j.createElement("div"),u.setAttribute("dir",v),u.insertAfter(q),f.setStart(u,0)):(j.createElement("br").insertAfter(q),b.gecko&&j.createText("").insertAfter(q),f.setStartAt(q.getNext(),c?3:1))}else{var w;t=r=="pre",t&&!b.gecko?w=j.createText(c?"\r":"\n"):w=j.createElement("br"),f.deleteContents(),f.insertNode(w);if(c)f.setStartAt(w,4);else{j.createText("﻿").insertAfter(w),m&&w.getParent().appendBogus(),w.getNext().$.nodeValue="",f.setStartAt(w.getNext(),1);var x=null;b.gecko?x=j.createElement("br"):(x=j.createElement("span"),x.setHtml("&nbsp;")),x.insertBefore(w.getNext()),x.scrollIntoView(),x.remove()}}f.collapse(!0),f.select(t)}};var a=j.enterkey,e=a.enterBr,g=a.enterBlock,h=/^h[1-6]$/}(),function(){function e(a,b){var c={},d=[],e={nbsp:" ",shy:"­",gt:">",lt:"<",amp:"&"};a=a.replace(/\b(nbsp|shy|gt|lt|amp)(?:,|$)/g,function(a,f){var g=b?"&"+f+";":e[f],h=b?e[f]:"&"+f+";";return c[g]=h,d.push(g),""});if(!b&&a){a=a.split(",");var f=document.createElement("div"),g;f.innerHTML="&"+a.join(";&")+";",g=f.innerHTML,f=null;for(var h=0;h<g.length;h++){var i=g.charAt(h);c[i]="&"+a[h]+";",d.push(i)}}return c.regex=d.join(b?"|":""),c}var a="nbsp,gt,lt,amp",b="quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro",c="Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml",d="Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv";j.add("entities",{afterInit:function(f){var g=f.config,h=f.dataProcessor,i=h&&h.htmlFilter;if(i){var j="";g.basicEntities!==!1&&(j+=a),g.entities&&(j+=","+b,g.entities_latin&&(j+=","+c),g.entities_greek&&(j+=","+d),g.entities_additional&&(j+=","+g.entities_additional));var k=e(j),l=k.regex?"["+k.regex+"]":"a^";delete k.regex,g.entities&&g.entities_processNumerical&&(l="[^ -~]|"+l),l=new RegExp(l,"g");function r(a){return g.entities_processNumerical=="force"||!k[a]?"&#"+a.charCodeAt(0)+";":k[a]}var s=e([a,"shy"].join(","),!0),t=new RegExp(s.regex,"g");function u
(a){return s[a]}i.addRules({text:function(a){return a.replace(t,u).replace(l,r)}})}}})}(),i.basicEntities=!0,i.entities=!0,i.entities_latin=!0,i.entities_greek=!0,i.entities_additional="#39",function(){function b(a,b){var c=[];if(!b)return a;for(var d in b)c.push(d+"="+encodeURIComponent(b[d]));return a+(a.indexOf("?")!=-1?"&":"?")+c.join("&")}function c(a){a+="";var b=a.charAt(0).toUpperCase();return b+a.substr(1)}function d(a){var d=this,e=d.getDialog(),f=e.getParentEditor();f._.filebrowserSe=d;var g=f.config["filebrowser"+c(e.getName())+"WindowWidth"]||f.config.filebrowserWindowWidth||"80%",h=f.config["filebrowser"+c(e.getName())+"WindowHeight"]||f.config.filebrowserWindowHeight||"70%",i=d.filebrowser.params||{};i.CKEditor=f.name,i.CKEditorFuncNum=f._.filebrowserFn,i.langCode||(i.langCode=f.langCode);var j=b(d.filebrowser.url,i);f.popup(j,g,h,f.config.filebrowserWindowFeatures||f.config.fileBrowserWindowFeatures)}function f(a){var b=this,c=b.getDialog(),d=c.getParentEditor();return d._.filebrowserSe=b,c.getContentElement(b["for"][0],b["for"][1]).getInputElement().$.value?c.getContentElement(b["for"][0],b["for"][1]).getAction()?!0:!1:!1}function g(a,c,d){var e=d.params||{};e.CKEditor=a.name,e.CKEditorFuncNum=a._.filebrowserFn,e.langCode||(e.langCode=a.langCode),c.action=b(d.url,e),c.filebrowser=d}function h(a,b,e,i){var j,k;for(var l in i){j=i[l],(j.type=="hbox"||j.type=="vbox")&&h(a,b,e,j.children);if(!j.filebrowser)continue;if(typeof j.filebrowser=="string"){var m={action:j.type=="fileButton"?"QuickUpload":"Browse",target:j.filebrowser};j.filebrowser=m}if(j.filebrowser.action=="Browse"){var s=j.filebrowser.url;s===undefined&&(s=a.config["filebrowser"+c(b)+"BrowseUrl"],s===undefined&&(s=a.config.filebrowserBrowseUrl)),s&&(j.onClick=d,j.filebrowser.url=s,j.hidden=!1)}else if(j.filebrowser.action=="QuickUpload"&&j["for"]){s=j.filebrowser.url,s===undefined&&(s=a.config["filebrowser"+c(b)+"UploadUrl"],s===undefined&&(s=a.config.filebrowserUploadUrl));if(s){var t=j.onClick;j.onClick=function(a){var b=a.sender;return t&&t.call(b,a)===!1?!1:f.call(b,a)},j.filebrowser.url=s,j.hidden=!1,g(a,e.getContents(j["for"][0]).get(j["for"][1]),j.filebrowser)}}}}function i(a,b){var c=b.getDialog(),d=b.filebrowser.target||null;a=a.replace(/#/g,"%23");if(d){var e=d.split(":"),f=c.getContentElement(e[0],e[1]);f&&(f.setValue(a),c.selectPage(e[0]))}}function k(a,b,c){if(c.indexOf(";")!==-1){var d=c.split(";");for(var e=0;e<d.length;e++)if(k(a,b,d[e]))return!0;return!1}var f=a.getContents(b).get(c).filebrowser;return f&&f.url}function l(a,b){var c=this,d=c._.filebrowserSe.getDialog(),e=c._.filebrowserSe["for"],f=c._.filebrowserSe.filebrowser.onSelect;e&&d.getContentElement(e[0],e[1]).reset();if(typeof b=="function"&&b.call(c._.filebrowserSe)===!1)return;if(f&&f.call(c._.filebrowserSe,a,b)===!1)return;typeof b=="string"&&b&&alert(b),a&&i(a,c._.filebrowserSe)}j.add("filebrowser",{init:function(a,b){a._.filebrowserFn=e.addFunction(l,a),a.on("destroy",function(){e.removeFunction(this._.filebrowserFn)})}}),a.on("dialogDefinition",function(a){var b=a.data.definition,c;for(var d in b.contents)if(c=b.contents[d])h(a.editor,a.data.name,b,c.elements),c.hidden&&c.filebrowser&&(c.hidden=!k(b,c.id,c.filebrowser))})}(),j.add("find",{init:function(b){var c=j.find;b.ui.addButton("Find",{label:b.lang.findAndReplace.find,command:"find"});var d=b.addCommand("find",new a.dialogCommand("find"));d.canUndo=!1,d.readOnly=1,b.ui.addButton("Replace",{label:b.lang.findAndReplace.replace,command:"replace"});var e=b.addCommand("replace",new a.dialogCommand("replace"));e.canUndo=!1,a.dialog.add("find",this.path+"dialogs/find.js"),a.dialog.add("replace",this.path+"dialogs/find.js")},requires:["styles"]}),i.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}},function(){function c(a){var c=a.attributes;return c.type=="application/x-shockwave-flash"||b.test(c.src||"")}function d(a,b){return a.createFakeParserElement(b,"cke_flash","flash",!0)}var b=/\.swf(?:$|\?)/i;j.add("flash",{init:function(b){b.addCommand("flash",new a.dialogCommand("flash")),b.ui.addButton("Flash",{label:b.lang.common.flash,command:"flash"}),a.dialog.add("flash",this.path+"dialogs/flash.js"),b.addCss("img.cke_flash{background-image: url("+a.getUrl(this.path+"images/placeholder.png")+");"+"background-position: center center;"+"background-repeat: no-repeat;"+"border: 1px solid #a9a9a9;"+"width: 80px;"+"height: 80px;"+"}"),b.addMenuItems&&b.addMenuItems({flash:{label:b.lang.flash.properties,command:"flash",group:"flash"}}),b.on("doubleclick",function(a){var b=a.data.element;b.is("img")&&b.data("cke-real-element-type")=="flash"&&(a.data.dialog="flash")}),b.contextMenu&&b.contextMenu.addListener(function(a,b){if(a&&a.is("img")&&!a.isReadOnly()&&a.data("cke-real-element-type")=="flash")return{flash:2}})},afterInit:function(a){var b=a.dataProcessor,e=b&&b.dataFilter;e&&e.addRules({elements:{"cke:object":function(b){var e=b.attributes,f=e.classid&&String(e.classid).toLowerCase();if(!f&&!c(b)){for(var g=0;g<b.children.length;g++)if(b.children[g].name=="cke:embed")return c(b.children[g])?d(a,b):null;return null}return d(a,b)},"cke:embed":function(b){return c(b)?d(a,b):null}}},5)},requires:["fakeobjects"]})}(),e.extend(i,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1}),function(){function b(b,c,d,e,f,g,h){var i=b.config,j=f.split(";"),k=[],l={};for(var m=0;m<j.length;m++){var n=j[m];if(n){n=n.split("/");var o={},p=j[m]=n[0];o[d]=k[m]=n[1]||p,l[p]=new a.style(h,o),l[p]._.definition.name=p}else j.splice(m--,1)}b.ui.addRichCombo(c,{label:e.label,title:e.panelTitle,className:"cke_"+(d=="size"?"fontSize":"font"),panel:{css:b.skin.editor.css.concat(i.contentsCss),multiSelect:!1,attributes:{"aria-label":e.panelTitle}},init:function(){this.startGroup(e.panelTitle);for(var a=0;a<j.length;a++){var b=j[a];this.add(b,l[b].buildPreview(),b)}},onClick:function(a){b.focus(),b.fire("saveSnapshot");var c=l[a];this.getValue()==a?c.remove(b.document):c.apply(b.document),b.fire("saveSnapshot")},onRender:function(){b.on("selectionChange",function(a){var b=this.getValue(),c=a.data.path,d=c.elements;for(var e=0,f;e<d.length;e++){f=d[e];for(var h in l)if(l[h].checkElementRemovable(f,!0)){h!=b&&this.setValue(h);return}}this.setValue("",g)},this)}})}j.add("font",{requires:["richcombo","styles"],init:function(a){var c=a.config;b(a,"Font","family",a.lang.font,c.font_names,c.font_defaultLabel,c.font_style),b(a,"FontSize","size",a.lang.fontSize,c.fontSize_sizes,c.fontSize_defaultLabel,c.fontSize_style)}})}(),i.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",i.font_defaultLabel="",i.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},i.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",i.fontSize_defaultLabel="",i.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},j.add("format",{requires:["richcombo","styles"],init:function(b){var c=b.config,e=b.lang.format,f=c.format_tags.split(";"),g={};for(var h=0;h<f.length;h++){var i=f[h];g[i]=new a.style(c["format_"+i]),g[i]._.enterMode=b.config.enterMode}b.ui.addRichCombo("Format",{label:e.label,title:e.panelTitle,className:"cke_format",panel:{css:b.skin.editor.css.concat(c.contentsCss),multiSelect:!1,attributes:{"aria-label":e.panelTitle}},init:function(){this.startGroup(e.panelTitle);for(var a in g){var b=e["tag_"+a];this.add(a,g[a].buildPreview(b),b)}},onClick:function(a){b.focus(),b.fire("saveSnapshot");var c=g[a],e=new d.elementPath(b.getSelection().getStartElement());c[c.checkActive(e)?"remove":"apply"](b.document),setTimeout(function(){b.fire("saveSnapshot")},0)},onRender:function(){b.on("selectionChange",function(a){var c=this.getValue(),d=a.data.path;for(var e in g)if(g[e].checkActive(d)){e!=c&&this.setValue(e,b.lang.format["tag_"+e]);return}this.setValue("")},this)}})}}),i.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",i.format_p={element:"p"},i.format_div={element:"div"},i.format_pre={element:"pre"},i.format_address={element:"address"},i.format_h1={element:"h1"},i.format_h2={element:"h2"},i.format_h3={element:"h3"},i.format_h4={element:"h4"},i.format_h5={element:"h5"},i.format_h6={element:"h6"},j.add("forms",{init:function(b){var c=b.lang;b.addCss("form{border: 1px dotted #FF0000;padding: 2px;}\n"),b.addCss("img.cke_hidden{background-image: url("+a.getUrl(this.path+"images/hiddenfield.gif")+");"+"background-position: center center;"+"background-repeat: no-repeat;"+"border: 1px solid #a9a9a9;"+"width: 16px !important;"+"height: 16px !important;"+"}");var d=function(d,e,f){b.addCommand(e,new a.dialogCommand(e)),b.ui.addButton(d,{label:c.common[d.charAt(0).toLowerCase()+d.slice(1)],command:e}),a.dialog.add(e,f)},e=this.path+"dialogs/";d("Form","form",e+"form.js"),d("Checkbox","checkbox",e+"checkbox.js"),d("Radio","radio",e+"radio.js"),d("TextField","textfield",e+"textfield.js"),d("Textarea","textarea",e+"textarea.js"),d("Select","select",e+"select.js"),d("Button","button",e+"button.js"),d("ImageButton","imagebutton",j.getPath("image")+"dialogs/image.js"),d("HiddenField","hiddenfield",e+"hiddenfield.js"),b.addMenuItems&&b.addMenuItems({form:{label:c.form.menu,command:"form",group:"form"},checkbox:{label:c.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:c.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:c.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:c.hidden.title,command:"hiddenfield",group:"hiddenfield"},imagebutton:{label:c.image.titleButton,command:"imagebutton",group:"imagebutton"},button:{label:c.button.title,command:"button",group:"button"},select:{label:c.select.title,command:"select",group:"select"},textarea:{label:c.textarea.title,command:"textarea",group:"textarea"}}),b.contextMenu&&(b.contextMenu.addListener(function(a){if(a&&a.hasAscendant("form",!0)&&!a.isReadOnly())return{form:2}}),b.contextMenu.addListener(function(a){if(a&&!a.isReadOnly()){var b=a.getName();if(b=="select")return{select:2};if(b=="textarea")return{textarea:2};if(b=="input")switch(a.getAttribute("type")){case"button":case"submit":case"reset":return{button:2};case"checkbox":return{checkbox:2};case"radio":return{radio:2};case"image":return{imagebutton:2};default:return{textfield:2}}if(b=="img"&&a.data("cke-real-element-type")=="hiddenfield")return{hiddenfield:2}}})),b.on("doubleclick",function(a){var b=a.data.element;if(b.is("form"))a.data.dialog="form";else if(b.is("select"))a.data.dialog="select";else if(b.is("textarea"))a.data.dialog="textarea";else if(b.is("img")&&b.data("cke-real-element-type")=="hiddenfield")a.data.dialog="hiddenfield";else if(b.is("input"))switch(b.getAttribute("type")){case"button":case"submit":case"reset":a.data.dialog="button";break;case"checkbox":a.data.dialog="checkbox";break;case"radio":a.data.dialog="radio";break;case"image":a.data.dialog="imagebutton";break;default:a.data.dialog="textfield"}})},afterInit:function(a){var b=a.dataProcessor,d=b&&b.htmlFilter,e=b&&b.dataFilter;c&&d&&d.addRules({elements:{input:function(a){var b=a.attributes,c=b.type;c||(b.type="text"),(c=="checkbox"||c=="radio")&&b.value=="on"&&delete b.value}}}),e&&e.addRules({elements:{input:function(b){if(b.attributes.type=="hidden")return a.createFakeParserElement(b,"cke_hidden","hiddenfield")}}})},requires:["image","fakeobjects"]}),c&&(h.prototype.hasAttribute=e.override(h.prototype.hasAttribute,function(a){return function(b){var c=this,d=c.$.attributes.getNamedItem(b);if(c.getName()=="input")switch(b){case"class":return c.$.className.length>0;case"checked":return!!c.$.checked;case"value":var e=c.getAttribute("type");return e=="checkbox"||e=="radio"?c.$.value!="on":c.$.value}return a.apply(c,arguments)}})),function(){var a={canUndo:!1,exec:function(a){var b=a.document.createElement("hr"),c=new d.range(a.document);a.insertElement(b),c.moveToPosition(b,4);var e=b.getNext();(!e||e.type==1&&!e.isEditable())&&c.fixBlock(!0,a.config.enterMode==3?"div":"p"),c.select()}},b="horizontalrule";j.add(b,{init:function(c){c.addCommand(b,a),c.ui.addButton("HorizontalRule",{label:c.lang.horizontalrule,command:b})}})}(),function(){function g(a){var b=a.children.length,c=a.children[b-1];while(c&&c.type==3&&!e.trim(c.value))c=a.children[--b];return c}function k(a,d){var e=a.children,f=g(a);f&&((d||!c)&&f.type==1&&f.name=="br"&&e.pop(),f.type==3&&b.test(f.value)&&e.pop())}function l(a,b,d){if(!b&&(!d||typeof d=="function"&&d(a)===!1))return!1;if(b&&c&&(document.documentMode>7||a.name in f.tr||a.name in f.$listItem))return!1;var e=g(a);return!e||e&&(e.type==1&&e.name=="br"||a.name=="form"&&e.name=="input")}function m(b,d){return function(e){k(e,!b),l(e,!b,d)&&(b||c?e.add(new a.htmlParser.text(" ")):e.add(new a.htmlParser.element("br",{})))}}function u(a){var b=a.attributes;b.contenteditable!="false"&&(b["data-cke-editable"]=b.contenteditable?"true":1),b.contenteditable="false"}function v(a){var b=a.attributes;switch(b["data-cke-editable"]){case"true":b.contenteditable="true";break;case"1":delete b.contenteditable}}function D(a){return a.replace(w,function(a,b,c){return"<"+b+c.replace(x,function(a,b){return!/^on/.test(b)&&c.indexOf("data-cke-saved-"+b)==-1?" data-cke-saved-"+a+" "+a:a})+">"})}function E(a){return a.replace(y,function(a){return"<cke:encoded>"+encodeURIComponent(a)+"</cke:encoded>"})}function F(a){return a.replace(z,function(a,b){return decodeURIComponent(b)})}function G(a){return a.replace(A,"$1cke:$2")}function H(a){return a.replace(B,"$1$2")}function I(a){return a.replace(C,"<cke:$1$2></cke:$1>")}function J(a){return a.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")}function K(a){return a.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(a){return"<!--"+d+"{C}"+encodeURIComponent(a).replace(/--/g,"%2D%2D")+"-->"})}function L(a){return a.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(a,b){return decodeURIComponent(b)})}function M(a,b){var c=b._.dataStore;return a.replace(/<!--\{cke_protected\}([\s\S]+?)-->/g,function(a,b){return decodeURIComponent(b)}).replace(/\{cke_protected_(\d+)\}/g,function(a,b){return c&&c[b]||""})}function N(a,b){var c=[],e=b.config.protectedSource,f=b._.dataStore||(b._.dataStore={id:1}),g=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,h=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi].concat(e);a=a.replace(/<!--[\s\S]*?-->/g,function(a){return"<!--{cke_tempcomment}"+(c.push(a)-1)+"-->"});for(var i=0;i<h.length;i++)a=a.replace(h[i],function(a){return a=a.replace(g,function(a,b,d){return c[d]}),/cke_temp(comment)?/.test(a)?a:"<!--{cke_temp}"+(c.push(a)-1)+"-->"});return a=a.replace(g,function(a,b,e){return"<!--"+d+(b?"{C}":"")+encodeURIComponent(c[e]).replace(/--/g,"%2D%2D")+"-->"}),a.replace(/(['"]).*?\1/g,function(a){return a.replace(/<!--\{cke_protected\}([\s\S]+?)-->/g,function(a,b){return f[f.id]=decodeURIComponent(b),"{cke_protected_"+f.id++ +"}"})})}var b=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,d="{cke_protected}",n=f,o=["caption","colgroup","col","thead","tfoot","tbody"],p=e.extend({},n.$block,n.$listItem,n.$tableContent);for(var q in p)"br"in n[q]||delete p[q];delete p.pre;var r={elements:{},attributeNames:[[/^on/,"data-cke-pa-on"]]},s={elements:{}};for(q in p)s.elements[q]=m();var t={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(a){var b=a.attributes;if(b){if(b["data-cke-temp"])return!1;var c=["name","href","src"],d;for(var e=0;e<c.length;e++)d="data-cke-saved-"+c[e],d in b&&delete b[c[e]]}return a},table:function(a){var b=a.children;b.sort(function(a,b){return a.type==1&&b.type==a.type?e.indexOf(o,a.name)>e.indexOf(o,b.name)?1:-1:0})},embed:function(a){var b=a.parent;if(b&&b.name=="object"){var c=b.attributes.width,d=b.attributes.height;c&&(a.attributes.width=c),d&&(a.attributes.height=d)}},param:function(a){return a.children=[],a.isEmpty=!0,a},a:function(a){if(!(a.children.length||a.attributes.name||a.attributes["data-cke-saved-name"]))return!1},span:function(a){a.attributes["class"]=="Apple-style-span"&&delete a.name},pre:function(a){c&&k(a)},html:function(a){delete a.attributes.contenteditable,delete a.attributes["class"]},body:function(a){delete a.attributes.spellcheck,delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=e.trim(b.value)),a.attributes.type||(a.attributes.type="text/css")},title:function(a){var b=a.children[0];b&&(b.value=a.attributes["data-cke-title"]||"")}},attributes:{"class":function(a,b){return e.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};c&&(t.attributes.style=function(a,b){return a.replace(/(^|;)([^\:]+)/g,function(a){return a.toLowerCase()})});for(q in{input:1,textarea:1})r.elements[q]=u,t.elements[q]=v;var w=/<(a|area|img|input)\b([^>]*)>/gi,x=/\b(on\w+|href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,y=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,z=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,A=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,B=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,C=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;j.add("htmldataprocessor",{requires:["htmlwriter"],init:function(b){var c=b.dataProcessor=new a.htmlDataProcessor(b);c.writer.forceSimpleAmpersand=b.config.forceSimpleAmpersand,c.dataFilter.addRules(r),c.dataFilter.addRules(s),c.htmlFilter.addRules(t);var d={elements:{}};for(q in p)d.elements[q]=m(!0,b.config.fillEmptyBlocks);c.htmlFilter.addRules(d)},onLoad:function(){!("fillEmptyBlocks"in i)&&(i.fillEmptyBlocks=1)}}),a.htmlDataProcessor=function(b){var c=this;c.editor=b,c.writer=new a.htmlWriter,c.dataFilter=new a.htmlParser.filter,c.htmlFilter=new a.htmlParser.filter},a.htmlDataProcessor.prototype={toHtml:function(b,c){b=N(b,this.editor),b=D(b),b=E(b),b=G(b),b=I(b),b=J(b);var d=new h("div");d.setHtml("a"+b),b=d.getHtml().substr(1),b=H(b),b=F(b),b=L(b);var e=a.htmlParser.fragment.fromHtml(b,c),f=new a.htmlParser.basicWriter;return e.writeHtml(f,this.dataFilter),b=f.getHtml(!0),b=K(b),b},toDataFormat:function(b,c){var d=this.writer,e=a.htmlParser.fragment.fromHtml(b,c);d.reset(),e.writeHtml(d,this.htmlFilter);var f=d.getHtml(!0);return f=L(f),f=M(f,this.editor),f}}}(),function(){j.add("iframe",{requires:["dialog","fakeobjects"],init:function(b){var c="iframe",d=b.lang.iframe;a.dialog.add(c,this.path+"dialogs/iframe.js"),b.addCommand(c,new a.dialogCommand(c)),b.addCss("img.cke_iframe{background-image: url("+a.getUrl(this.path+"images/placeholder.png")+");"+"background-position: center center;"+"background-repeat: no-repeat;"+"border: 1px solid #a9a9a9;"+"width: 80px;"+"height: 80px;"+"}"),b.ui.addButton("Iframe",{label:d.toolbar,command:c}),b.on("doubleclick",function(a){var b=a.data.element;b.is("img")&&b.data("cke-real-element-type")=="iframe"&&(a.data.dialog="iframe")}),b.addMenuItems&&b.addMenuItems({iframe:{label:d.title,command:"iframe",group:"image"}}),b.contextMenu&&b.contextMenu.addListener(function(a,b){if(a&&a.is("img")&&a.data("cke-real-element-type")=="iframe")return{iframe:2}})},afterInit:function(a){var b=a.dataProcessor,c=b&&b.dataFilter;c&&c.addRules({elements:{iframe:function(b){return a.createFakeParserElement(b,"cke_iframe","iframe",!0)}}})}})}(),j.add("image",{init:function(b){var c="image";a.dialog.add(c,this.path+"dialogs/image.js"),b.addCommand(c,new a.dialogCommand(c)),b.ui.addButton("Image",{label:b.lang.common.image,command:c}),b.on("doubleclick",function(a){var b=a.data.element;b.is("img")&&!b.data("cke-realelement")&&!b.isReadOnly()&&(a.data.dialog="image")}),b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:"image",group:"image"}}),b.contextMenu&&b.contextMenu.addListener(function(a,b){return!a||!a.is("img")||a.data("cke-realelement")||a.isReadOnly()?null:{image:2}})}}),i.image_removeLinkByEmptyURL=!0,function(){function i(b){var c=this;if(b.editor.readOnly)return null;var d=b.editor,e=b.data.path,f=e&&e.contains(a),g=e.block||e.blockLimit;if(f)return c.setState(2);if(!c.useIndentClasses&&c.name=="indent")return c.setState(2);if(!g)return c.setState(0);if(c.useIndentClasses){var h=g.$.className.match(c.classNameRegex),i=0;return h&&(h=h[1],i=c.indentClassMap[h]),c.name=="outdent"&&!i||c.name=="indent"&&i==d.config.indentClasses.length?c.setState(0):c.setState(2)}var j=parseInt(g.getStyle(l(g)),10);return isNaN(j)&&(j=0),j<=0?c.setState(0):c.setState(2)}function k(a,b){var c=this;c.name=b,c.useIndentClasses=a.config.indentClasses&&a.config.indentClasses.length>0;if(c.useIndentClasses){c.classNameRegex=new RegExp("(?:^|\\s+)("+a.config.indentClasses.join("|")+")(?=$|\\s)"),c.indentClassMap={};for(var d=0;d<a.config.indentClasses.length;d++)c.indentClassMap[a.config.indentClasses[d]]=d+1}c.startDisabled=b=="outdent"}function l(a,b){return(b||a.getComputedStyle("direction"))=="ltr"?"margin-left":"margin-right"}function m(a){return a.type==1&&a.is("li")}var a={ol:1,ul:1},f=d.walker.whitespaces(!0),g=d.walker.bookmark(!1,!0);k.prototype={exec:function(b){function p(d){var e=x.startContainer,l=x.endContainer;while(e&&!e.getParent().equals(d))e=e.getParent();while(l&&!l.getParent().equals(d))l=l.getParent();if(!e||!l)return;var m=e,p=[],q=!1;while(!q)m.equals(l)&&(q=!0),p.push(m),m=m.getNext();if(p.length<1)return;var r=d.getParents(!0);for(var s=0;s<r.length;s++)if(r[s].getName&&a[r[s].getName()]){d=r[s];break}var t=i.name=="indent"?1:-1,u=p[0],v=p[p.length-1],w=j.list.listToArray(d,k),y=w[v.getCustomData("listarray_index")].indent;for(s=u.getCustomData("listarray_index");s<=v.getCustomData("listarray_index");s++){w[s].indent+=t;var z=w[s].parent;w[s].parent=new h(z.getName(),z.getDocument())}for(s=v.getCustomData("listarray_index")+1;s<w.length&&w[s].indent>y;s++)w[s].indent+=t;var A=j.list.arrayToList(w,k,null,b.config.enterMode,d.getDirection());if(i.name=="outdent"){var B;if((B=d.getParent())&&B.is("li")){var C=A.listNode.getChildren(),D=[],E=C.count(),F;for(s=E-1;s>=0;s--)(F=C.getItem(s))&&F.is&&F.is("li")&&D.push(F)}}A&&A.listNode.replace(d);if(D&&D.length)for(s=0;s<D.length;s++){var G=D[s],H=G;while((H=H.getNext())&&H.is&&H.getName()in a)c&&!G.getFirst(function(a){return f(a)&&g(a)})&&G.append(x.document.createText(" ")),G.append(H);G.insertAfter(B)}}function q(){var a=x.createIterator(),c=b.config.enterMode;a.enforceRealBlocks=!0,a.enlargeBr=c!=2;var d;while(d=a.getNextParagraph(c==1?"p":"div"))t(d)}function t(a,c){if(a.getCustomData("indent_processed"))return!1;if(i.useIndentClasses){var d=a.$.className.match(i.classNameRegex),f=0;d&&(d=d[1],f=i.indentClassMap[d]),i.name=="outdent"?f--:f++;if(f<0)return!1;f=Math.min(f,b.config.indentClasses.length),f=Math.max(f,0),a.$.className=e.ltrim(a.$.className.replace(i.classNameRegex,"")),f>0&&a.addClass(b.config.indentClasses[f-1])}else{var g=l(a,c),j=parseInt(a.getStyle(g),10);isNaN(j)&&(j=0);var m=b.config.indentOffset||40;j+=(i.name=="indent"?1:-1)*m;if(j<0)return!1;j=Math.max(j,0),j=Math.ceil(j/m)*m,a.setStyle(g,j?j+(b.config.indentUnit||"px"):""),a.getAttribute("style")===""&&a.removeAttribute("style")}return h.setMarker(k,a,"indent_processed",1),!0}var i=this,k={},u=b.getSelection(),v=u.createBookmarks(1),w=u&&u.getRanges(1),x,y=w.createIterator();while(x=y.getNextRange()){var z=x.getCommonAncestor(),A=z;while(A&&(A.type!=1||!a[A.getName()]))A=A.getParent();if(!A){var B=x.getEnclosedNode();B&&B.type==1&&B.getName()in a&&(x.setStartAt(B,1),x.setEndAt(B,2),A=B)}if(A&&x.startContainer.type==1&&x.startContainer.getName()in a){var C=new d.walker(x);C.evaluator=m,x.startContainer=C.next()}A&&x.endContainer.type==1&&x.endContainer.getName()in a&&(C=new d.walker(x),C.evaluator=m,x.endContainer=C.previous());if(A){var D=A.getFirst(m),E=!!D.getNext(m),F=x.startContainer,G=D.equals(F)||D.contains(F);(!G||i.name!="indent"&&!i.useIndentClasses&&!parseInt(A.getStyle(l(A)),10)||!t(A,!E&&D.getDirection()))&&p(A)}else q()}h.clearAllMarkers(k),b.forceNextSelectionCheck(),u.selectBookmarks(v)}},j.add("indent",{init:function(a){var c=a.addCommand("indent",new k(a,"indent")),f=a.addCommand("outdent",new k(a,"outdent"));a.ui.addButton("Indent",{label:a.lang.indent,command:"indent"}),a.ui.addButton("Outdent",{label:a.lang.outdent,command:"outdent"}),a.on("selectionChange",e.bind(i,c)),a.on("selectionChange",e.bind(i,f)),(b.ie6Compat||b.ie7Compat)&&a.addCss("ul,ol{\tmargin-left: 0px;\tpadding-left: 40px;}"),a.on("dirChanged",function(b){var c=new d.range(a.document);c.setStartBefore(b.data.node),c.setEndAfter(b.data.node);var e=new d.walker(c),f;while(f=e.next())if(f.type==1){if(!f.equals(b.data.node)&&f.getDirection()){c.setStartAfter(f),e=new d.walker(c);continue}var g=a.config.indentClasses;if(g){var h=b.data.dir=="ltr"?["_rtl",""]:["","_rtl"];for(var i=0;i<g.length;i++)f.hasClass(g[i]+h[0])&&(f.removeClass(g[i]+h[0]),f.addClass(g[i]+h[1]))}var j=f.getStyle("margin-right"),k=f.getStyle("margin-left");j?f.setStyle("margin-left",j):f.removeStyle("margin-left"),k?f.setStyle("margin-right",k):f.removeStyle("margin-right")}})},requires:["domiterator","list"]})}(),function(){function a(a,c){var d=c.block||c.blockLimit;return!d||d.getName()=="body"?2:b(d,a.config.useComputedState)==this.value?1:2}function b(a,b){b=b===undefined||b;var c;if(b)c=a.getComputedStyle("text-align");else{while(!a.hasAttribute||!a.hasAttribute("align")&&!a.getStyle("text-align")){var d=a.getParent();if(!d)break;a=d}c=a.getStyle("text-align")||a.getAttribute("align")||""}return c&&(c=c.replace(/-moz-|-webkit-|start|auto/i,"")),!c&&b&&(c=a.getComputedStyle("direction")=="rtl"?"right":"left"),c}function c(b){if(b.editor.readOnly)return;var c=b.editor.getCommand(this.name);c.state=a.call(this,b.editor,b.data.path),c.fire("state")}function f(a,b,c){var d=this;d.name=b,d.value=c;var e=a.config.justifyClasses;if(e){switch(c){case"left":d.cssClassName=e[0];break;case"center":d.cssClassName=e[1];break;case"right":d.cssClassName=e[2];break;case"justify":d.cssClassName=e[3]}d.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+e.join("|")+")(?=$|\\s)")}}function g(a){var b=a.editor,c=new d.range(b.document);c.setStartBefore(a.data.node),c.setEndAfter(a.data.node);var e=new d.walker(c),f;while(f=e.next())if(f.type==1){if(!f.equals(a.data.node)&&f.getDirection()){c.setStartAfter(f),e=new d.walker(c);continue}var g=b.config.justifyClasses;g&&(f.hasClass(g[0])?(f.removeClass(g[0]),f.addClass(g[2])):f.hasClass(g[2])&&(f.removeClass(g[2]),f.addClass(g[0])));var h="text-align",i=f.getStyle(h);i=="left"?f.setStyle(h,"right"):i=="right"&&f.setStyle(h,"left")}}f.prototype={exec:function(a){var c=this,d=a.getSelection(),f=a.config.enterMode;if(!d)return;var g=d.createBookmarks(),h=d.getRanges(!0),i=c.cssClassName,j,k,l=a.config.useComputedState;l=l===undefined||l;for(var m=h.length-1;m>=0;m--){j=h[m].createIterator(),j.enlargeBr=f!=2;while(k=j.getNextParagraph(f==1?"p":"div")){k.removeAttribute("align"),k.removeStyle("text-align");var o=i&&(k.$.className=e.ltrim(k.$.className.replace(c.cssClassRegex,""))),p=c.state==2&&(!l||b(k,true)!=c.value);i?p?k.addClass(i):o||k.removeAttribute("class"):p&&k.setStyle("text-align",c.value)}}a.focus(),a.forceNextSelectionCheck(),d.selectBookmarks(g)}},j.add("justify",{init:function(a){var b=new f(a,"justifyleft","left"),d=new f(a,"justifycenter","center"),h=new f(a,"justifyright","right"),i=new f(a,"justifyblock","justify");a.addCommand("justifyleft",b),a.addCommand("justifycenter",d),a.addCommand("justifyright",h),a.addCommand("justifyblock",i),a.ui.addButton("JustifyLeft",{label:a.lang.justify.left,command:"justifyleft"}),a.ui.addButton("JustifyCenter",{label:a.lang.justify.center,command:"justifycenter"}),a.ui.addButton("JustifyRight",{label:a.lang.justify.right,command:"justifyright"}),a.ui.addButton("JustifyBlock",{label:a.lang.justify.block,command:"justifyblock"}),a.on("selectionChange",e.bind(c,b)),a.on("selectionChange",e.bind(c,h)),a.on("selectionChange",e.bind(c,d)),a.on("selectionChange",e.bind(c,i)),a.on("dirChanged",g)},requires:["domiterator"]})}(),j.add("keystrokes",{beforeInit:function(b){b.keystrokeHandler=new a.keystrokeHandler(b),b.specialKeys={}},init:function(a){var b=a.config.keystrokes,c=a.config.blockedKeystrokes,d=a.keystrokeHandler.keystrokes,e=a.keystrokeHandler.blockedKeystrokes;for(var f=0;f<b.length;f++)d[b[f][0]]=b[f][1];for(f=0;f<c.length;f++)e[c[f]]=1}}),a.keystrokeHandler=function(a){var b=this;return a.keystrokeHandler?a.keystrokeHandler:(b.keystrokes={},b.blockedKeystrokes={},b._={editor:a},b)},function(){var c,d=function(a){a=a.data;var b=a.getKeystroke(),d=this.keystrokes[b],e=this._.editor;c=e.fire("key",{keyCode:b})===!0;if(!c){if(d){var f={from:"keystrokeHandler"};c=e.execCommand(d,f)!==!1}if(!c){var g=e.specialKeys[b];c=g&&g(e)===!0,c||(c=!!this.blockedKeystrokes[b])}}return c&&a.preventDefault(!0),!c},e=function(a){c&&(c=!1,a.data.preventDefault(!0))};a.keystrokeHandler.prototype={attach:function(a){a.on("keydown",d,this),(b.opera||b.gecko&&b.mac)&&a.on("keypress",e,this)}}}(),i.blockedKeystrokes=[1114178,1114185,1114197],i.keystrokes=[[4456569,"toolbarFocus"],[4456570,"elementsPathFocus"],[2228345,"contextMenu"],[3342457,"contextMenu"],[1114202,"undo"],[1114201,"redo"],[3342426,"redo"],[1114188,"link"],[1114178,"bold"],[1114185,"italic"],[1114197,"underline"],[4456448+(c||b.webkit?189:109),"toolbarCollapse"],[4456496,"a11yHelp"]],j.add("link",{init:function(d){d.addCommand("link",new a.dialogCommand("link")),d.addCommand("anchor",new a.dialogCommand("anchor")),d.addCommand("unlink",new a.unlinkCommand),d.addCommand("removeAnchor",new a.removeAnchorCommand),d.ui.addButton("Link",{label:d.lang.link.toolbar,command:"link"}),d.ui.addButton("Unlink",{label:d.lang.unlink,command:"unlink"}),d.ui.addButton("Anchor",{label:d.lang.anchor.toolbar,command:"anchor"}),a.dialog.add("link",this.path+"dialogs/link.js"),a.dialog.add("anchor",this.path+"dialogs/anchor.js");var e=d.lang.dir=="rtl"?"right":"left",f="background:url("+a.getUrl(this.path+"images/anchor.gif")+") no-repeat "+e+" center;"+"border:1px dotted #00f;";d.addCss("a.cke_anchor,a.cke_anchor_empty"+(c&&b.version<7?"":",a[name],a[data-cke-saved-name]")+"{"+f+"padding-"+e+":18px;"+"cursor:auto;"+"}"+(c?"a.cke_anchor_empty{display:inline-block;}":"")+"img.cke_anchor"+"{"+f+"width:16px;"+"min-height:15px;"+"height:1.15em;"+"vertical-align:"+(b.opera?"middle":"text-bottom")+";"+"}"),d.on("selectionChange",function(a){if(d.readOnly)return;var b=d.getCommand("unlink"),c=a.data.path.lastElement&&a.data.path.lastElement.getAscendant("a",!0);c&&c.getName()=="a"&&c.getAttribute("href")&&c.getChildCount()?b.setState(2):b.setState(0)}),d.on("doubleclick",function(a){var b=j.link.getSelectedLink(d)||a.data.element;b.isReadOnly()||(b.is("a")?(a.data.dialog=b.getAttribute("name")&&(!b.getAttribute("href")||!b.getChildCount())?"anchor":"link",d.getSelection().selectElement(b)):j.link.tryRestoreFakeAnchor(d,b)&&(a.data.dialog="anchor"))}),d.addMenuItems&&d.addMenuItems({anchor:{label:d.lang.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:d.lang.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:d.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:d.lang.unlink,command:"unlink",group:"link",order:5}}),d.contextMenu&&d.contextMenu.addListener(function(a,b){if(!a||a.isReadOnly())return null;var c=j.link.tryRestoreFakeAnchor(d,a);if(!c&&!(c=j.link.getSelectedLink(d)))return null;var e={};return c.getAttribute("href")&&c.getChildCount()&&(e={link:2,unlink:2}),c&&c.hasAttribute("name")&&(e.anchor=e.removeAnchor=2),e})},afterInit:function(a){var b=a.dataProcessor,c=b&&b.dataFilter,d=b&&b.htmlFilter,e=a._.elementsPath&&a._.elementsPath.filters;c&&c.addRules({elements:{a:function(b){var c=b.attributes;if(!c.name)return null;var d=!b.children.length;if(j.link.synAnchorSelector){var e=d?"cke_anchor_empty":"cke_anchor",f=c["class"];c.name&&(!f||f.indexOf(e)<0)&&(c["class"]=(f||"")+" "+e),d&&j.link.emptyAnchorFix&&(c.contenteditable="false",c["data-cke-editable"]=1)}else if(j.link.fakeAnchor&&d)return a.createFakeParserElement(b,"cke_anchor","anchor");return null}}}),j.link.emptyAnchorFix&&d&&d.addRules({elements:{a:function(a){delete a.attributes.contenteditable}}}),e&&e.push(function(b,c){if(c=="a")if(j.link.tryRestoreFakeAnchor(a,b)||b.getAttribute("name")&&(!b
.getAttribute("href")||!b.getChildCount()))return"anchor"})},requires:["fakeobjects"]}),j.link={getSelectedLink:function(a){try{var b=a.getSelection();if(b.getType()==3){var c=b.getSelectedElement();if(c.is("a"))return c}var d=b.getRanges(!0)[0];d.shrink(2);var e=d.getCommonAncestor();return e.getAscendant("a",!0)}catch(f){return null}},fakeAnchor:b.opera||b.webkit,synAnchorSelector:c,emptyAnchorFix:c&&b.version<8,tryRestoreFakeAnchor:function(a,b){if(b&&b.data("cke-real-element-type")&&b.data("cke-real-element-type")=="anchor"){var c=a.restoreRealElement(b);if(c.data("cke-saved-name"))return c}}},a.unlinkCommand=function(){},a.unlinkCommand.prototype={exec:function(a){var b=a.getSelection(),c=b.createBookmarks(),d=b.getRanges(),e,f;for(var g=0;g<d.length;g++){e=d[g].getCommonAncestor(!0),f=e.getAscendant("a",!0);if(!f)continue;d[g].selectNodeContents(f)}b.selectRanges(d),a.document.$.execCommand("unlink",!1,null),b.selectBookmarks(c)},startDisabled:!0},a.removeAnchorCommand=function(){},a.removeAnchorCommand.prototype={exec:function(a){var b=a.getSelection(),c=b.createBookmarks(),d;if(b&&(d=b.getSelectedElement())&&(j.link.fakeAnchor&&!d.getChildCount()?j.link.tryRestoreFakeAnchor(a,d):d.is("a")))d.remove(1);else if(d=j.link.getSelectedLink(a))d.hasAttribute("href")?(d.removeAttributes({name:1,"data-cke-saved-name":1}),d.removeClass("cke_anchor")):d.remove(1);b.selectBookmarks(c)}},e.extend(i,{linkShowAdvancedTab:!0,linkShowTargetTab:!0}),function(){function m(a){var b,c,d;if(b=a.getDirection()){c=a.getParent();while(c&&!(d=c.getDirection()))c=c.getParent();b==d&&a.removeAttribute("dir")}}function n(a){if(a.editor.readOnly)return null;var c=a.data.path,d=c.blockLimit,e=c.elements,f,g;for(g=0;g<e.length&&(f=e[g])&&!f.equals(d);g++)if(b[e[g].getName()])return this.setState(this.type==e[g].getName()?1:2);return this.setState(2)}function o(a,b,c,d){var e=j.list.listToArray(b.root,c),f=[];for(var g=0;g<b.contents.length;g++){var i=b.contents[g];i=i.getAscendant("li",!0);if(!i||i.getCustomData("list_item_processed"))continue;f.push(i),h.setMarker(c,i,"list_item_processed",!0)}var k=b.root,l=k.getDocument().createElement(this.type);k.copyAttributes(l,{start:1,type:1}),l.removeStyle("list-style-type");for(g=0;g<f.length;g++){var m=f[g].getCustomData("listarray_index");e[m].parent=l}var n=j.list.arrayToList(e,c,null,a.config.enterMode),o,p=n.listNode.getChildCount();for(g=0;g<p&&(o=n.listNode.getChild(g));g++)o.getName()==this.type&&d.push(o);n.listNode.replace(b.root)}function q(a,b,c){var d=b.contents,e=b.root.getDocument(),f=[];if(d.length==1&&d[0].equals(b.root)){var g=e.createElement("div");d[0].moveChildren&&d[0].moveChildren(g),d[0].append(g),d[0]=g}var h=b.contents[0].getParent();for(var i=0;i<d.length;i++)h=h.getCommonAncestor(d[i].getParent());var j=a.config.useComputedState,k,l;j=j===undefined||j;for(i=0;i<d.length;i++){var m=d[i],n;while(n=m.getParent()){if(n.equals(h)){f.push(m),!l&&m.getDirection()&&(l=1);var o=m.getDirection(j);k!==null&&(k&&k!=o?k=null:k=o);break}m=n}}if(f.length<1)return;var q=f[f.length-1].getNext(),r=e.createElement(this.type);c.push(r);var s,t;while(f.length)s=f.shift(),t=e.createElement("li"),s.is("pre")||p.test(s.getName())?s.appendTo(t):(s.copyAttributes(t),k&&s.getDirection()&&(t.removeStyle("direction"),t.removeAttribute("dir")),s.moveChildren(t),s.remove()),t.appendTo(r);k&&l&&r.setAttribute("dir",k),q?r.insertBefore(q):r.appendTo(h)}function r(a,b,c){function s(c){(q=p[c?"getFirst":"getLast"]())&&(!q.is||!q.isBlockBoundary())&&(r=b.root[c?"getPrevious":"getNext"](d.walker.whitespaces(!0)))&&(!r.is||!r.isBlockBoundary({br:1}))&&a.document.createElement("br")[c?"insertBefore":"insertAfter"](q)}var e=j.list.listToArray(b.root,c),f=[];for(var g=0;g<b.contents.length;g++){var i=b.contents[g];i=i.getAscendant("li",!0);if(!i||i.getCustomData("list_item_processed"))continue;f.push(i),h.setMarker(c,i,"list_item_processed",!0)}var k=null;for(g=0;g<f.length;g++){var l=f[g].getCustomData("listarray_index");e[l].indent=-1,k=l}for(g=k+1;g<e.length;g++)if(e[g].indent>e[g-1].indent+1){var m=e[g-1].indent+1-e[g].indent,n=e[g].indent;while(e[g]&&e[g].indent>=n)e[g].indent+=m,g++;g--}var o=j.list.arrayToList(e,c,null,a.config.enterMode,b.root.getAttribute("dir")),p=o.listNode,q,r;s(!0),s(),p.replace(b.root)}function s(a,b){this.name=a,this.type=b}function t(a){var b=a.getDirection();if(b){for(var c=0,d=a.getChildren(),e;e=d.getItem(c),c<d.count();c++)e.type==1&&e.is("li")&&!e.getDirection()&&e.setAttribute("dir",b);a.removeAttribute("dir")}}function w(a,b){var c,d=a.children,e=d.length;for(var f=0;f<e;f++){c=d[f];if(c.name&&c.name in b)return f}return e}function x(b){return function(d){var e=d.children,f=w(d,u.$list),g=e[f],h=g&&g.previous,i;if(h&&(h.name&&h.name=="br"||h.value&&(i=h.value.match(v)))){var j=h;(!i||!i.index)&&j==e[0]?e[0]=b||c?new a.htmlParser.text(" "):new a.htmlParser.element("br",{}):j.name=="br"?e.splice(f-1,1):j.value=j.value.replace(v,"")}}}var b={ol:1,ul:1},g=/^[\n\r\t ]*$/,i=d.walker.whitespaces(),k=d.walker.bookmark(),l=function(a){return!i(a)&&!k(a)};j.list={listToArray:function(a,c,d,e,g){if(!b[a.getName()])return[];e||(e=0),d||(d=[]);for(var i=0,k=a.getChildCount();i<k;i++){var l=a.getChild(i);l.type==1&&l.getName()in f.$list&&j.list.listToArray(l,c,d,e+1);if(l.$.nodeName.toLowerCase()!="li")continue;var m={parent:a,indent:e,element:l,contents:[]};g?m.grandparent=g:(m.grandparent=a.getParent(),m.grandparent&&m.grandparent.$.nodeName.toLowerCase()=="li"&&(m.grandparent=m.grandparent.getParent())),c&&h.setMarker(c,l,"listarray_index",d.length),d.push(m);for(var n=0,o=l.getChildCount(),p;n<o;n++)p=l.getChild(n),p.type==1&&b[p.getName()]?j.list.listToArray(p,c,d,e+1,m.grandparent):m.contents.push(p)}return d},arrayToList:function(a,e,g,i,k){g||(g=0);if(!a||a.length<g+1)return null;var n=a[g].parent.getDocument(),o=new d.documentFragment(n),p=null,q=g,r=Math.max(a[g].indent,0),s=null,t,u=i==1?"p":"div";for(;;){var v=a[q];t=v.element.getDirection(1);if(v.indent==r){if(!p||a[q].parent.getName()!=p.getName())p=a[q].parent.clone(!1,1),k&&p.setAttribute("dir",k),o.append(p);s=p.append(v.element.clone(0,1)),t!=p.getDirection(1)&&s.setAttribute("dir",t);for(var w=0;w<v.contents.length;w++)s.append(v.contents[w].clone(1,1));q++}else if(v.indent==Math.max(r,0)+1){var x=a[q-1].element.getDirection(1),y=j.list.arrayToList(a,null,q,i,x!=t?t:null);!s.getChildCount()&&c&&!(n.$.documentMode>7)&&s.append(n.createText(" ")),s.append(y.listNode),q=y.nextIndex}else{if(v.indent!=-1||!!g||!v.grandparent)return null;b[v.grandparent.getName()]?s=v.element.clone(!1,!0):k||v.element.hasAttributes()||i!=2?(s=n.createElement(u),v.element.copyAttributes(s,{type:1,value:1}),!k&&i==2&&!s.hasAttributes()&&(s=new d.documentFragment(n))):s=new d.documentFragment(n),s.type==1&&v.grandparent.getDirection(1)!=t&&s.setAttribute("dir",t);for(w=0;w<v.contents.length;w++)s.append(v.contents[w].clone(1,1));if(s.type==11&&q!=a.length-1){var z=s.getLast();z&&z.type==1&&z.getAttribute("type")=="_moz"&&z.remove(),(z=s.getLast(l)&&z.type==1&&z.getName()in f.$block)||s.append(n.createElement("br"))}if(s.type==1&&s.getName()==u&&s.$.firstChild){s.trim();var A=s.getFirst();if(A.type==1&&A.isBlockBoundary()){var B=new d.documentFragment(n);s.moveChildren(B),s=B}}var C=s.$.nodeName.toLowerCase();!c&&(C=="div"||C=="p")&&s.appendBogus(),o.append(s),p=null,q++}if(a.length<=q||Math.max(a[q].indent,0)<r)break}if(e){var D=o.getFirst(),E=a[0].parent;while(D)D.type==1&&(h.clearMarkers(e,D),D.getName()in f.$listItem&&m(D)),D=D.getNextSourceNode()}return{listNode:o,nextIndex:q}}};var p=/^h[1-6]$/;s.prototype={exec:function(a){var c=a.document,e=a.config,f=a.getSelection(),g=f&&f.getRanges(!0);if(!g||g.length<1)return;if(this.state==2){var i=c.getBody();if(!i.getFirst(l))e.enterMode==2?i.appendBogus():g[0].fixBlock(1,e.enterMode==1?"p":"div"),f.selectRanges(g);else{var j=g.length==1&&g[0],k=j&&j.getEnclosedNode();k&&k.is&&this.type==k.getName()&&this.setState(1)}}var m=f.createBookmarks(!0),n=[],p={},s=g.createIterator(),u=0;while((j=s.getNextRange())&&++u){var v=j.getBoundaryNodes(),w=v.startNode,x=v.endNode;w.type==1&&w.getName()=="td"&&j.setStartAt(v.startNode,1),x.type==1&&x.getName()=="td"&&j.setEndAt(v.endNode,2);var y=j.createIterator(),z;y.forceBrBreak=this.state==2;while(z=y.getNextParagraph()){if(z.getCustomData("list_block"))continue;h.setMarker(p,z,"list_block",1);var A=new d.elementPath(z),B=A.elements,C=B.length,D=null,E=0,F=A.blockLimit,G;for(var H=C-1;H>=0&&(G=B[H]);H--)if(b[G.getName()]&&F.contains(G)){F.removeCustomData("list_group_object_"+u);var I=G.getCustomData("list_group_object");I?I.contents.push(z):(I={root:G,contents:[z]},n.push(I),h.setMarker(p,G,"list_group_object",I)),E=1;break}if(E)continue;var J=F;J.getCustomData("list_group_object_"+u)?J.getCustomData("list_group_object_"+u).contents.push(z):(I={root:J,contents:[z]},h.setMarker(p,J,"list_group_object_"+u,I),n.push(I))}}var K=[];while(n.length>0)I=n.shift(),this.state==2?b[I.root.getName()]?o.call(this,a,I,p,K):q.call(this,a,I,K):this.state==1&&b[I.root.getName()]&&r.call(this,a,I,p);for(H=0;H<K.length;H++){D=K[H];var L,M=this;(L=function(a){var b=D[a?"getPrevious":"getNext"](d.walker.whitespaces(!0));b&&b.getName&&b.getName()==M.type&&(b.getDirection(1)!=D.getDirection(1)&&t(D.getDirection()?D:b),b.remove(),b.moveChildren(D,a))})(),L(1)}h.clearAllMarkers(p),f.selectBookmarks(m),a.focus()}};var u=f,v=/[\t\r\n ]*(?:&nbsp;|\xa0)$/,y={elements:{}};for(var z in u.$listItem)y.elements[z]=x();var A={elements:{}};for(z in u.$listItem)A.elements[z]=x(!0);j.add("list",{init:function(a){var b=a.addCommand("numberedlist",new s("numberedlist","ol")),c=a.addCommand("bulletedlist",new s("bulletedlist","ul"));a.ui.addButton("NumberedList",{label:a.lang.numberedlist,command:"numberedlist"}),a.ui.addButton("BulletedList",{label:a.lang.bulletedlist,command:"bulletedlist"}),a.on("selectionChange",e.bind(n,b)),a.on("selectionChange",e.bind(n,c))},afterInit:function(a){var b=a.dataProcessor;b&&(b.dataFilter.addRules(y),b.htmlFilter.addRules(A))},requires:["domiterator"]})}(),function(){j.liststyle={requires:["dialog"],init:function(b){b.addCommand("numberedListStyle",new a.dialogCommand("numberedListStyle")),a.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js"),b.addCommand("bulletedListStyle",new a.dialogCommand("bulletedListStyle")),a.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js"),b.addMenuItems&&(b.addMenuGroup("list",108),b.addMenuItems({numberedlist:{label:b.lang.list.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:b.lang.list.bulletedTitle,group:"list",command:"bulletedListStyle"}})),b.contextMenu&&b.contextMenu.addListener(function(a,b){if(!a||a.isReadOnly())return null;while(a){var c=a.getName();if(c=="ol")return{numberedlist:2};if(c=="ul")return{bulletedlist:2};a=a.getParent()}return null})}},j.add("liststyle",j.liststyle)}(),function(){function d(a){if(!a||a.type!=1||a.getName()!="form")return[];var b=[],c=["style","className"];for(var d=0;d<c.length;d++){var e=c[d],f=a.$.elements.namedItem(e);if(f){var g=new h(f);b.push([g,g.nextSibling]),g.remove()}}return b}function e(a,b){if(!a||a.type!=1||a.getName()!="form")return;if(b.length>0)for(var c=b.length-1;c>=0;c--){var d=b[c][0],e=b[c][1];e?d.insertBefore(e):d.appendTo(a)}}function f(a,b){var c=d(a),f={},g=a.$;return b||(f["class"]=g.className||"",g.className=""),f.inline=g.style.cssText||"",b||(g.style.cssText="position: static; overflow: visible"),e(c),f}function g(a,b){var c=d(a),f=a.$;"class"in b&&(f.className=b["class"]),"inline"in b&&(f.style.cssText=b.inline),e(c)}function i(b){var c=a.instances;for(var d in c){var e=c[d];if(e.mode=="wysiwyg"&&!e.readOnly){var f=e.document.getBody();f.setAttribute("contentEditable",!1),f.setAttribute("contentEditable",!0)}}b.focusManager.hasFocus&&(b.toolbox.focus(),b.focus())}function k(a){if(!c||b.version>6)return null;var d=h.createFromHtml('<iframe frameborder="0" tabindex="-1" src="javascript:void((function(){document.open();'+(b.isCustomDomain()?"document.domain='"+this.getDocument().$.domain+"';":"")+"document.close();"+'})())"'+' style="display:block;position:absolute;z-index:-1;'+"progid:DXImageTransform.Microsoft.Alpha(opacity=0);"+'"></iframe>');return a.append(d,!0)}j.add("maximize",{init:function(d){function t(){var a=j.getViewPaneSize();s&&s.setStyles({width:a.width+"px",height:a.height+"px"}),d.resize(a.width,a.height,null,!0)}var e=d.lang,h=a.document,j=h.getWindow(),l,m,n,s,u=2;d.addCommand("maximize",{modes:{wysiwyg:!b.iOS,source:!b.iOS},readOnly:1,editorFocus:!1,exec:function(){var a=d.container.getChild(1),C=d.getThemeSpace("contents");if(d.mode=="wysiwyg"){var D=d.getSelection();l=D&&D.getRanges(),m=j.getScrollPosition()}else{var E=d.textarea.$;l=!c&&[E.selectionStart,E.selectionEnd],m=[E.scrollLeft,E.scrollTop]}if(this.state==2){j.on("resize",t),n=j.getScrollPosition();var F=d.container;while(F=F.getParent())F.setCustomData("maximize_saved_styles",f(F)),F.setStyle("z-index",d.config.baseFloatZIndex-1);C.setCustomData("maximize_saved_styles",f(C,!0)),a.setCustomData("maximize_saved_styles",f(a,!0));var G={overflow:b.webkit?"":"hidden",width:0,height:0};h.getDocumentElement().setStyles(G),!b.gecko&&h.getDocumentElement().setStyle("position","fixed"),(!b.gecko||!b.quirks)&&h.getBody().setStyles(G),c?setTimeout(function(){j.$.scrollTo(0,0)},0):j.$.scrollTo(0,0),a.setStyle("position",b.gecko&&b.quirks?"fixed":"absolute"),a.$.offsetLeft,a.setStyles({"z-index":d.config.baseFloatZIndex-1,left:"0px",top:"0px"}),s=k(a),a.addClass("cke_maximized"),t();var H=a.getDocumentPosition();a.setStyles({left:-1*H.x+"px",top:-1*H.y+"px"}),b.gecko&&i(d)}else if(this.state==1){j.removeListener("resize",t);var I=[C,a];for(var J=0;J<I.length;J++)g(I[J],I[J].getCustomData("maximize_saved_styles")),I[J].removeCustomData("maximize_saved_styles");F=d.container;while(F=F.getParent())g(F,F.getCustomData("maximize_saved_styles")),F.removeCustomData("maximize_saved_styles");c?setTimeout(function(){j.$.scrollTo(n.x,n.y)},0):j.$.scrollTo(n.x,n.y),a.removeClass("cke_maximized"),b.webkit&&(a.setStyle("display","inline"),setTimeout(function(){a.setStyle("display","block")},0)),s&&(s.remove(),s=null),d.fire("resize")}this.toggleState();var K=this.uiItems[0];if(K){var L=this.state==2?e.maximize:e.minimize,M=d.element.getDocument().getById(K._.id);M.getChild(1).setHtml(L),M.setAttribute("title",L),M.setAttribute("href",'javascript:void("'+L+'");')}if(d.mode=="wysiwyg")if(l){b.gecko&&i(d),d.getSelection().selectRanges(l);var N=d.getSelection().getStartElement();N&&N.scrollIntoView(!0)}else j.$.scrollTo(m.x,m.y);else l&&(E.selectionStart=l[0],E.selectionEnd=l[1]),E.scrollLeft=m[0],E.scrollTop=m[1];l=m=null,u=this.state},canUndo:!1}),d.ui.addButton("Maximize",{label:e.maximize,command:"maximize"}),d.on("mode",function(){var a=d.getCommand("maximize");a.setState(a.state==0?0:u)},null,null,100)}})}(),j.add("newpage",{init:function(a){a.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(a){var b=this;a.setData(a.config.newpage_html||"",function(){setTimeout(function(){a.fire("afterCommandExec",{name:b.name,command:b}),a.selectionChange()},200)}),a.focus()},async:!0}),a.ui.addButton("NewPage",{label:a.lang.newPage,command:"newpage"})}}),j.add("pagebreak",{init:function(c){c.addCommand("pagebreak",j.pagebreakCmd),c.ui.addButton("PageBreak",{label:c.lang.pagebreak,command:"pagebreak"});var d=["{","background: url("+a.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;","clear: both;","width:100%; _width:99.9%;","border-top: #999999 1px dotted;","border-bottom: #999999 1px dotted;","padding:0;","height: 5px;","cursor: default;","}"].join("").replace(/;/g," !important;");c.addCss("div.cke_pagebreak"+d),b.opera&&c.on("contentDom",function(){c.document.on("click",function(a){var b=a.data.getTarget();b.is("div")&&b.hasClass("cke_pagebreak")&&c.getSelection().selectElement(b)})})},afterInit:function(b){var c=b.lang.pagebreakAlt,d=b.dataProcessor,e=d&&d.dataFilter,f=d&&d.htmlFilter;f&&f.addRules({attributes:{"class":function(b,c){var d=b.replace("cke_pagebreak","");if(d!=b){var e=a.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>');c.children.length=0,c.add(e);var f=c.attributes;delete f["aria-label"],delete f.contenteditable,delete f.title}return d}}},5),e&&e.addRules({elements:{div:function(a){var b=a.attributes,d=b&&b.style,e=d&&a.children.length==1&&a.children[0],f=e&&e.name=="span"&&e.attributes.style;f&&/page-break-after\s*:\s*always/i.test(d)&&/display\s*:\s*none/i.test(f)&&(b.contenteditable="false",b["class"]="cke_pagebreak",b["data-cke-display-name"]="pagebreak",b["aria-label"]=c,b.title=c,a.children.length=0)}}})},requires:["fakeobjects"]}),j.pagebreakCmd={exec:function(a){var b=a.lang.pagebreakAlt,c=h.createFromHtml('<div style="page-break-after: always;"contenteditable="false" title="'+b+'" '+'aria-label="'+b+'" '+'data-cke-display-name="pagebreak" '+'class="cke_pagebreak">'+"</div>",a.document),d=a.getSelection().getRanges(!0);a.fire("saveSnapshot");for(var e,f=d.length-1;f>=0;f--){e=d[f],f<d.length-1&&(c=c.clone(!0)),e.splitBlock("p"),e.insertNode(c);if(f==d.length-1){var g=c.getNext();e.moveToPosition(c,4),(!g||g.type==1&&!g.isEditable())&&e.fixBlock(!0,a.config.enterMode==3?"div":"p"),e.select()}}a.fire("saveSnapshot")}},function(){function b(a){a.data.mode="html"}j.add("pastefromword",{init:function(c){var d=0,e=function(a){a&&a.removeListener(),c.removeListener("beforePaste",b),d&&setTimeout(function(){d=0},0)};c.addCommand("pastefromword",{canUndo:!1,exec:function(){d=1,c.on("beforePaste",b),c.execCommand("paste","html")===!1&&(c.on("dialogShow",function(a){a.removeListener(),a.data.on("cancel",e)}),c.on("dialogHide",function(a){a.data.removeListener("cancel",e)})),c.on("afterPaste",e)}}),c.ui.addButton("PasteFromWord",{label:c.lang.pastefromword.toolbar,command:"pastefromword"}),c.on("pasteState",function(a){c.getCommand("pastefromword").setState(a.data)}),c.on("paste",function(b){var e=b.data,f;if((f=e.html)&&(d||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(f))){var g=this.loadFilterRules(function(){if(g)c.fire("paste",e);else if(!c.config.pasteFromWordPromptCleanup||d||confirm(c.lang.pastefromword.confirmCleanup))e.html=a.cleanWord(f,c)});g&&b.cancel()}},this)},loadFilterRules:function(b){var c=a.cleanWord;if(c)b();else{var d=a.getUrl(i.pasteFromWordCleanupFile||this.path+"filter/default.js");a.scriptLoader.load(d,b,null,!0)}return!c},requires:["clipboard"]})}(),function(){var b={exec:function(a){var b=e.tryThese(function(){var a=window.clipboardData.getData("Text");if(!a)throw 0;return a});return b?(a.fire("paste",{text:b}),!0):(a.openDialog("pastetext"),!1)}};j.add("pastetext",{init:function(c){var d="pastetext",e=c.addCommand(d,b);c.ui.addButton("PasteText",{label:c.lang.pasteText.button,command:d}),a.dialog.add(d,a.getUrl(this.path+"dialogs/pastetext.js")),c.config.forcePasteAsPlainText&&(c.on("beforeCommandExec",function(a){var b=a.data.commandData;a.data.name=="paste"&&b!="html"&&(c.execCommand("pastetext"),a.cancel())},null,null,0),c.on("beforePaste",function(a){a.data.mode="text"})),c.on("pasteState",function(a){c.getCommand("pastetext").setState(a.data)})},requires:["clipboard"]})}(),j.add("popup"),e.extend(a.editor.prototype,{popup:function(a,b,c,d){b=b||"80%",c=c||"70%",typeof b=="string"&&b.length>1&&b.substr(b.length-1,1)=="%"&&(b=parseInt(window.screen.width*parseInt(b,10)/100,10)),typeof c=="string"&&c.length>1&&c.substr(c.length-1,1)=="%"&&(c=parseInt(window.screen.height*parseInt(c,10)/100,10)),b<640&&(b=640),c<420&&(c=420);var e=parseInt((window.screen.height-c)/2,10),f=parseInt((window.screen.width-b)/2,10);d=(d||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+b+",height="+c+",top="+e+",left="+f;var g=window.open("",null,d,!0);if(!g)return!1;try{g.moveTo(f,e),g.resizeTo(b,c),g.focus(),g.location.href=a}catch(h){g=window.open(a,null,d,!0)}return!0}}),function(){var a={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(a){var c,d=a.config,f=d.baseHref?'<base href="'+d.baseHref+'"/>':"",g=b.isCustomDomain();if(d.fullPage)c=a.getData().replace(/<head>/,"$&"+f).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+a.lang.preview);else{var h="<body ",i=a.document&&a.document.getBody();i&&(i.getAttribute("id")&&(h+='id="'+i.getAttribute("id")+'" '),i.getAttribute("class")&&(h+='class="'+i.getAttribute("class")+'" ')),h+=">",c=a.config.docType+'<html dir="'+a.config.contentsLangDirection+'">'+"<head>"+f+"<title>"+a.lang.preview+"</title>"+e.buildStyleHtml(a.config.contentsCss)+"</head>"+h+a.getData()+"</body></html>"}var j=640,k=420,l=80;try{var m=window.screen;j=Math.round(m.width*.8),k=Math.round(m.height*.7),l=Math.round(m.width*.1)}catch(n){}var o="";g&&(window._cke_htmlToLoad=c,o='javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+"document.write( window.opener._cke_htmlToLoad );"+"document.close();"+"window.opener._cke_htmlToLoad = null;"+"})() )");var p=window.open(o,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+j+",height="+k+",left="+l);if(!g){var q=p.document;q.open(),q.write(c),q.close(),b.webkit&&setTimeout(function(){q.body.innerHTML+=""},0)}}},c="preview";j.add(c,{init:function(b){b.addCommand(c,a),b.ui.addButton("Preview",{label:b.lang.preview,command:c})}})}(),j.add("print",{init:function(a){var b="print",c=a.addCommand(b,j.print);a.ui.addButton("Print",{label:a.lang.print,command:b})}}),j.print={exec:function(a){if(b.opera)return;b.gecko?a.window.$.print():a.document.$.execCommand("Print")},canUndo:!1,readOnly:1,modes:{wysiwyg:!b.opera}},j.add("removeformat",{requires:["selection"],init:function(a){a.addCommand("removeFormat",j.removeformat.commands.removeformat),a.ui.addButton("RemoveFormat",{label:a.lang.removeFormat,command:"removeFormat"}),a._.removeFormat={filters:[]}}}),j.removeformat={commands:{removeformat:{exec:function(a){var b=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),c=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),e=j.removeformat.filter,f=a.getSelection().getRanges(1),g=f.createIterator(),h;while(h=g.getNextRange()){h.collapsed||h.enlarge(1);var i=h.createBookmark(),k=i.startNode,l=i.endNode,m,n=function(c){var f=new d.elementPath(c),g=f.elements;for(var h=1,i;i=g[h];h++){if(i.equals(f.block)||i.equals(f.blockLimit))break;b.test(i.getName())&&e(a,i)&&c.breakParent(i)}};n(k);if(l){n(l),m=k.getNextSourceNode(!0,1);while(m){if(m.equals(l))break;var o=m.getNextSourceNode(!1,1);(m.getName()!="img"||!m.data("cke-realelement"))&&e(a,m)&&(b.test(m.getName())?m.remove(1):(m.removeAttributes(c),a.fire("removeFormatCleanup",m))),m=o}}h.moveToBookmark(i)}a.getSelection().selectRanges(f)}}},filter:function(a,b){var c=a._.removeFormat.filters;for(var d=0;d<c.length;d++)if(c[d](b)===!1)return!1;return!0}},a.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormat.filters.push(a)},i.removeFormatTags="b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",i.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",j.add("resize",{init:function(b){var c=b.config,d=b.element.getDirection(1);!c.resize_dir&&(c.resize_dir="both"),c.resize_maxWidth==undefined&&(c.resize_maxWidth=3e3),c.resize_maxHeight==undefined&&(c.resize_maxHeight=3e3),c.resize_minWidth==undefined&&(c.resize_minWidth=750),c.resize_minHeight==undefined&&(c.resize_minHeight=250);if(c.resize_enabled!==!1){var f=null,g,h,i=(c.resize_dir=="both"||c.resize_dir=="horizontal")&&c.resize_minWidth!=c.resize_maxWidth,j=(c.resize_dir=="both"||c.resize_dir=="vertical")&&c.resize_minHeight!=c.resize_maxHeight;function k(a){var e=a.data.$.screenX-g.x,f=a.data.$.screenY-g.y,k=h.width,l=h.height,m=k+e*(d=="rtl"?-1:1),p=l+f;i&&(k=Math.max(c.resize_minWidth,Math.min(m,c.resize_maxWidth))),j&&(l=Math.max(c.resize_minHeight,Math.min(p,c.resize_maxHeight))),b.resize(k,l)}function l(c){a.document.removeListener("mousemove",k),a.document.removeListener("mouseup",l),b.document&&(b.document.removeListener("mousemove",k),b.document.removeListener("mouseup",l))}var m=e.addFunction(function(d){f||(f=b.getResizable()),h={width:f.$.offsetWidth||0,height:f.$.offsetHeight||0},g={x:d.screenX,y:d.screenY},c.resize_minWidth>h.width&&(c.resize_minWidth=h.width),c.resize_minHeight>h.height&&(c.resize_minHeight=h.height),a.document.on("mousemove",k),a.document.on("mouseup",l),b.document&&(b.document.on("mousemove",k),b.document.on("mouseup",l))});b.on("destroy",function(){e.removeFunction(m)}),b.on("themeSpace",function(a){if(a.data.space=="bottom"){var c="";i&&!j&&(c=" cke_resizer_horizontal"),!i&&j&&(c=" cke_resizer_vertical");var f='<div class="cke_resizer'+c+" cke_resizer_"+d+'"'+' title="'+e.htmlEncode(b.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+m+', event)"'+"></div>";d=="ltr"&&c=="ltr"?a.data.html+=f:a.data.html=f+a.data.html}},b,null,100)}}}),function(){var a={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){var b=a.element.$.form;if(b)try{b.submit()}catch(c){b.submit.click&&b.submit.click()}}},b="save";j.add(b,{init:function(c){var d=c.addCommand(b,a);d.modes={wysiwyg:!!c.element.$.form},c.ui.addButton("Save",{label:c.lang.save,command:b})}})}(),function(){function g(a,b){var c=0,d;for(d in b)if(b[d]==a){c=1;break}return c}var d="scaytcheck",f="",i=function(){var d=this,g=function(){var e=d.config,f={};f.srcNodeRef=d.document.getWindow().$.frameElement,f.assocApp="CKEDITOR."+a.version+"@"+a.revision,f.customerid=e.scayt_customerid||"1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2",f.customDictionaryIds=e.scayt_customDictionaryIds||"",f.userDictionaryName=e.scayt_userDictionaryName||"",f.sLang=e.scayt_sLang||"en_US",f.onLoad=function(){c&&b.version<8||this.addStyle(this.selectorCss(),"padding-bottom: 2px !important;"),d.focusManager.hasFocus&&!k.isControlRestored(d)&&this.focus()},f.onBeforeChange=function(){k.getScayt(d)&&!d.checkDirty()&&setTimeout(function(){d.resetDirty()},0)};var g=window.scayt_custom_params;if(typeof g=="object")for(var i in g)f[i]=g[i];k.getControlId(d)&&(f.id=k.getControlId(d));var j=new window.scayt(f);j.afterMarkupRemove.push(function(a){(new h(a,j.document)).mergeSiblings()});var l=k.instances[d.name];l&&(j.sLang=l.sLang,j.option(l.option()),j.paused=l.paused),k.instances[d.name]=j;try{j.setDisabled(k.isPaused(d)===!1)}catch(m){}d.fire("showScaytState")};d.on("contentDom",g),d.on("contentDomUnload",function(){var b=a.document.getElementsByTag("script"),c=/^dojoIoScript(\d+)$/i,d=/^https?:\/\/svc\.webspellchecker\.net\/spellcheck\/script\/ssrv\.cgi/i;for(var e=0;e<b.count();e++){var f=b.getItem(e),g=f.getId(),h=f.getAttribute("src");g&&h&&g.match(c)&&h.match(d)&&f.remove()}}),d.on("beforeCommandExec",function(a){if(a.data.name!="source"&&a.data.name!="newpage"||d.mode!="wysiwyg")a.data.name=="source"&&d.mode=="source"&&k.markControlRestore(d);else{var b=k.getScayt(d);b&&(k.setPaused(d,!b.disabled),k.setControlId(d,b.id),b.destroy(!0),delete k.instances[d.name])}}),d.on("afterCommandExec",function(a){if(!k.isScaytEnabled(d))return;d.mode=="wysiwyg"&&(a.data.name=="undo"||a.data.name=="redo")&&window.setTimeout(function(){k.getScayt(d).refresh()},10)}),d.on("destroy",function(a){var b=a.editor,c=k.getScayt(b);if(!c)return;delete k.instances[b.name],k.setControlId(b,c.id),c.destroy(!0)}),d.on("afterSetData",function(){k.isScaytEnabled(d)&&window.setTimeout(function(){var a=k.getScayt(d);a&&a.refresh()},10)}),d.on("insertElement",function(){var a=k.getScayt(d);k.isScaytEnabled(d)&&(c&&d.getSelection().unlock(!0),window.setTimeout(function(){a.focus(),a.refresh()},10))},this,null,50),d.on("insertHtml",function(){var a=k.getScayt(d);k.isScaytEnabled(d)&&(c&&d.getSelection().unlock(!0),window.setTimeout(function(){a.focus(),a.refresh()},10))},this,null,50),d.on("scaytDialog",function(a){a.data.djConfig=window.djConfig,a.data.scayt_control=k.getScayt(d),a.data.tab=f,a.data.scayt=window.scayt});var i=d.dataProcessor,l=i&&i.htmlFilter;l&&l.addRules({elements:{span:function(a){if(a.attributes["data-scayt_word"]&&a.attributes["data-scaytid"])return delete a.name,a}}});var m=j.undo.Image.prototype;m.equals=e.override(m.equals,function(a){return function(b){var c=this,d=c.contents,e=b.contents,f=k.getScayt(c.editor);f&&k.isScaytReady(c.editor)&&(c.contents=f.reset(d)||"",b.contents=f.reset(e)||"");var g=a.apply(c,arguments);return c.contents=d,b.contents=e,g}}),d.document&&g()};j.scayt={engineLoaded:!1,instances:{},controlInfo:{},setControlInfo:function(a,b){a&&a.name&&typeof this.controlInfo[a.name]!="object"&&(this.controlInfo[a.name]={});for(var c in b)this.controlInfo[a.name][c]=b[c]},isControlRestored:function(a){return a&&a.name&&this.controlInfo[a.name]?this.controlInfo[a.name].restored:!1},markControlRestore:function(a){this.setControlInfo(a,{restored:!0})},setControlId:function(a,b){this.setControlInfo(a,{id:b})},getControlId:function(a){return a&&a.name&&this.controlInfo[a.name]&&this.controlInfo[a.name].id?this.controlInfo[a.name].id:null},setPaused:function(a,b){this.setControlInfo(a,{paused:b})},isPaused:function(a){return a&&a.name&&this.controlInfo[a.name]?this.controlInfo[a.name].paused:undefined},getScayt:function(a){return this.instances[a.name]},isScaytReady:function(a){return this.engineLoaded===!0&&"undefined"!=typeof window.scayt&&this.getScayt(a)},isScaytEnabled:function(a){var b=this.getScayt(a);return b?b.disabled===!1:!1},getUiTabs:function(a){var b=[],c=a.config.scayt_uiTabs||"1,1,1";c=c.split(","),c[3]="1";for(var d=0;d<4;d++)b[d]=typeof window.scayt!="undefined"&&typeof window.scayt.uiTags!="undefined"?parseInt(c[d],10)&&window.scayt.uiTags[d]:parseInt(c[d],10);return b},loadEngine:function(c){if(b.gecko&&b.version<10900||b.opera||b.air)return c.fire("showScaytState");if(this.engineLoaded===!0)return i.apply(c);if(this.engineLoaded==-1)return a.on("scaytReady",function(){i.apply(c)});a.on("scaytReady",i,c),a.on("scaytReady",function(){this.engineLoaded=!0},this,null,0),this.engineLoaded=-1;var d=document.location.protocol;d=d.search(/https?:/)!=-1?d:"http:";var e="svc.webspellchecker.net/scayt26/loader__base.js",f=c.config.scayt_srcUrl||d+"//"+e,g=k.parseUrl(f).path+"/";return window.scayt==undefined?(a._djScaytConfig={baseUrl:g,addOnLoad:[function(){a.fireOnce("scaytReady")}],isDebug:!1},a.document.getHead().append(a.document.createElement("script",{attributes:{type:"text/javascript",async:"true",src:f}}))):a.fireOnce("scaytReady"),null},parseUrl:function(a){var b;return a.match&&(b=a.match(/(.*)[\/\\](.*?\.\w+)$/))?{path:b[1],file:b[2]}:a}};var k=j.scayt,l=function(a,b,c,d,e,f,g){a.addCommand(d,e),a.addMenuItem(d,{label:c,command:d,group:f,order:g})},m={preserveState:!0,editorFocus:!1,canUndo:!1,exec:function(a){if(k.isScaytReady(a)){var b=k.isScaytEnabled(a);this.setState(b?2:1);var c=k.getScayt(a);c.focus(),c.setDisabled(b)}else!a.config.scayt_autoStartup&&k.engineLoaded>=0&&(this.setState(0),k.loadEngine(a))}};j.add("scayt",{requires:["menubutton"],beforeInit:function(a){var b=a.config.scayt_contextMenuItemsOrder||"suggest|moresuggest|control",c="";b=b.split("|");if(b&&b.length)for(var d=0;d<b.length;d++)c+="scayt_"+b[d]+(b.length!=parseInt(d,10)+1?",":"");a.config.menu_groups=c+","+a.config.menu_groups},init:function(c){var e=c.dataProcessor&&c.dataProcessor.dataFilter,h={elements:{span:function(a){var b=a.attributes;b&&b["data-scaytid"]&&delete a.name}}};e&&e.addRules(h);var i={},j={},p=c.addCommand(d,m);a.dialog.add(d,a.getUrl(this.path+"dialogs/options.js"));var t=k.getUiTabs(c),u="scaytButton";c.addMenuGroup(u);var v={},w=c.lang.scayt;v.scaytToggle={label:w.enable,command:d,group:u},t[0]==1&&(v.scaytOptions={label:w.options,group:u,onClick:function(){f="options",c.openDialog(d)}}),t[1]==1&&(v.scaytLangs={label:w.langs,group:u,onClick:function(){f="langs",c.openDialog(d)}}),t[2]==1&&(v.scaytDict={label:w.dictionariesTab,group:u,onClick:function(){f="dictionaries",c.openDialog(d)}}),v.scaytAbout={label:c.lang.scayt.about,group:u,onClick:function(){f="about",c.openDialog(d)}},c.addMenuItems(v),c.ui.add("Scayt","menubutton",{label:w.title,title:b.opera?w.opera_title:w.title,className:"cke_button_scayt",modes:{wysiwyg:1},onRender:function(){p.on("state",function(){this.setState(p.state)},this)},onMenu:function(){var a=k.isScaytEnabled(c);c.getMenuItem("scaytToggle").label=w[a?"disable":"enable"];var b=k.getUiTabs(c);return{scaytToggle:2,scaytOptions:a&&b[0]?2:0,scaytLangs:a&&b[1]?2:0,scaytDict
:a&&b[2]?2:0,scaytAbout:a&&b[3]?2:0}}}),c.contextMenu&&c.addMenuItems&&c.contextMenu.addListener(function(a,b){if(!k.isScaytEnabled(c)||b.getRanges()[0].checkReadOnly())return null;var d=k.getScayt(c),e=d.getScaytNode();if(!e)return null;var f=d.getWord(e);if(!f)return null;var h=d.getLang(),m={},n=window.scayt.getSuggestion(f,h);if(!n||!n.length)return null;for(var p in i)delete c._.menuItems[p],delete c._.commands[p];for(p in j)delete c._.menuItems[p],delete c._.commands[p];i={},j={};var s=c.config.scayt_moreSuggestions||"on",t=!1,u=c.config.scayt_maxSuggestions;typeof u!="number"&&(u=5),!u&&(u=n.length);var v=c.config.scayt_contextCommands||"all";v=v.split("|");for(var x=0,y=n.length;x<y;x+=1){var z="scayt_suggestion_"+n[x].replace(" ","_"),A=function(a,b){return{exec:function(){d.replace(a,b)}}}(e,n[x]);x<u?(l(c,"button_"+z,n[x],z,A,"scayt_suggest",x+1),m[z]=2,j[z]=2):s=="on"&&(l(c,"button_"+z,n[x],z,A,"scayt_moresuggest",x+1),i[z]=2,t=!0)}t&&(c.addMenuItem("scayt_moresuggest",{label:w.moreSuggestions,group:"scayt_moresuggest",order:10,getItems:function(){return i}}),j.scayt_moresuggest=2);if(g("all",v)||g("ignore",v)){var B={exec:function(){d.ignore(e)}};l(c,"ignore",w.ignore,"scayt_ignore",B,"scayt_control",1),j.scayt_ignore=2}if(g("all",v)||g("ignoreall",v)){var D={exec:function(){d.ignoreAll(e)}};l(c,"ignore_all",w.ignoreAll,"scayt_ignore_all",D,"scayt_control",2),j.scayt_ignore_all=2}if(g("all",v)||g("add",v)){var E={exec:function(){window.scayt.addWordToUserDictionary(e)}};l(c,"add_word",w.addWord,"scayt_add_word",E,"scayt_control",3),j.scayt_add_word=2}return d.fireOnContextMenu&&d.fireOnContextMenu(c),j});var x=function(){c.removeListener("showScaytState",x),!b.opera&&!b.air?p.setState(k.isScaytEnabled(c)?1:2):p.setState(0)};c.on("showScaytState",x),(b.opera||b.air)&&c.on("instanceReady",function(){x()}),c.config.scayt_autoStartup&&c.on("instanceReady",function(){k.loadEngine(c)})},afterInit:function(a){var b,c=function(a){if(a.hasAttribute("data-scaytid"))return!1};a._.elementsPath&&(b=a._.elementsPath.filters)&&b.push(c),a.addRemoveFormatFilter&&a.addRemoveFormatFilter(c)}})}(),j.add("smiley",{requires:["dialog"],init:function(b){b.config.smiley_path=b.config.smiley_path||this.path+"images/",b.addCommand("smiley",new a.dialogCommand("smiley")),b.ui.addButton("Smiley",{label:b.lang.smiley.toolbar,command:"smiley"}),a.dialog.add("smiley",this.path+"dialogs/smiley.js")}}),i.smiley_images=["regular_smile.gif","sad_smile.gif","wink_smile.gif","teeth_smile.gif","confused_smile.gif","tounge_smile.gif","embaressed_smile.gif","omg_smile.gif","whatchutalkingabout_smile.gif","angry_smile.gif","angel_smile.gif","shades_smile.gif","devil_smile.gif","cry_smile.gif","lightbulb.gif","thumbs_down.gif","thumbs_up.gif","heart.gif","broken_heart.gif","kiss.gif","envelope.gif"],i.smiley_descriptions=["smiley","sad","wink","laugh","frown","cheeky","blush","surprise","indecision","angry","angel","cool","devil","crying","enlightened","no","yes","heart","broken heart","kiss","mail"],function(){var b=".%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;background-position: top %3;border: 1px dotted gray;padding-top: 8px;padding-%3: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}",c=/%1/g,d=/%2/g,e=/%3/g,f={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(a){this.toggleState(),this.refresh(a)},refresh:function(a){if(a.document){var b=this.state==1?"addClass":"removeClass";a.document.getBody()[b]("cke_show_blocks")}}};j.add("showblocks",{requires:["wysiwygarea"],init:function(g){var h=g.addCommand("showblocks",f);h.canUndo=!1,g.config.startupOutlineBlocks&&h.setState(1),g.addCss(b.replace(c,"background-image: url("+a.getUrl(this.path)+"images/block_").replace(d,"cke_show_blocks ").replace(e,g.lang.dir=="rtl"?"right":"left")),g.ui.addButton("ShowBlocks",{label:g.lang.showBlocks,command:"showblocks"}),g.on("mode",function(){h.state!=0&&h.refresh(g)}),g.on("contentDom",function(){h.state!=0&&h.refresh(g)})}})}(),function(){var c="cke_show_border",d,f=(b.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:[".%1 table.%2,",".%1 table.%2 > tr > td, .%1 table.%2 > tr > th,",".%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,",".%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,",".%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th","{","border : #d3d3d3 1px dotted","}"]).join("");d=f.replace(/%2/g,c).replace(/%1/g,"cke_show_borders ");var g={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState(),this.refresh(a)},refresh:function(a){if(a.document){var b=this.state==1?"addClass":"removeClass";a.document.getBody()[b]("cke_show_borders")}}};j.add("showborders",{requires:["wysiwygarea"],modes:{wysiwyg:1},init:function(a){var b=a.addCommand("showborders",g);b.canUndo=!1,a.config.startupShowBorders!==!1&&b.setState(1),a.addCss(d),a.on("mode",function(){b.state!=0&&b.refresh(a)},null,null,100),a.on("contentDom",function(){b.state!=0&&b.refresh(a)}),a.on("removeFormatCleanup",function(b){var d=b.data;a.getCommand("showborders").state==1&&d.is("table")&&(!d.hasAttribute("border")||parseInt(d.getAttribute("border"),10)<=0)&&d.addClass(c)})},afterInit:function(a){var b=a.dataProcessor,d=b&&b.dataFilter,e=b&&b.htmlFilter;d&&d.addRules({elements:{table:function(a){var b=a.attributes,d=b["class"],e=parseInt(b.border,10);(!e||e<=0)&&(!d||d.indexOf(c)==-1)&&(b["class"]=(d||"")+" "+c)}}}),e&&e.addRules({elements:{table:function(a){var b=a.attributes,d=b["class"];d&&(b["class"]=d.replace(c,"").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),a.on("dialogDefinition",function(a){var b=a.data.name;if(b=="table"||b=="tableProperties"){var d=a.data.definition,f=d.getContents("info"),g=f.get("txtBorder"),h=g.commit;g.commit=e.override(h,function(a){return function(b,d){a.apply(this,arguments);var e=parseInt(this.getValue(),10);d[!e||e<=0?"addClass":"removeClass"](c)}});var i=d.getContents("advanced"),j=i&&i.get("advCSSClasses");j&&(j.setup=e.override(j.setup,function(a){return function(){a.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),j.commit=e.override(j.commit,function(a){return function(b,c){a.apply(this,arguments),parseInt(c.getAttribute("border"),10)||c.addClass("cke_show_border")}}))}})}(),j.add("sourcearea",{requires:["editingblock"],init:function(d){var e=j.sourcearea,f=a.document.getWindow();d.on("editingBlockReady",function(){var a,e;d.addMode("source",{load:function(g,i){c&&b.version<8&&g.setStyle("position","relative"),d.textarea=a=new h("textarea"),a.setAttributes({dir:"ltr",tabIndex:b.webkit?-1:d.tabIndex,role:"textbox","aria-label":d.lang.editorTitle.replace("%1",d.name)}),a.addClass("cke_source"),a.addClass("cke_enable_context_menu"),d.readOnly&&a.setAttribute("readOnly","readonly");var j={width:b.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"};c&&(e=function(){a.hide(),a.setStyle("height",g.$.clientHeight+"px"),a.setStyle("width",g.$.clientWidth+"px"),a.show()},d.on("resize",e),f.on("resize",e),setTimeout(e,0)),g.setHtml(""),g.append(a),a.setStyles(j),d.fire("ariaWidget",a),a.on("blur",function(){d.focusManager.blur()}),a.on("focus",function(){d.focusManager.focus()}),d.mayBeDirty=!0,this.loadData(i);var k=d.keystrokeHandler;k&&k.attach(a),setTimeout(function(){d.mode="source",d.fire("mode",{previousMode:d._.previousMode})},b.gecko||b.webkit?100:0)},loadData:function(b){a.setValue(b),d.fire("dataReady")},getData:function(){return a.getValue()},getSnapshotData:function(){return a.getValue()},unload:function(g){a.clearCustomData(),d.textarea=a=null,e&&(d.removeListener("resize",e),f.removeListener("resize",e)),c&&b.version<8&&g.removeStyle("position")},focus:function(){a.focus()}})}),d.on("readOnly",function(){d.mode=="source"&&(d.readOnly?d.textarea.setAttribute("readOnly","readonly"):d.textarea.removeAttribute("readOnly"))}),d.addCommand("source",e.commands.source),d.ui.addButton&&d.ui.addButton("Source",{label:d.lang.source,command:"source"}),d.on("mode",function(){d.getCommand("source").setState(d.mode=="source"?1:2)})}}),j.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){a.mode=="wysiwyg"&&a.fire("saveSnapshot"),a.getCommand("source").setState(0),a.setMode(a.mode=="source"?"wysiwyg":"source")},canUndo:!1}}},function(){function e(a,b){var c=a.type,d=b.type;return c==d?0:c==3?-1:d==3?1:d==1?1:-1}j.add("stylescombo",{requires:["richcombo","styles"],init:function(f){function l(b){f.getStylesSet(function(c){if(!j.length){var d,f;for(var h=0,k=c.length;h<k;h++){var l=c[h];f=l.name,d=i[f]=new a.style(l),d._name=f,d._.enterMode=g.enterMode,j.push(d)}j.sort(e)}b&&b()})}var g=f.config,h=f.lang.stylesCombo,i={},j=[],k;f.ui.addRichCombo("Styles",{label:h.label,title:h.panelTitle,className:"cke_styles",panel:{css:f.skin.editor.css.concat(g.contentsCss),multiSelect:!0,attributes:{"aria-label":h.panelTitle}},init:function(){k=this,l(function(){var a,b,c,d,e,f;for(e=0,f=j.length;e<f;e++)a=j[e],b=a._name,d=a.type,d!=c&&(k.startGroup(h["panelTitle"+String(d)]),c=d),k.add(b,a.type==3?b:a.buildPreview(),b);k.commit()})},onClick:function(a){f.focus(),f.fire("saveSnapshot");var b=i[a],c=f.getSelection(),e=new d.elementPath(c.getStartElement());b[b.checkActive(e)?"remove":"apply"](f.document),f.fire("saveSnapshot")},onRender:function(){f.on("selectionChange",function(a){var b=this.getValue(),c=a.data.path,d=c.elements;for(var e=0,f=d.length,g;e<f;e++){g=d[e];for(var h in i)if(i[h].checkElementRemovable(g,!0)){h!=b&&this.setValue(h);return}}this.setValue("")},this)},onOpen:function(){var a=this;(c||b.webkit)&&f.focus();var e=f.getSelection(),g=e.getSelectedElement(),j=new d.elementPath(g||e.getStartElement()),k=[0,0,0,0];a.showAll(),a.unmarkAll();for(var l in i){var m=i[l],o=m.type;m.checkActive(j)?a.mark(l):o==3&&!m.checkApplicable(j)&&(a.hideItem(l),k[o]--),k[o]++}k[1]||a.hideGroup(h["panelTitle"+String(1)]),k[2]||a.hideGroup(h["panelTitle"+String(2)]),k[3]||a.hideGroup(h["panelTitle"+String(3)])},reset:function(){k&&(delete k._.panel,delete k._.list,k._.committed=0,k._.items={},k._.state=2),i={},j=[],l()}}),f.on("instanceReady",function(){l()})}})}(),j.add("table",{init:function(b){var c=j.table,d=b.lang.table;b.addCommand("table",new a.dialogCommand("table")),b.addCommand("tableProperties",new a.dialogCommand("tableProperties")),b.ui.addButton("Table",{label:d.toolbar,command:"table"}),a.dialog.add("table",this.path+"dialogs/table.js"),a.dialog.add("tableProperties",this.path+"dialogs/table.js"),b.addMenuItems&&b.addMenuItems({table:{label:d.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:d.deleteTable,command:"tableDelete",group:"table",order:1}}),b.on("doubleclick",function(a){var b=a.data.element;b.is("table")&&(a.data.dialog="tableProperties")}),b.contextMenu&&b.contextMenu.addListener(function(a,b){if(!a||a.isReadOnly())return null;var c=a.hasAscendant("table",1);return c?{tabledelete:2,table:2}:null})}}),function(){function f(a){function i(a){if(f.length>0)return;a.type==1&&b.test(a.getName())&&!a.getCustomData("selected_cell")&&(h.setMarker(g,a,"selected_cell",!0),f.push(a))}var c=a.createBookmarks(),e=a.getRanges(),f=[],g={};for(var j=0;j<e.length;j++){var k=e[j];if(k.collapsed){var l=k.getCommonAncestor(),m=l.getAscendant("td",!0)||l.getAscendant("th",!0);m&&f.push(m)}else{var n=new d.walker(k),o;n.guard=i;while(o=n.next()){var p=o.getAscendant("td")||o.getAscendant("th");p&&!p.getCustomData("selected_cell")&&(h.setMarker(g,p,"selected_cell",!0),f.push(p))}}}return h.clearAllMarkers(g),a.selectBookmarks(c),f}function g(a){var b=0,c=a.length-1,d={},e,f,g;while(e=a[b++])h.setMarker(d,e,"delete_cell",!0);b=0;while(e=a[b++])if((f=e.getPrevious())&&!f.getCustomData("delete_cell")||(f=e.getNext())&&!f.getCustomData("delete_cell"))return h.clearAllMarkers(d),f;return h.clearAllMarkers(d),g=a[0].getParent(),(g=g.getPrevious())?g.getLast():(g=a[c].getParent(),(g=g.getNext())?g.getChild(0):null)}function i(a,b){var d=f(a),g=d[0],i=g.getAscendant("table"),j=g.getDocument(),k=d[0].getParent(),l=k.$.rowIndex,m=d[d.length-1],n=m.getParent().$.rowIndex+m.$.rowSpan-1,o=new h(i.$.rows[n]),p=b?l:n,q=b?k:o,r=e.buildTableMap(i),s=r[p],t=b?r[p-1]:r[p+1],u=r[0].length,v=j.createElement("tr");for(var w=0;s[w]&&w<u;w++){var x;s[w].rowSpan>1&&t&&s[w]==t[w]?(x=s[w],x.rowSpan+=1):(x=(new h(s[w])).clone(),x.removeAttribute("rowSpan"),!c&&x.appendBogus(),v.append(x),x=x.$),w+=x.colSpan-1}b?v.insertBefore(q):v.insertAfter(q)}function k(a){if(a instanceof d.selection){var b=f(a),c=b[0],g=c.getAscendant("table"),i=e.buildTableMap(g),j=b[0].getParent(),l=j.$.rowIndex,m=b[b.length-1],n=m.getParent().$.rowIndex+m.$.rowSpan-1,o=[];for(var p=l;p<=n;p++){var q=i[p],r=new h(g.$.rows[p]);for(var s=0;s<q.length;s++){var t=new h(q[s]),u=t.getParent().$.rowIndex;if(t.$.rowSpan==1)t.remove();else{t.$.rowSpan-=1;if(u==p){var v=i[p+1];v[s-1]?t.insertAfter(new h(v[s-1])):(new h(g.$.rows[p+1])).append(t,1)}}s+=t.$.colSpan-1}o.push(r)}var w=g.$.rows,x=new h(w[n+1]||(l>0?w[l-1]:null)||g.$.parentNode);for(p=o.length;p>=0;p--)k(o[p]);return x}return a instanceof h&&(g=a.getAscendant("table"),g.$.rows.length==1?g.remove():a.remove()),null}function l(a,b){var c=a.getParent(),d=c.$.cells,e=0;for(var f=0;f<d.length;f++){var g=d[f];e+=b?1:g.colSpan;if(g==a.$)break}return e-1}function m(a,b){var c=b?Infinity:0;for(var d=0;d<a.length;d++){var e=l(a[d],b);if(b?e<c:e>c)c=e}return c}function n(a,b){var d=f(a),g=d[0],i=g.getAscendant("table"),j=m(d,1),k=m(d),l=b?j:k,n=e.buildTableMap(i),o=[],p=[],q=n.length;for(var r=0;r<q;r++){o.push(n[r][l]);var s=b?n[r][l-1]:n[r][l+1];s&&p.push(s)}for(r=0;r<q;r++){var t;o[r].colSpan>1&&p.length&&p[r]==o[r]?(t=o[r],t.colSpan+=1):(t=(new h(o[r])).clone(),t.removeAttribute("colSpan"),!c&&t.appendBogus(),t[b?"insertBefore":"insertAfter"].call(t,new h(o[r])),t=t.$),r+=t.rowSpan-1}}function o(a){var b=f(a),c=b[0],d=b[b.length-1],g=c.getAscendant("table"),i=e.buildTableMap(g),j,k,l=[];for(var m=0,n=i.length;m<n;m++)for(var o=0,p=i[m].length;o<p;o++)i[m][o]==c.$&&(j=o),i[m][o]==d.$&&(k=o);for(m=j;m<=k;m++)for(o=0;o<i.length;o++){var q=i[o],r=new h(g.$.rows[o]),s=new h(q[m]);s.$&&(s.$.colSpan==1?s.remove():s.$.colSpan-=1,o+=s.$.rowSpan-1,r.$.cells.length||l.push(r))}var t=g.$.rows[0]&&g.$.rows[0].cells,u=new h(t[j]||(j?t[j-1]:g.$.parentNode));return l.length==n&&g.remove(),u}function p(a){var b=[],c=a[0]&&a[0].getAscendant("table"),d,e,f,g;for(d=0,e=a.length;d<e;d++)b.push(a[d].$.cellIndex);b.sort();for(d=1,e=b.length;d<e;d++)if(b[d]-b[d-1]>1){f=b[d-1]+1;break}f||(f=b[0]>0?b[0]-1:b[b.length-1]+1);var i=c.$.rows;for(d=0,e=i.length;d<e;d++){g=i[d].cells[f];if(g)break}return g?new h(g):c.getPrevious()}function q(a,b){var d=a.getStartElement(),e=d.getAscendant("td",1)||d.getAscendant("th",1);if(!e)return;var f=e.clone();c||f.appendBogus(),b?f.insertBefore(e):f.insertAfter(e)}function r(a){if(a instanceof d.selection){var b=f(a),c=b[0]&&b[0].getAscendant("table"),e=g(b);for(var i=b.length-1;i>=0;i--)r(b[i]);e?t(e,!0):c&&c.remove()}else if(a instanceof h){var j=a.getParent();j.getChildCount()==1?j.remove():a.remove()}}function s(a){var b=a.getBogus();b&&b.remove(),a.trim()}function t(a,b){var c=new d.range(a.getDocument());c["moveToElementEdit"+(b?"End":"Start")](a)||(c.selectNodeContents(a),c.collapse(b?!1:!0)),c.select(!0)}function u(a,b,c){var d=a[b];if(typeof c=="undefined")return d;for(var e=0;d&&e<d.length;e++){if(c.is&&d[e]==c.$)return e;if(e==c)return new h(d[e])}return c.is?-1:null}function v(a,b,c){var d=[];for(var e=0;e<a.length;e++){var f=a[e];if(typeof c=="undefined")d.push(f[b]);else{if(c.is&&f[b]==c.$)return e;if(e==c)return new h(f[b])}}return typeof c=="undefined"?d:c.is?-1:null}function w(a,b,g){var i=f(a),j;if((b?i.length!=1:i.length<2)||(j=a.getCommonAncestor())&&j.type==1&&j.is("table"))return!1;var k,l=i[0],m=l.getAscendant("table"),n=e.buildTableMap(m),o=n.length,p=n[0].length,q=l.getParent().$.rowIndex,r=u(n,q,l);if(b){var t;try{var v=parseInt(l.getAttribute("rowspan"),10)||1,w=parseInt(l.getAttribute("colspan"),10)||1;t=n[b=="up"?q-v:b=="down"?q+v:q][b=="left"?r-w:b=="right"?r+w:r]}catch(x){return!1}if(!t||l.$==t)return!1;i[b=="up"||b=="left"?"unshift":"push"](new h(t))}var y=l.getDocument(),z=q,B=0,C=0,D=!g&&new d.documentFragment(y),E=0;for(var F=0;F<i.length;F++){k=i[F];var G=k.getParent(),H=k.getFirst(),I=k.$.colSpan,J=k.$.rowSpan,K=G.$.rowIndex,L=u(n,K,k);E+=I*J,C=Math.max(C,L-r+I),B=Math.max(B,K-q+J);if(!g){if(s(k),k.getChildren().count()){if(K!=z&&H&&(!H.isBlockBoundary||!H.isBlockBoundary({br:1}))){var M=D.getLast(d.walker.whitespaces(!0));M&&(!M.is||!M.is("br"))&&D.append("br")}k.moveChildren(D)}F?k.remove():k.setHtml("")}z=K}if(!g){D.moveChildren(l),c||l.appendBogus(),C>=p?l.removeAttribute("rowSpan"):l.$.rowSpan=B,B>=o?l.removeAttribute("colSpan"):l.$.colSpan=C;var N=new d.nodeList(m.$.rows),O=N.count();for(F=O-1;F>=0;F--){var P=N.getItem(F);if(!P.$.cells.length){P.remove(),O++;continue}}return l}return B*C==E}function x(a,b){var d=f(a);if(d.length>1)return!1;if(b)return!0;var g=d[0],i=g.getParent(),j=i.getAscendant("table"),k=e.buildTableMap(j),l=i.$.rowIndex,m=u(k,l,g),n=g.$.rowSpan,o,p,q,r;if(n>1){p=Math.ceil(n/2),q=Math.floor(n/2),r=l+p;var s=new h(j.$.rows[r]),t=u(k,r),v;o=g.clone();for(var w=0;w<t.length;w++){v=t[w];if(v.parentNode==s.$&&w>m){o.insertBefore(new h(v));break}v=null}v||s.append(o,!0)}else{q=p=1,s=i.clone(),s.insertAfter(i),s.append(o=g.clone());var x=u(k,l);for(var y=0;y<x.length;y++)x[y].rowSpan++}return c||o.appendBogus(),g.$.rowSpan=p,o.$.rowSpan=q,p==1&&g.removeAttribute("rowSpan"),q==1&&o.removeAttribute("rowSpan"),o}function y(a,b){var d=f(a);if(d.length>1)return!1;if(b)return!0;var g=d[0],h=g.getParent(),i=h.getAscendant("table"),j=e.buildTableMap(i),k=h.$.rowIndex,l=u(j,k,g),m=g.$.colSpan,n,o,p;if(m>1)o=Math.ceil(m/2),p=Math.floor(m/2);else{p=o=1;var q=v(j,l);for(var r=0;r<q.length;r++)q[r].colSpan++}return n=g.clone(),n.insertAfter(g),c||n.appendBogus(),g.$.colSpan=o,n.$.colSpan=p,o==1&&g.removeAttribute("colSpan"),p==1&&n.removeAttribute("colSpan"),n}var b=/^(?:td|th)$/,z={thead:1,tbody:1,tfoot:1,td:1,tr:1,th:1};j.tabletools={init:function(b){var c=b.lang.table;b.addCommand("cellProperties",new a.dialogCommand("cellProperties")),a.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),b.addCommand("tableDelete",{exec:function(a){var b=a.getSelection(),c=b&&b.getStartElement(),e=c&&c.getAscendant("table",1);if(!e)return;var f=e.getParent();f.getChildCount()==1&&!f.is("body","td","th")&&(e=f);var g=new d.range(a.document);g.moveToPosition(e,3),e.remove(),g.select()}}),b.addCommand("rowDelete",{exec:function(a){var b=a.getSelection();t(k(b))}}),b.addCommand("rowInsertBefore",{exec:function(a){var b=a.getSelection();i(b,!0)}}),b.addCommand("rowInsertAfter",{exec:function(a){var b=a.getSelection();i(b)}}),b.addCommand("columnDelete",{exec:function(a){var b=a.getSelection(),c=o(b);c&&t(c,!0)}}),b.addCommand("columnInsertBefore",{exec:function(a){var b=a.getSelection();n(b,!0)}}),b.addCommand("columnInsertAfter",{exec:function(a){var b=a.getSelection();n(b)}}),b.addCommand("cellDelete",{exec:function(a){var b=a.getSelection();r(b)}}),b.addCommand("cellMerge",{exec:function(a){t(w(a.getSelection()),!0)}}),b.addCommand("cellMergeRight",{exec:function(a){t(w(a.getSelection(),"right"),!0)}}),b.addCommand("cellMergeDown",{exec:function(a){t(w(a.getSelection(),"down"),!0)}}),b.addCommand("cellVerticalSplit",{exec:function(a){t(x(a.getSelection()))}}),b.addCommand("cellHorizontalSplit",{exec:function(a){t(y(a.getSelection()))}}),b.addCommand("cellInsertBefore",{exec:function(a){var b=a.getSelection();q(b,!0)}}),b.addCommand("cellInsertAfter",{exec:function(a){var b=a.getSelection();q(b)}}),b.addMenuItems&&b.addMenuItems({tablecell:{label:c.cell.menu,group:"tablecell",order:1,getItems:function(){var a=b.getSelection(),c=f(a);return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2,tablecell_merge:w(a,null,!0)?2:0,tablecell_merge_right:w(a,"right",!0)?2:0,tablecell_merge_down:w(a,"down",!0)?2:0,tablecell_split_vertical:x(a,!0)?2:0,tablecell_split_horizontal:y(a,!0)?2:0,tablecell_properties:c.length>0?2:0}}},tablecell_insertBefore:{label:c.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:c.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:c.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:c.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:c.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:c.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:c.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:c.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:c.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:c.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2}}},tablerow_insertBefore:{label:c.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:c.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:c.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:c.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2}}},tablecolumn_insertBefore:{label:c.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:c.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:c.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),b.contextMenu&&b.contextMenu.addListener(function(a,b){if(!a||a.isReadOnly())return null;while(a){if(a.getName()in z)return{tablecell:2,tablerow:2,tablecolumn:2};a=a.getParent()}return null})},getSelectedCells:f},j.add("tabletools",j.tabletools)}(),e.buildTableMap=function(a){var b=a.$.rows,c=-1,d=[];for(var e=0;e<b.length;e++){c++,!d[c]&&(d[c]=[]);var f=-1;for(var g=0;g<b[e].cells.length;g++){var h=b[e].cells[g];f++;while(d[c][f])f++;var i=isNaN(h.colSpan)?1:h.colSpan,j=isNaN(h.rowSpan)?1:h.rowSpan;for(var k=0;k<j;k++){d[c+k]||(d[c+k]=[]);for(var l=0;l<i;l++)d[c+k][f+l]=b[e].cells[g]}f+=i-1}}return d},j.add("specialchar",{availableLangs:{en:1},init:function(b){var c="specialchar",d=this;a.dialog.add(c,this.path+"dialogs/specialchar.js"),b.addCommand(c,{exec:function(){var f=b.langCode;f=d.availableLangs[f]?f:"en",a.scriptLoader.load(a.getUrl(d.path+"lang/"+f+".js"),function(){e.extend(b.lang.specialChar,d.langEntries[f]),b.openDialog(c)})},modes:{wysiwyg:1},canUndo:!1}),b.ui.addButton("SpecialChar",{label:b.lang.specialChar.toolbar,command:c})}}),i.specialChars=["!","&quot;","#","$","%","&amp;","'","(",")","*","+","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&lt;","=","&gt;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","&euro;","&lsquo;","&rsquo;","&ldquo;","&rdquo;","&ndash;","&mdash;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&reg;","&macr;","&deg;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&OElig;","&oelig;","&#372;","&#374","&#373","&#375;","&sbquo;","&#8219;","&bdquo;","&hellip;","&trade;","&#9658;","&bull;","&rarr;","&rArr;","&hArr;","&diams;","&asymp;"],function(){function i(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.focusManager.hasFocus){var f=b.getSelection(),g=f.getCommonAncestor(),i;if(i=g.getAscendant("td",!0)||g.getAscendant("th",!0)){var j=new d.range(b.document),k=e.tryThese(function(){var b=i.getParent(),c=b.$.cells[i.$.cellIndex+(a?-1:1)];return c.parentNode.parentNode,c},function(){var b=i.getParent(),c=b.getAscendant("table"),d=c.$.rows[b.$.rowIndex+(a?-1:1)];return d.cells[a?d.cells.length-1:0]});if(!k&&!a){var l=i.getAscendant("table").$,m=i.getParent().$.cells,n=new h(l.insertRow(-1),b.document);for(var o=0,p=m.length;o<p;o++){var r=n.append((new h(m[o],b.document)).clone(!1,!1));!c&&r.appendBogus()}j.moveToElementEditStart(n)}else{if(!k)return!0;k=new h(k),j.moveToElementEditStart(k),(!j.checkStartOfBlock()||!j.checkEndOfBlock())&&j.selectNodeContents(k)}return j.select(!0),!0}}return!1}}}var a={editorFocus:!1,modes:{wysiwyg:1,source:1}},f={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},g={exec:function(a){a.container.focusPrevious(!0,a.tabIndex)}};j.add("tab",{requires:["keystrokes"],init:function(c){var d=c.config.enableTabKeyTools!==!1,h=c.config.tabSpaces||0,j="";while(h--)j+=" ";j&&c.on("key",function(a){a.data.keyCode==9&&(c.insertHtml(j),a.cancel())}),d&&c.on("key",function(a){(a.data.keyCode==9&&c.execCommand("selectNextCell")||a.data.keyCode==2228224+9&&c.execCommand("selectPreviousCell"))&&a.cancel()}),(b.webkit||b.gecko)&&c.on("key",function(a){var b=a.data.keyCode;b==9&&!j&&(a.cancel(),c.execCommand("blur")),b==2228224+9&&(c.execCommand("blurBack"),a.cancel())}),c.addCommand("blur",e.extend(f,a)),c.addCommand("blurBack",e.extend(g,a)),c.addCommand("selectNextCell",i()),c.addCommand("selectPreviousCell",i(!0))}})}(),h.prototype.focusNext=function(a,b){var c=this,d=c.$,e=b===undefined?c.getTabIndex():b,f,g,h,i,j,k;if(e<=0){j=c.getNextSourceNode(a,1);while(j){if(j.isVisible()&&j.getTabIndex()===0){h=j;break}j=j.getNextSourceNode(!1,1)}}else{j=c.getDocument().getBody().getFirst();while(j=j.getNextSourceNode(!1,1)){if(!f)if(!g&&j.equals(c)){g=!0;if(a){if(!(j=j.getNextSourceNode(!0,1)))break;f=1}}else g&&!c.contains(j)&&(f=1);if(!j.isVisible()||(k=j.getTabIndex())<0)continue;if(f&&k==e){h=j;break}k>e&&(!h||!i||k<i)?(h=j,i=k):!h&&k===0&&(h=j,i=k)}}h&&h.focus()},h.prototype.focusPrevious=function(a,b){var c=this,d=c.$,e=b===undefined?c.getTabIndex():b,f,g,h,i=0,j,k=c.getDocument().getBody().getLast();while(k=k.getPreviousSourceNode(!1,1)){if(!f)if(!g&&k.equals(c)){g=!0;if(a){if(!(k=k.getPreviousSourceNode(!0,1)))break;f=1}}else g&&!c.contains(k)&&(f=1);if(!k.isVisible()||(j=k.getTabIndex())<0)continue;if(e<=0){if(f&&j===0){h=k;break}j>i&&(h=k,i=j)}else{if(f&&j==e){h=k;break}j<e&&(!h||j>i)&&(h=k,i=j)}}h&&h.focus()},function(){j.add("templates",{requires:["dialog"],init:function(b){a.dialog.add("templates",a.getUrl(this.path+"dialogs/templates.js")),b.addCommand("templates",new a.dialogCommand("templates")),b.ui.addButton("Templates",{label:b.lang.templates.button,command:"templates"})}});var b={},c={};a.addTemplates=function(a,c){b[a]=c},a.getTemplates=function(a){return b[a]},a.loadTemplates=function(b,d){var e=[];for(var f=0,g=b.length;f<g;f++)c[b[f]]||(e.push(b[f]),c[b[f]]=1);e.length?a.scriptLoader.load(e,d):setTimeout(d,0)}}(),i.templates_files=[a.getUrl("plugins/templates/templates/default.js")],i.templates_replaceContent=!0,function(){var d=function(){this.toolbars=[],this.focusCommandExecuted=!1};d.prototype.focus=function(){for(var a=0,b;b=this.toolbars[a++];)for(var c=0,d;d=b.items[c++];)if(d.focus){d.focus();return}};var f={toolbarFocus:{modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,c||b.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}}};j.add("toolbar",{init:function(b){var c,g=function(a,d){var e,f,h=b.lang.dir=="rtl",i=b.config.toolbarGroupCycling;i=i===undefined||i;switch(d){case 9:case 2228233:while(!f||!f.items.length){f=d==9?(f?f.next:a.toolbar.next)||b.toolbox.toolbars[0]:(f?f.previous:a.toolbar.previous)||b.toolbox.toolbars[b.toolbox.toolbars.length-1];if(f.items.length){a=f.items[c?f.items.length-1:0];while(a&&!a.focus)a=c?a.previous:a.next,a||(f=0)}}return a&&a.focus(),!1;case h?37:39:case 40:e=a;do e=e.next,!e&&i&&(e=a.toolbar.items[0]);while(e&&!e.focus);return e?e.focus():g(a,9),!1;case h?39:37:case 38:e=a;do e=e.previous,!e&&i&&(e=a.toolbar.items[a.toolbar.items.length-1]);while(e&&!e.focus);return e?e.focus():(c=1,g(a,2228233),c=0),!1;case 27:return b.focus(),!1;case 13:case 32:return a.execute(),!1}return!0};b.on("themeSpace",function(c){if(c.data.space==b.config.toolbarLocation){b.toolbox=new d;var f=e.getNextId(),h=['<div class="cke_toolbox" role="group" aria-labelledby="',f,'" onmousedown="return false;"'],i=b.config.toolbarStartupExpanded!==!1,j;h.push(i?">":' style="display:none">'),h.push('<span id="',f,'" class="cke_voice_label">',b.lang.toolbars,"</span>");var k=b.toolbox.toolbars,l=b.config.toolbar instanceof Array?b.config.toolbar:b.config["toolbar_"+b.config.toolbar];for(var n=0;n<l.length;n++){var p,r=0,s,t=l[n],u;if(!t)continue;j&&(h.push("</div>"),j=0);if(t==="/"){h.push('<div class="cke_break"></div>');continue}u=t.items||t;for(var v=0;v<u.length;v++){var w,x=u[v],y;w=b.ui.create(x);if(w){y=w.canGroup!==!1;if(!r){p=e.getNextId(),r={id:p,items:[]},s=t.name&&(b.lang.toolbarGroups[t.name]||t.name),h.push('<span id="',p,'" class="cke_toolbar"',s?' aria-labelledby="'+p+'_label"':"",' role="toolbar">'),s&&h.push('<span id="',p,'_label" class="cke_voice_label">',s,"</span>"),h.push('<span class="cke_toolbar_start"></span>');var z=k.push(r)-1;z>0&&(r.previous=k[z-1],r.previous.next=r)}y?j||(h.push('<span class="cke_toolgroup" role="presentation">'),j=1):j&&(h.push("</span>"),j=0);var A=w.render(b,h);z=r.items.push(A)-1,z>0&&(A.previous=r.items[z-1],A.previous.next=A),A.toolbar=r,A.onkey=g,A.onfocus=function(){b.toolbox.focusCommandExecuted||b.focus()}}}j&&(h.push("</span>"),j=0),r&&h.push('<span class="cke_toolbar_end"></span></span>')}h.push("</div>");if(b.config.toolbarCanCollapse){var B=e.addFunction(function(){b.execCommand("toolbarCollapse")});b.on("destroy",function(){e.removeFunction(B)});var C=e.getNextId();b.addCommand("toolbarCollapse",{readOnly:1,exec:function(b){var c=a.document.getById(C),d=c.getPrevious(),e=b.getThemeSpace("contents"),f=d.getParent(),g=parseInt(e.$.style.height,10),h=f.$.offsetHeight,i=!d.isVisible();i?(d.show(),c.removeClass("cke_toolbox_collapser_min"),c.setAttribute("title",b.lang.toolbarCollapse)):(d.hide(),c.addClass("cke_toolbox_collapser_min"),c.setAttribute("title",b.lang.toolbarExpand)),c.getFirst().setText(i?"▲":"◀");var j=f.$.offsetHeight-h;e.setStyle("height",g-j+"px"),b.fire("resize")},modes:{wysiwyg:1,source:1}}),h.push('<a title="'+(i?b.lang.toolbarCollapse:b.lang.toolbarExpand)+'" id="'+C+'" tabIndex="-1" class="cke_toolbox_collapser'),i||h.push(" cke_toolbox_collapser_min"),h.push('" onclick="CKEDITOR.tools.callFunction('+B+')">',"<span>&#9650;</span>","</a>")}c.data.html+=h.join("")}}),b.on("destroy",function(){var a,b=0,c,d,f;a=this.toolbox.toolbars;for(;b<a.length;b++){d=a[b].items;for(c=0;c<d.length;c++)f=d[c],f.clickFn&&e.removeFunction(f.clickFn),f.keyDownFn&&e.removeFunction(f.keyDownFn)}}),b.addCommand("toolbarFocus",f.toolbarFocus),b.ui.add("-",a.UI_SEPARATOR,{}),b.ui.addHandler(a.UI_SEPARATOR,{create:function(){return{render:function(a,b){return b.push('<span class="cke_separator" role="separator"></span>'),{}}}}})}})}(),a.UI_SEPARATOR="separator",i.toolbarLocation="top",i.toolbar_Basic=[["Bold","Italic","-","NumberedList","BulletedList","-","Link","Unlink","-","About"]],i.toolbar_Full=[{name:"document",items:["Source","-","Save","NewPage","DocProps","Preview"
,"Print","-","Templates"]},{name:"clipboard",items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","SpellChecker","Scayt"]},{name:"forms",items:["Form","Checkbox","Radio","TextField","Textarea","Select","Button","ImageButton","HiddenField"]},"/",{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["Image","Flash","Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Iframe"]},"/",{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks","-","About"]}],i.toolbar="Full",i.toolbarCanCollapse=!0,function(){function f(a){this.editor=a,this.reset()}j.add("undo",{requires:["selection","wysiwygarea"],init:function(a){function e(a){b.enabled&&a.data.command.canUndo!==!1&&b.save()}var b=new f(a),c=a.addCommand("undo",{exec:function(){b.undo()&&(a.selectionChange(),this.fire("afterUndo"))},state:0,canUndo:!1}),d=a.addCommand("redo",{exec:function(){b.redo()&&(a.selectionChange(),this.fire("afterRedo"))},state:0,canUndo:!1});b.onChange=function(){c.setState(b.undoable()?2:0),d.setState(b.redoable()?2:0)},a.on("beforeCommandExec",e),a.on("afterCommandExec",e),a.on("saveSnapshot",function(a){b.save(a.data&&a.data.contentOnly)}),a.on("contentDom",function(){a.document.on("keydown",function(a){!a.data.$.ctrlKey&&!a.data.$.metaKey&&b.type(a)})}),a.on("beforeModeUnload",function(){a.mode=="wysiwyg"&&b.save(!0)}),a.on("mode",function(){b.enabled=a.readOnly?!1:a.mode=="wysiwyg",b.onChange()}),a.ui.addButton("Undo",{label:a.lang.undo,command:"undo"}),a.ui.addButton("Redo",{label:a.lang.redo,command:"redo"}),a.resetUndo=function(){b.reset(),a.fire("saveSnapshot")},a.on("updateSnapshot",function(){b.currentImage&&b.update()})}}),j.undo={};var a=j.undo.Image=function(a){this.editor=a,a.fire("beforeUndoImage");var b=a.getSnapshot(),d=b&&a.getSelection();c&&b&&(b=b.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=b,this.bookmarks=d&&d.createBookmarks2(!0),a.fire("afterUndoImage")},d=/\b(?:href|src|name)="[^"]*?"/gi;a.prototype={equals:function(a,f){var g=this.contents,h=a.contents;c&&(b.ie7Compat||b.ie6Compat)&&(g=g.replace(d,""),h=h.replace(d,""));if(g!=h)return!1;if(f)return!0;var i=this.bookmarks,j=a.bookmarks;if(i||j){if(!i||!j||i.length!=j.length)return!1;for(var k=0;k<i.length;k++){var l=i[k],m=j[k];if(l.startOffset!=m.startOffset||l.endOffset!=m.endOffset||!e.arrayCompare(l.start,m.start)||!e.arrayCompare(l.end,m.end))return!1}}return!0}};var g={8:1,46:1},h={16:1,17:1,18:1},i={37:1,38:1,39:1,40:1};f.prototype={type:function(b){var d=b&&b.data.getKey(),f=d in h,j=d in g,k=this.lastKeystroke in g,l=j&&d==this.lastKeystroke,n=d in i,o=this.lastKeystroke in i,s=!j&&!n,t=j&&!l,u=!f&&!this.typing||s&&(k||o);if(u||t){var v=new a(this.editor);e.setTimeout(function(){var a=this,b=a.editor.getSnapshot();c&&(b=b.replace(/\s+data-cke-expando=".*?"/g,"")),v.contents!=b&&(a.typing=!0,a.save(!1,v,!1)||a.snapshots.splice(a.index+1,a.snapshots.length-a.index-1),a.hasUndo=!0,a.hasRedo=!1,a.typesCount=1,a.modifiersCount=1,a.onChange())},0,this)}this.lastKeystroke=d,j?(this.typesCount=0,this.modifiersCount++,this.modifiersCount>25&&(this.save(!1,null,!1),this.modifiersCount=1)):n||(this.modifiersCount=0,this.typesCount++,this.typesCount>25&&(this.save(!1,null,!1),this.typesCount=1))},reset:function(){var a=this;a.lastKeystroke=0,a.snapshots=[],a.index=-1,a.limit=a.editor.config.undoStackSize||20,a.currentImage=null,a.hasUndo=!1,a.hasRedo=!1,a.resetType()},resetType:function(){var a=this;a.typing=!1,delete a.lastKeystroke,a.typesCount=0,a.modifiersCount=0},fireChange:function(){var a=this;a.hasUndo=!!a.getNextImage(!0),a.hasRedo=!!a.getNextImage(!1),a.resetType(),a.onChange()},save:function(b,c,d){var e=this,f=e.snapshots;return c||(c=new a(e.editor)),c.contents===!1?!1:e.currentImage&&c.equals(e.currentImage,b)?!1:(f.splice(e.index+1,f.length-e.index-1),f.length==e.limit&&f.shift(),e.index=f.push(c)-1,e.currentImage=c,d!==!1&&e.fireChange(),!0)},restoreImage:function(a){var b=this;b.editor.loadSnapshot(a.contents);if(a.bookmarks)b.editor.getSelection().selectBookmarks(a.bookmarks);else if(c){var d=b.editor.document.getBody().$.createTextRange();d.collapse(!0),d.select()}b.index=a.index,b.update(),b.fireChange()},getNextImage:function(a){var b=this,c=b.snapshots,d=b.currentImage,e,f;if(d)if(a)for(f=b.index-1;f>=0;f--){e=c[f];if(!d.equals(e,!0))return e.index=f,e}else for(f=b.index+1;f<c.length;f++){e=c[f];if(!d.equals(e,!0))return e.index=f,e}return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){var a=this;if(a.undoable()){a.save(!0);var b=a.getNextImage(!0);if(b)return a.restoreImage(b),!0}return!1},redo:function(){var a=this;if(a.redoable()){a.save(!0);if(a.redoable()){var b=a.getNextImage(!1);if(b)return a.restoreImage(b),!0}}return!1},update:function(){var b=this;b.snapshots.splice(b.index,1,b.currentImage=new a(b.editor))}}}(),function(){function l(a){return a.isBlockBoundary()&&f.$empty[a.getName()]}function m(a){return function(b){this.mode=="wysiwyg"&&(this.focus(),this.fire("saveSnapshot"),a.call(this,b.data),e.setTimeout(function(){this.fire("saveSnapshot")},0,this))}}function n(e){var f=this;f.dataProcessor&&(e=f.dataProcessor.toHtml(e));if(!e)return;var g=f.getSelection(),h=g.getRanges()[0];if(h.checkReadOnly())return;if(b.opera){var i=new d.elementPath(h.startContainer);if(i.block){var j=a.htmlParser.fragment.fromHtml(e,!1).children;for(var k=0,l=j.length;k<l;k++)if(j[k]._.isBlockLike){h.splitBlock(f.enterMode==3?"div":"p"),h.insertNode(h.document.createText("")),h.select();break}}}if(c){var m=g.isLocked;m&&g.unlock();var n=g.getNative();if(n.type=="Control")n.clear();else if(g.getType()==2){h=g.getRanges()[0];var o=h&&h.endContainer;o&&o.type==1&&o.getAttribute("contenteditable")=="false"&&h.checkBoundaryOfElement(o,2)&&(h.setEndAfter(h.endContainer),h.deleteContents())}n.createRange().pasteHTML(e),m&&f.getSelection().lock()}else f.document.$.execCommand("inserthtml",!1,e);b.webkit&&(g=f.getSelection(),g.scrollIntoView())}function o(a){var g=this.getSelection(),h=g.getStartElement().hasAscendant("pre",!0)?2:this.config.enterMode,i=h==2,j=e.htmlEncode(a.replace(/\r\n|\r/g,"\n"));j=j.replace(/^[ \t]+|[ \t]+$/g,function(a,b,c){return a.length==1?"&nbsp;":b?" "+e.repeat("&nbsp;",a.length-1):e.repeat("&nbsp;",a.length-1)+" "}),j=j.replace(/[ \t]{2,}/g,function(a){return e.repeat("&nbsp;",a.length-1)+" "});var k=h==1?"p":"div";i||(j=j.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(a,b,c){return"<"+k+">"+c+"</"+k+">"})),j=j.replace(/\n/g,"<br>"),!i&&!c&&(j=j.replace(new RegExp("<br>(?=</"+k+">)"),function(a){return e.repeat(a,2)}));if(b.gecko||b.webkit){var l=new d.elementPath(g.getStartElement()),m=[];for(var o=0;o<l.elements.length;o++){var p=l.elements[o].getName();if(p in f.$inline)m.unshift(l.elements[o].getOuterHtml().match(/^<.*?>/));else if(p in f.$block)break}j=m.join("")+j}n.call(this,j)}function p(a){var b=this.getSelection(),c=b.getRanges(),d=a.getName(),e=f.$block[d],g=b.isLocked;g&&b.unlock();var h,i,j,l;for(var m=c.length-1;m>=0;m--){h=c[m];if(!h.checkReadOnly()){h.deleteContents(1),i=!m&&a||a.clone(1);var n,o;if(e)while((n=h.getCommonAncestor(0,1))&&(o=f[n.getName()])&&(!o||!o[d]))n.getName()in f.span?h.splitElement(n):h.checkStartOfBlock()&&h.checkEndOfBlock()?(h.setStartBefore(n),h.collapse(!0),n.remove()):h.splitBlock();h.insertNode(i),j||(j=i)}}if(j){h.moveToPosition(j,4);if(e){var p=j.getNext(k),q=p&&p.type==1&&p.getName();q&&f.$block[q]&&f[q]["#"]&&h.moveToElementEditStart(p)}}b.selectRanges([h]),g&&this.getSelection().lock()}function q(a){a.checkDirty()||setTimeout(function(){a.resetDirty()},0)}function t(a){return r(a)&&s(a)}function u(a){return a.type==3&&e.trim(a.getText()).match(/^(?:&nbsp;|\xa0)$/)}function v(a){a.isLocked&&(a.unlock(),setTimeout(function(){a.lock()},0))}function w(a){return a.getOuterHtml().match(i)}function x(a){var b=a.window,c=a.document,e=a.document.getBody(),f=e.getFirst(),g=e.getChildren().count();if(!g||g==1&&f.type==1&&f.hasAttribute("_moz_editor_bogus_node")){q(a);var h=a.element.getDocument(),i=h.getDocumentElement(),j=i.$.scrollTop,k=i.$.scrollLeft,l=c.$.createEvent("KeyEvents");l.initKeyEvent("keypress",!0,!0,b.$,!1,!1,!1,!1,0,32),c.$.dispatchEvent(l),(j!=i.$.scrollTop||k!=i.$.scrollLeft)&&h.getWindow().$.scrollTo(k,j),g&&e.getFirst().remove(),c.getBody().appendBogus();var m=new d.range(c);m.setStartAt(e,1),m.select()}}function y(a){var e=a.editor,f=a.data.path,g=f.blockLimit,h=a.data.selection,i=h.getRanges()[0],j=e.document.getBody(),k=e.config.enterMode;if(b.gecko){x(e);var m=f.block||f.blockLimit,n=m&&m.getLast(t);m&&m.isBlockBoundary()&&(!n||n.type!=1||!n.isBlockBoundary())&&!m.is("pre")&&!m.getBogus()&&m.appendBogus()}if(e.config.autoParagraph!==!1&&k!=2&&i.collapsed&&g.getName()=="body"&&!f.block){var o=i.fixBlock(!0,e.config.enterMode==3?"div":"p");if(c){var p=o.getFirst(t);p&&u(p)&&p.remove()}if(w(o)){var q=o.getNext(r);q&&q.type==1&&!l(q)?(i.moveToElementEditStart(q),o.remove()):(q=o.getPrevious(r),q&&q.type==1&&!l(q)&&(i.moveToElementEditEnd(q),o.remove()))}i.select(),a.cancel()}var s=new d.range(e.document);s.moveToElementEditEnd(e.document.getBody());var v=new d.elementPath(s.startContainer);if(!v.blockLimit.is("body")){var y;k!=2?y=j.append(e.document.createElement(k==1?"p":"div")):y=j,c||y.appendBogus()}}var i=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,k=d.walker.whitespaces(!0),r=d.walker.whitespaces(!0),s=d.walker.bookmark(!1,!0);r=d.walker.whitespaces(!0),j.add("wysiwygarea",{requires:["editingblock"],init:function(j){function u(b){if(j.readOnly)return;e.tryThese(function(){j.document.$.designMode="on",setTimeout(function(){j.document.$.designMode="off",a.currentInstance==j&&j.document.getBody().focus()},50)},function(){j.document.$.designMode="off";var a=j.document.getBody();a.setAttribute("contentEditable",!1),a.setAttribute("contentEditable",!0),!b&&u(1)})}var k=j.config.enterMode!=2&&j.config.autoParagraph!==!1?j.config.enterMode==3?"div":"p":!1,l=j.lang.editorTitle.replace("%1",j.name),q;j.on("editingBlockReady",function(){function L(a){if(!w)return;w=0,j.fire("ariaWidget",r);var f=a.document,h=f.body,k=f.getElementById("cke_actscrpt");k&&k.parentNode.removeChild(k),h.spellcheck=!j.config.disableNativeSpellChecker;var l=!j.readOnly;c?(h.hideFocus=!0,h.disabled=!0,h.contentEditable=l,h.removeAttribute("disabled")):setTimeout(function(){b.gecko&&b.version>=10900||b.opera?f.$.body.contentEditable=l:b.webkit?f.$.body.parentNode.contentEditable=l:f.$.designMode=l?"off":"on"},0),l&&b.gecko&&e.setTimeout(x,0,null,j),a=j.window=new d.window(a),f=j.document=new g(f),l&&f.on("dblclick",function(a){var b=a.data.getTarget(),c={element:b,dialog:""};j.fire("doubleclick",c),c.dialog&&j.openDialog(c.dialog)}),c&&f.on("click",function(a){var b=a.data.getTarget();if(b.is("input")){var c=b.getAttribute("type");(c=="submit"||c=="reset")&&a.data.preventDefault()}}),!c&&!b.opera&&f.on("mousedown",function(a){var b=a.data.getTarget();b.is("img","hr","input","textarea","select")&&j.getSelection().selectElement(b)}),b.gecko&&f.on("mouseup",function(a){if(a.data.$.button==2){var b=a.data.getTarget();if(!b.getOuterHtml().replace(i,"")){var c=new d.range(f);c.moveToElementEditStart(b),c.select(!0)}}}),f.on("click",function(a){a=a.data,a.getTarget().is("a")&&a.$.button!=2&&a.preventDefault()}),b.webkit&&(f.on("mousedown",function(){o=1}),f.on("click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()}),f.on("mouseup",function(a){a.data.getTarget().is("input","textarea")&&a.data.preventDefault()}));if(l&&c&&f.$.compatMode=="CSS1Compat"||b.gecko||b.opera){var m=f.getDocumentElement();m.on("mousedown",function(a){a.data.getTarget().equals(m)&&(b.gecko&&b.version>=10900&&u(),v.focus())})}var n=c?r:a;n.on("blur",function(){j.focusManager.blur()});var o;n.on("focus",function(){var a=j.document;l&&b.gecko&&b.version>=10900?u():b.opera?a.getBody().focus():b.webkit&&(o||(j.document.getDocumentElement().focus(),o=1)),j.focusManager.focus()});var p=j.keystrokeHandler;p.blockedKeystrokes[8]=!l,p.attach(f),f.getDocumentElement().addClass(f.$.compatMode),l&&f.on("keydown",function(a){var b=a.data.getKeystroke();if(b in{8:1,46:1}){var c=j.getSelection(),d=c.getSelectedElement(),e=c.getRanges()[0];if(d){j.fire("saveSnapshot"),e.moveToPosition(d,3),d.remove(),e.select(),j.fire("saveSnapshot"),a.data.preventDefault();return}}});if(c&&f.$.compatMode=="CSS1Compat"){var q={33:1,34:1};f.on("keydown",function(a){a.data.getKeystroke()in q&&setTimeout(function(){j.getSelection().scrollIntoView()},0)})}c&&j.config.enterMode!=1&&f.on("selectionchange",function(){var a=f.getBody(),b=j.getSelection().getRanges()[0];a.getHtml().match(/^<p>&nbsp;<\/p>$/i)&&b.startContainer.equals(a)&&setTimeout(function(){b=j.getSelection().getRanges()[0],b.startContainer.equals("body")||(a.getFirst().remove(1),b.moveToElementEditEnd(a),b.select(1))},0)}),j.contextMenu&&j.contextMenu.addTarget(f,j.config.browserContextMenuOnCtrl!==!1),setTimeout(function(){j.fire("contentDom"),z&&(j.mode="wysiwyg",j.fire("mode",{previousMode:j._.previousMode}),z=!1),s=!1,t&&(j.focus(),t=!1),setTimeout(function(){j.fire("dataReady")},0);try{j.document.$.execCommand("enableInlineTableEditing",!1,!j.config.disableNativeTableHandles)}catch(a){}if(j.config.disableObjectResizing)try{j.document.$.execCommand("enableObjectResizing",!1,!1)}catch(b){j.document.getBody().on(c?"resizestart":"resize",function(a){a.data.preventDefault()})}c&&setTimeout(function(){if(j.document){var a=j.document.$.body;a.runtimeStyle.marginBottom="0px",a.runtimeStyle.marginBottom=""}},1e3)},0)}var f,r,s,t,w,z,G=b.isCustomDomain(),H=function(d){r&&r.remove();var e="document.open();"+(G?'document.domain="'+document.domain+'";':"")+"document.close();";e=b.air?"javascript:void(0)":c?"javascript:void(function(){"+encodeURIComponent(e)+"}())":"",r=h.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" title="'+l+'"'+' src="'+e+'"'+' tabIndex="'+(b.webkit?-1:j.tabIndex)+'"'+' allowTransparency="true"'+"></iframe>"),document.location.protocol=="chrome:"&&(a.event.useCapture=!0),r.on("load",function(a){w=1,a.removeListener();var c=r.getFrameDocument();c.write(d),b.air&&L(c.getWindow().$)}),document.location.protocol=="chrome:"&&(a.event.useCapture=!1),f.append(r)};q=e.addFunction(L);var I='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(G?'document.domain="'+document.domain+'";':"")+"window.parent.CKEDITOR.tools.callFunction( "+q+", window );"+"</script>";j.addMode("wysiwyg",{load:function(a,d,e){f=a,c&&b.quirks&&a.setStyle("position","relative"),j.mayBeDirty=!0,z=!0,e?this.loadSnapshotData(d):this.loadData(d)},loadData:function(a){s=!0,j._.dataStore={id:1};var c=j.config,d=c.fullPage,f=c.docType,g='<style type="text/css" data-cke-temp="1">'+j._.styles.join("\n")+"</style>";!d&&(g=e.buildStyleHtml(j.config.contentsCss)+g);var h=c.baseHref?'<base href="'+c.baseHref+'" data-cke-temp="1" />':"";d&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){return j.docType=f=a,""}).replace(/<\?xml\s[^\?]*\?>/i,function(a){return j.xmlDeclaration=a,""})),j.dataProcessor&&(a=j.dataProcessor.toHtml(a,k)),d?(/<body[\s|>]/.test(a)||(a="<body>"+a),/<html[\s|>]/.test(a)||(a="<html>"+a+"</html>"),/<head[\s|>]/.test(a)?/<title[\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,"$&<title></title>")):a=a.replace(/<html[^>]*>/,"$&<head><title></title></head>"),h&&(a=a.replace(/<head>/,"$&"+h)),a=a.replace(/<\/head\s*>/,g+"$&"),a=f+a):a=c.docType+'<html dir="'+c.contentsLangDirection+'"'+' lang="'+(c.contentsLanguage||j.langCode)+'">'+"<head>"+"<title>"+l+"</title>"+h+g+"</head>"+"<body"+(c.bodyId?' id="'+c.bodyId+'"':"")+(c.bodyClass?' class="'+c.bodyClass+'"':"")+">"+a+"</html>",b.gecko&&(a=a.replace(/<br \/>(?=\s*<\/(:?html|body)>)/,'$&<br type="_moz" />')),a+=I,this.onDispose(),H(a)},getData:function(){var a=j.config,c=a.fullPage,d=c&&j.docType,e=c&&j.xmlDeclaration,f=r.getFrameDocument(),g=c?f.getDocumentElement().getOuterHtml():f.getBody().getHtml();return b.gecko&&(g=g.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),j.dataProcessor&&(g=j.dataProcessor.toDataFormat(g,k)),a.ignoreEmptyParagraph&&(g=g.replace(i,function(a,b){return b})),e&&(g=e+"\n"+g),d&&(g=d+"\n"+g),g},getSnapshotData:function(){return r.getFrameDocument().getBody().getHtml()},loadSnapshotData:function(a){r.getFrameDocument().getBody().setHtml(a)},onDispose:function(){if(!j.document)return;j.document.getDocumentElement().clearCustomData(),j.document.getBody().clearCustomData(),j.window.clearCustomData(),j.document.clearCustomData(),r.clearCustomData(),r.remove()},unload:function(a){this.onDispose(),j.window=j.document=r=f=t=null,j.fire("contentDomUnload")},focus:function(){var a=j.window;s?t=!0:a&&(b.air?setTimeout(function(){a.focus()},0):a.focus(),j.selectionChange())}}),j.on("insertHtml",m(n),null,null,20),j.on("insertElement",m(p),null,null,20),j.on("insertText",m(o),null,null,20),j.on("selectionChange",function(a){if(j.readOnly)return;var b=j.getSelection();if(b&&!b.isLocked){var c=j.checkDirty();j.fire("saveSnapshot",{contentOnly:1}),y.call(this,a),j.fire("updateSnapshot"),!c&&j.resetDirty()}},null,null,1)});var r;j.on("contentDom",function(){var a=j.document.getElementsByTag("title").getItem(0);a.data("cke-title",j.document.$.title),j.document.$.title=l}),j.on("readOnly",function(){if(j.mode=="wysiwyg"){var a=j.getMode();a.loadData(a.getData())}});if(a.document.$.documentMode>=8){j.addCss("html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}");var s=[];for(var t in f.$removeEmpty)s.push("html.CSS1Compat "+t+"[contenteditable=false]");j.addCss(s.join(",")+"{ display:inline-block;}")}else b.gecko&&(j.addCss("html { height: 100% !important; }"),j.addCss("img:-moz-broken { -moz-force-broken-image-icon : 1;\twidth : 24px; height : 24px; }"));j.addCss("html {\t_overflow-y: scroll; cursor: text;\t*cursor:auto;}"),j.addCss("img, input, textarea { cursor: default;}");if(b.gecko||c||b.opera){var v;j.on("uiReady",function(){v=j.container.append(h.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>')),v.on("focus",function(){j.focus()}),j.focusGrabber=v}),j.on("destroy",function(){e.removeFunction(q),v.clearCustomData(),delete j.focusGrabber})}j.on("insertElement",function(a){var b=a.data;if(b.type==1&&(b.is("input")||b.is("textarea"))){var c=b.getAttribute("contenteditable")=="false";c||(b.data("cke-editable",b.hasAttribute("contenteditable")?"true":"1"),b.setAttribute("contenteditable",!1))}})}}),b.gecko&&function(){var a=document.body;if(!a)window.addEventListener("load",arguments.callee,!1);else{var b=a.getAttribute("onpageshow");a.setAttribute("onpageshow",(b?b+";":"")+"event.persisted && (function(){"+"var allInstances = CKEDITOR.instances, editor, doc;"+"for ( var i in allInstances )"+"{"+"\teditor = allInstances[ i ];"+"\tdoc = editor.document;"+"\tif ( doc )"+"\t{"+'\t\tdoc.$.designMode = "off";'+'\t\tdoc.$.designMode = "on";'+"\t}"+"}"+"})();")}}()}(),i.disableObjectResizing=!1,i.disableNativeTableHandles=!0,i.disableNativeSpellChecker=!0,i.ignoreEmptyParagraph=!0,j.add("wsc",{requires:["dialog"],init:function(c){var d="checkspell",e=c.addCommand(d,new a.dialogCommand(d));e.modes={wysiwyg:!b.opera&&!b.air&&document.domain==window.location.hostname},c.ui.addButton("SpellChecker",{label:c.lang.spellCheck.toolbar,command:d}),a.dialog.add(d,this.path+"dialogs/wsc.js")}}),i.wsc_customerId=i.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",i.wsc_customLoaderScript=i.wsc_customLoaderScript||null,a.DIALOG_RESIZE_NONE=0,a.DIALOG_RESIZE_WIDTH=1,a.DIALOG_RESIZE_HEIGHT=2,a.DIALOG_RESIZE_BOTH=3,function(){function j(a){return!!this._.tabs[a][0].$.offsetHeight}function l(){var a=this,b=a._.currentTabId,c=a._.tabIdList.length,d=e.indexOf(a._.tabIdList,b)+c;for(var f=d-1;f>d-c;f--)if(j.call(a,a._.tabIdList[f%c]))return a._.tabIdList[f%c];return null}function m(){var a=this,b=a._.currentTabId,c=a._.tabIdList.length,d=e.indexOf(a._.tabIdList,b);for(var f=d+1;f<d+c;f++)if(j.call(a,a._.tabIdList[f%c]))return a._.tabIdList[f%c];return null}function n(a,b){var c=a.$.getElementsByTagName("input");for(var d=0,e=c.length;d<e;d++){var f=new h(c[d]);f.getAttribute("type").toLowerCase()=="text"&&(b?(f.setAttribute("value",f.getCustomData("fake_value")||""),f.removeCustomData("fake_value")):(f.setCustomData("fake_value",f.getAttribute("value")),f.setAttribute("value","")))}}function o(a,b){var c=this,d=c.getInputElement();d&&(a?d.removeAttribute("aria-invalid"):d.setAttribute("aria-invalid",!0)),a||(c.select?c.select():c.focus()),b&&alert(b),c.fire("validated",{valid:a,msg:b})}function p(){var a=this.getInputElement();a&&a.removeAttribute("aria-invalid")}function q(a,b,c){this.element=b,this.focusIndex=c,this.tabIndex=0,this.isFocusable=function(){return!b.getAttribute("disabled")&&b.isVisible()},this.focus=function(){a._.currentFocusIndex=this.focusIndex,this.element.focus()},b.on("keydown",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),b.on("focus",function(){this.fire("mouseover")}),b.on("blur",function(){this.fire("mouseout")})}function w(a,b){this._={dialog:a},e.extend(this,b)}function x(c){function j(b){var f=c.getSize(),j=a.document.getWindow().getViewPaneSize(),k=b.data.$.screenX,l=b.data.$.screenY,m=k-d.x,n=l-d.y,o,p;d={x:k,y:l},e.x+=m,e.y+=n,e.x+i[3]<h?o=-i[3]:e.x-i[1]>j.width-f.width-h?o=j.width-f.width+(g.lang.dir=="rtl"?0:i[1]):o=e.x,e.y+i[0]<h?p=-i[0]:e.y-i[2]>j.height-f.height-h?p=j.height-f.height+i[2]:p=e.y,c.move(o,p,1),b.data.preventDefault()}function k(c){a.document.removeListener("mousemove",j),a.document.removeListener("mouseup",k);if(b.ie6Compat){var d=B.getChild(0).getFrameDocument();d.removeListener("mousemove",j),d.removeListener("mouseup",k)}}var d=null,e=null,f=c.getElement().getFirst(),g=c.getParentEditor(),h=g.config.dialog_magnetDistance,i=g.skin.margins||[0,0,0,0];typeof h=="undefined"&&(h=20),c.parts.title.on("mousedown",function(f){d={x:f.data.$.screenX,y:f.data.$.screenY},a.document.on("mousemove",j),a.document.on("mouseup",k),e=c.getPosition();if(b.ie6Compat){var g=B.getChild(0).getFrameDocument();g.on("mousemove",j),g.on("mouseup",k)}f.data.preventDefault()},c)}function y(d){function q(a){var b=i.lang.dir=="rtl",c=(a.data.$.screenX-m.x)*(b?-1:1),e=a.data.$.screenY-m.y,h=n.width,o=n.height,p=h+c*(d._.moved?1:2),q=o+e*(d._.moved?1:2),r=d._.element.getFirst(),s=b&&r.getComputedStyle("right"),t=d.getPosition();t.y+q>l.height&&(q=l.height-t.y),(b?s:t.x)+p>l.width&&(p=l.width-(b?s:t.x));if(g==1||g==3)h=Math.max(f.minWidth||0,p-j);if(g==2||g==3)o=Math.max(f.minHeight||0,q-k);d.resize(h,o),d._.moved||d.layout(),a.data.preventDefault()}function r(){a.document.removeListener("mouseup",r),a.document.removeListener("mousemove",q),o&&(o.remove(),o=null);if(b.ie6Compat){var c=B.getChild(0).getFrameDocument();c.removeListener("mouseup",r),c.removeListener("mousemove",q)}}var f=d.definition,g=f.resizable;if(g==0)return;var i=d.getParentEditor(),j,k,l,m,n,o,p=e.addFunction(function(e){n=d.getSize();var f=d.parts.contents,g=f.$.getElementsByTagName("iframe").length;g&&(o=h.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),f.append(o)),k=n.height-d.parts.contents.getSize("height",!(b.gecko||b.opera||c&&b.quirks)),j=n.width-d.parts.contents.getSize("width",1),m={x:e.screenX,y:e.screenY},l=a.document.getWindow().getViewPaneSize(),a.document.on("mousemove",q),a.document.on("mouseup",r);if(b.ie6Compat){var i=B.getChild(0).getFrameDocument();i.on("mousemove",q),i.on("mouseup",r)}e.preventDefault&&e.preventDefault()});d.on("load",function(){var a="";g==1?a=" cke_resizer_horizontal":g==2&&(a=" cke_resizer_vertical");var b=h.createFromHtml('<div class="cke_resizer'+a+" cke_resizer_"+i.lang.dir+'"'+' title="'+e.htmlEncode(i.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+p+', event )"></div>');d.parts.footer.append(b,1)}),i.on("destroy",function(){e.removeFunction(p)})}function C(a){a.data.preventDefault(1)}function D(c){var d=a.document.getWindow(),f=c.config,g=f.dialog_backgroundCoverColor||"white",i=f.dialog_backgroundCoverOpacity,j=f.baseFloatZIndex,k=e.genKey(g,i,j),l=A[k];if(!l){var m=['<div tabIndex="-1" style="position: ',b.ie6Compat?"absolute":"fixed","; z-index: ",j,"; top: 0px; left: 0px; ",b.ie6Compat?"":"background-color: "+g,'" class="cke_dialog_background_cover">'];if(b.ie6Compat){var n=b.isCustomDomain(),o="<html><body style=\\'background-color:"+g+";\\'></body></html>";m.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),m.push("void((function(){document.open();"+(n?"document.domain='"+document.domain+"';":"")+"document.write( '"+o+"' );"+"document.close();"+"})())"),m.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')}m.push("</div>"),l=h.createFromHtml(m.join("")),l.setOpacity(i!=undefined?i:.5),l.on("keydown",C),l.on("keypress",C),l.on("keyup",C),l.appendTo(a.document.getBody()),A[k]=l}else l.show();B=l;var p=function(){var a=d.getViewPaneSize();l.setStyles({width:a.width+"px",height:a.height+"px"})},q=function(){var b=d.getScrollPosition(),c=a.dialog._.currentTop;l.setStyles({left:b.x+"px",top:b.y+"px"});if(c)do{var e=c.getPosition();c.move(e.x,e.y)}while(c=c._.parentDialog)};z=p,d.on("resize",p),p(),(!b.mac||!b.webkit)&&l.focus();if(b.ie6Compat){var r=function(){q(),arguments.callee.prevScrollHandler.apply(this,arguments)};d.$.setTimeout(function(){r.prevScrollHandler=window.onscroll||function(){},window.onscroll=r},0),q()}}function E(){if(!B)return;var c=a.document.getWindow();B.hide(),c.removeListener("resize",z),b.ie6Compat&&c.$.setTimeout(function(){var a=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=a||null},0),z=null}function F(){for(var a in A)A[a].remove();A={}}var f=e.cssLength;a.dialog=function(f,h){function E(){var a=C._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});var b=a.length;for(var c=0;c<b;c++)a[c].focusIndex=c}function F(a){var b=C._.focusList,c=a?1:-1;if(b.length<1)return;var d=C._.currentFocusIndex;try{b[d].getInputElement().$.blur()}catch(e){}var f=(d+c+b.length)%b.length,g=f;while(!b[g].isFocusable()){g=(g+c+b.length)%b.length;if(g==f)break}b[g].focus(),b[g].type=="text"&&b[g].select()}function H(b){var c=this;if(C!=a.dialog._.currentTop)return;var d=b.data.getKeystroke(),e=f.lang.dir=="rtl";G=0;if(d==9||d==2228224+9){var g=d==2228224+9;if(C._.tabBarMode){var h=g?l.call(C):m.call(C);C.selectPage(h),C._.tabs[h][0].focus()}else F(!g);G=1}else d==4456448+121&&!C._.tabBarMode&&C.getPageCount()>1?(C._.tabBarMode=!0,C._.tabs[C._.currentTabId][0].focus(),G=1):d!=37&&d!=39||!C._.tabBarMode?(d==13||d==32)&&C._.tabBarMode&&(c.selectPage(c._.currentTabId),c._.tabBarMode=!1,c._.currentFocusIndex=-1,F(!0),G=1):(h=d==(e?39:37)?l.call(C):m.call(C),C.selectPage(h),C._.tabs[h][0].focus(),G=1);G&&(b.stop(),b.data.preventDefault())}function I(a){G&&a.data.preventDefault()}var j=a.dialog._.dialogDefinitions[h],k=e.clone(r),n=f.config.dialog_buttonsOrder||"OS",q=f.lang.dir;(n=="OS"&&b.mac||n=="rtl"&&q=="ltr"||n=="ltr"&&q=="rtl")&&k.buttons.reverse(),j=e.extend(j(f),k),j=e.clone(j),j=new v(this,j);var s=a.document,t=f.theme.buildDialog(f);this._={editor:f,element:t.element,name:h,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=t.parts,e.setTimeout(function(){f.fire("ariaWidget",this.parts.contents)},0,this);var u={position:b.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"};u[q=="rtl"?"right":"left"]=0,this.parts.dialog.setStyles(u),a.event.call(this),this.definition=j=a.fire("dialogDefinition",{name:h,definition:j},f).definition;var w={};if(!("removeDialogTabs"in f._)&&f.config.removeDialogTabs){var z=f.config.removeDialogTabs.split(";");for(i=0;i<z.length;i++){var A=z[i].split(":");if(A.length==2){var B=A[0];w[B]||(w[B]=[]),w[B].push(A[1])}}f._.removeDialogTabs=w}if(f._.removeDialogTabs&&(w=f._.removeDialogTabs[h]))for(i=0;i<w.length;i++)j.removeContents(w[i]);j.onLoad&&this.on("load",j.onLoad),j.onShow&&this.on("show",j.onShow),j.onHide&&this.on("hide",j.onHide),j.onOk&&this.on("ok",function(a){f.fire("saveSnapshot"),setTimeout(function(){f.fire("saveSnapshot")},0),j.onOk.call(this,a)===!1&&(a.data.hide=!1)}),j.onCancel&&this.on("cancel",function(a){j.onCancel.call(this,a)===!1&&(a.data.hide=!1)});var C=this,D=function(a){var b=C._.contents,c=!1;for(var d in b)for(var e in b[d]){c=a.call(this,b[d][e]);if(c)return}};this.on("ok",function(a){D(function(b){if(b.validate){var c=b.validate(this),d=typeof c=="string"||c===!1;return d&&(a.data.hide=!1,a.stop()),o.call(b,!d,typeof c=="string"?c:undefined),d}})},this,null,0),this.on("cancel",function(a){D(function(b){if(b.isChanged())return confirm(f.lang.common.confirmCancel)||(a.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(a){this.fire("cancel",{hide:!0}).hide!==!1&&this.hide(),a.data.preventDefault()},this),this.changeFocus=F;var G,J=this._.element;this.on("show",function(){J.on("keydown",H,this,null,0),(b.opera||b.gecko&&b.mac)&&J.on("keypress",I,this)}),this.on("hide",function(){J.removeListener("keydown",H),(b.opera||b.gecko&&b.mac)&&J.removeListener("keypress",I),D(function(a){p.apply(a)})}),this.on("iframeAdded",function(a){var b=new g(a.data.iframe.$.contentWindow.document);b.on("keydown",H,this,null,0)}),this.on("show",function(){var a=this;E();if(f.config.dialog_startupFocusTab&&C._.pageCount>1)C._.tabBarMode=!0,C._.tabs[C._.currentTabId][0].focus();else if(!a._.hasFocus){a._.currentFocusIndex=-1;if(j.onFocus){var b=j.onFocus.call(a);b&&b.focus()}else F(!0);if(a._.editor.mode=="wysiwyg"&&c){var d=f.document.$.selection,e=d.createRange();if(e)if(e.parentElement&&e.parentElement().ownerDocument==f.document.$||e.item&&e.item(0).ownerDocument==f.document.$){var g=document.body.createTextRange();g.moveToElementText(a.getElement().getFirst().$),g.collapse(!0),g.select()}}}},this,null,4294967295),b.ie6Compat&&this.on("load",function(a){var b=this.getElement(),c=b.getFirst();c.remove(),c.appendTo(b)},this),x(this),y(this),(new d.text(j.title,a.document)).appendTo(this.parts.title);for(var K=0;K<j.contents.length;K++){var L=j.contents[K];L&&this.addPage(L)}this.parts.tabs.on("click",function(a){var b=this,c=a.data.getTarget();if(c.hasClass("cke_dialog_tab")){var d=c.$.id;b.selectPage(d.substring(4,d.lastIndexOf("_"))),b._.tabBarMode&&(b._.tabBarMode=!1,b._.currentFocusIndex=-1,F(!0)),a.data.preventDefault()}},this);var M=[],N=a.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:j.buttons},M).getChild();this.parts.footer.setHtml(M.join(""));for(K=0;K<N.length;K++)this._.buttons[N[K].id]=N[K]},a.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(){return function(b,c){var d=this;if(d._.contentSize&&d._.contentSize.width==b&&d._.contentSize.height==c)return;a.dialog.fire("resize",{dialog:d,skin:d._.editor.skinName,width:b,height:c},d._.editor),d.fire("resize",{skin:d._.editor.skinName,width:b,height:c},d._.editor),d._.editor.lang.dir=="rtl"&&d._.position&&(d._.position.x=a.document.getWindow().getViewPaneSize().width-d._.contentSize.width-parseInt(d._.element.getFirst().getStyle("right"),10)),d._.contentSize={width:b,height:c}}}(),getSize:function(){var a=this._.element.getFirst();return{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(){var b;return function(c,d,e){var f=this,g=f._.element.getFirst(),h=f._.editor.lang.dir=="rtl";b===undefined&&(b=g.getComputedStyle("position")=="fixed");if(b&&f._.position&&f._.position.x==c&&f._.position.y==d)return;f._.position={x:c,y:d};if(!b){var i=a.document.getWindow().getScrollPosition();c+=i.x,d+=i.y}if(h){var j=f.getSize(),k=a.document.getWindow().getViewPaneSize();c=k.width-j.width-c}var l={top:(d>0?d:0)+"px"
};l[h?"right":"left"]=(c>0?c:0)+"px",g.setStyles(l),e&&(f._.moved=1)}}(),getPosition:function(){return e.extend({},this._.position)},show:function(){var c=this._.element,d=this.definition;!c.getParent()||!c.getParent().equals(a.document.getBody())?c.appendTo(a.document.getBody()):c.setStyle("display","block");if(b.gecko&&b.version<10900){var f=this.parts.dialog;f.setStyle("position","absolute"),setTimeout(function(){f.setStyle("position","fixed")},0)}this.resize(this._.contentSize&&this._.contentSize.width||d.width||d.minWidth,this._.contentSize&&this._.contentSize.height||d.height||d.minHeight),this.reset(),this.selectPage(this.definition.contents[0].id),a.dialog._.currentZIndex===null&&(a.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",a.dialog._.currentZIndex+=10);if(a.dialog._.currentTop===null){a.dialog._.currentTop=this,this._.parentDialog=null,D(this._.editor),c.on("keydown",H),c.on(b.opera?"keypress":"keyup",I);for(var g in{keyup:1,keydown:1,keypress:1})c.on(g,O)}else{this._.parentDialog=a.dialog._.currentTop;var h=this._.parentDialog.getElement().getFirst();h.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),a.dialog._.currentTop=this}J(this,this,"",null,function(){this.getButton("cancel")&&this.getButton("cancel").click()}),this._.hasFocus=!1,e.setTimeout(function(){this.layout(),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),k.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var b=this,c=a.document.getWindow().getViewPaneSize(),d=b.getSize();b.move(b._.moved?b._.position.x:(c.width-d.width)/2,b._.moved?b._.position.y:(c.height-d.height)/2)},foreach:function(a){var b=this;for(var c in b._.contents)for(var d in b._.contents[c])a.call(b,b._.contents[c][d]);return b},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){return this.foreach(a),this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},commitContent:function(){var a=arguments;this.foreach(function(b){c&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur(),b.commit&&b.commit.apply(b,a)})},hide:function(){if(!this.parts.dialog.isVisible())return;this.fire("hide",{}),this._.editor.fire("dialogHide",this);var d=this._.element;d.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),K(this);while(a.dialog._.currentTop!=this)a.dialog._.currentTop.hide();if(!this._.parentDialog)E();else{var e=this._.parentDialog.getElement().getFirst();e.setStyle("z-index",parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}a.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){a.dialog._.currentZIndex=null,d.removeListener("keydown",H),d.removeListener(b.opera?"keypress":"keyup",I);for(var f in{keyup:1,keydown:1,keypress:1})d.removeListener(f,O);var g=this._.editor;g.focus();if(g.mode=="wysiwyg"&&c){var h=g.getSelection();h&&h.unlock(!0)}}else a.dialog._.currentZIndex-=10;delete this._.parentDialog,this.foreach(function(a){a.resetInitValue&&a.resetInitValue()})},addPage:function(c){var d=this,f=[],g=c.label?' title="'+e.htmlEncode(c.label)+'"':"",i=c.elements,j=a.dialog._.uiElementBuilders.vbox.build(d,{type:"vbox",className:"cke_dialog_page_contents",children:c.elements,expand:!!c.expand,padding:c.padding,style:c.style||"width: 100%;height:100%"},f),k=h.createFromHtml(f.join(""));k.setAttribute("role","tabpanel");var l=b,m="cke_"+c.id+"_"+e.getNextNumber(),n=h.createFromHtml(['<a class="cke_dialog_tab"',d._.pageCount>0?" cke_last":"cke_first",g,c.hidden?' style="display:none"':"",' id="',m,'"',l.gecko&&l.version>=10900&&!l.hc?"":' href="javascript:void(0)"',' tabIndex="-1"',' hidefocus="true"',' role="tab">',c.label,"</a>"].join(""));k.setAttribute("aria-labelledby",m),d._.tabs[c.id]=[n,k],d._.tabIdList.push(c.id),!c.hidden&&d._.pageCount++,d._.lastTab=n,d.updateStyle();var o=d._.contents[c.id]={},p,q=j.getChild();while(p=q.shift())o[p.id]=p,typeof p.getChild=="function"&&q.push.apply(q,p.getChild());k.setAttribute("name",c.id),k.appendTo(d.parts.contents),n.unselectable(),d.parts.tabs.append(n),c.accessKey&&(J(d,d,"CTRL+"+c.accessKey,M,L),d._.accessKeyMap["CTRL+"+c.accessKey]=c.id)},selectPage:function(a){if(this._.currentTabId==a)return;if(this.fire("selectPage",{page:a,currentPage:this._.currentTabId})===!0)return;for(var c in this._.tabs){var d=this._.tabs[c][0],f=this._.tabs[c][1];c!=a&&(d.removeClass("cke_dialog_tab_selected"),f.hide()),f.setAttribute("aria-hidden",c!=a)}var g=this._.tabs[a];g[0].addClass("cke_dialog_tab_selected"),b.ie6Compat||b.ie7Compat?(n(g[1]),g[1].show(),setTimeout(function(){n(g[1],1)},0)):g[1].show(),this._.currentTabId=a,this._.currentTabIndex=e.indexOf(this._.tabIdList,a)},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(a){var b=this,c=b._.tabs[a]&&b._.tabs[a][0];if(!c||b._.pageCount==1||!c.isVisible())return;a==b._.currentTabId&&b.selectPage(l.call(b)),c.hide(),b._.pageCount--,b.updateStyle()},showPage:function(a){var b=this,c=b._.tabs[a]&&b._.tabs[a][0];if(!c)return;c.show(),b._.pageCount++,b.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){var c=this;if(typeof b=="undefined")b=c._.focusList.length,c._.focusList.push(new q(c,a,b));else{c._.focusList.splice(b,0,new q(c,a,b));for(var d=b+1;d<c._.focusList.length;d++)c._.focusList[d].focusIndex++}}},e.extend(a.dialog,{add:function(a,b){if(!this._.dialogDefinitions[a]||typeof b=="function")this._.dialogDefinitions[a]=b},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return a.dialog._.currentTop},okButton:function(){var a=function(a,b){return b=b||{},e.extend({id:"ok",type:"button",label:a.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(a){var b=a.data.dialog;b.fire("ok",{hide:!0}).hide!==!1&&b.hide()}},b,!0)};return a.type="button",a.override=function(b){return e.extend(function(c){return a(c,b)},{type:"button"},!0)},a}(),cancelButton:function(){var a=function(a,b){return b=b||{},e.extend({id:"cancel",type:"button",label:a.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(a){var b=a.data.dialog;b.fire("cancel",{hide:!0}).hide!==!1&&b.hide()}},b,!0)};return a.type="button",a.override=function(b){return e.extend(function(c){return a(c,b)},{type:"button"},!0)},a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}}),a.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},a.event.implementOn(a.dialog),a.event.implementOn(a.dialog.prototype,!0);var r={resizable:3,minWidth:600,minHeight:400,buttons:[a.dialog.okButton,a.dialog.cancelButton]},s=function(a,b,c){for(var d=0,e;e=a[d];d++){if(e.id==b)return e;if(c&&e[c]){var f=s(e[c],b,c);if(f)return f}}return null},t=function(a,b,c,d,e){if(c){for(var f=0,g;g=a[f];f++){if(g.id==c)return a.splice(f,0,b),b;if(d&&g[d]){var h=t(g[d],b,c,d,!0);if(h)return h}}if(e)return null}return a.push(b),b},u=function(a,b,c){for(var d=0,e;e=a[d];d++){if(e.id==b)return a.splice(d,1);if(c&&e[c]){var f=u(e[c],b,c);if(f)return f}}return null},v=function(a,b){this.dialog=a;var c=b.contents;for(var d=0,f;f=c[d];d++)c[d]=f&&new w(a,f);e.extend(this,b)};v.prototype={getContents:function(a){return s(this.contents,a)},getButton:function(a){return s(this.buttons,a)},addContents:function(a,b){return t(this.contents,a,b)},addButton:function(a,b){return t(this.buttons,a,b)},removeContents:function(a){u(this.contents,a)},removeButton:function(a){u(this.buttons,a)}},w.prototype={get:function(a){return s(this.elements,a,"children")},add:function(a,b){return t(this.elements,a,b,"children")},remove:function(a){u(this.elements,a,"children")}};var z,A={},B,G={},H=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode),f=G[(b?"CTRL+":"")+(c?"ALT+":"")+(d?"SHIFT+":"")+e];if(!f||!f.length)return;f=f[f.length-1],f.keydown&&f.keydown.call(f.uiElement,f.dialog,f.key),a.data.preventDefault()},I=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode),f=G[(b?"CTRL+":"")+(c?"ALT+":"")+(d?"SHIFT+":"")+e];if(!f||!f.length)return;f=f[f.length-1],f.keyup&&(f.keyup.call(f.uiElement,f.dialog,f.key),a.data.preventDefault())},J=function(a,b,c,d,e){var f=G[c]||(G[c]=[]);f.push({uiElement:a,dialog:b,key:c,keyup:e||a.accessKeyUp,keydown:d||a.accessKeyDown})},K=function(a){for(var b in G){var c=G[b];for(var d=c.length-1;d>=0;d--)(c[d].dialog==a||c[d].uiElement==a)&&c.splice(d,1);c.length===0&&delete G[b]}},L=function(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},M=function(a,b){},N={27:1,13:1},O=function(a){a.data.getKeystroke()in N&&a.data.stopPropagation()};(function(){k.dialog={uiElement:function(d,f,g,h,i,j,k){if(arguments.length<4)return;var l=(h.call?h(f):h)||"div",m=["<",l," "],n=(i&&i.call?i(f):i)||{},o=(j&&j.call?j(f):j)||{},p=(k&&k.call?k.call(this,d,f):k)||"",q=this.domId=o.id||e.getNextId()+"_uiElement",r=this.id=f.id,s;o.id=q;var t={};f.type&&(t["cke_dialog_ui_"+f.type]=1),f.className&&(t[f.className]=1),f.disabled&&(t.cke_disabled=1);var u=o["class"]&&o["class"].split?o["class"].split(" "):[];for(s=0;s<u.length;s++)u[s]&&(t[u[s]]=1);var v=[];for(s in t)v.push(s);o["class"]=v.join(" "),f.title&&(o.title=f.title);var w=(f.style||"").split(";");if(f.align){var x=f.align;n["margin-left"]=x=="left"?0:"auto",n["margin-right"]=x=="right"?0:"auto"}for(s in n)w.push(s+":"+n[s]);f.hidden&&w.push("display:none");for(s=w.length-1;s>=0;s--)w[s]===""&&w.splice(s,1);w.length>0&&(o.style=(o.style?o.style+"; ":"")+w.join("; "));for(s in o)m.push(s+'="'+e.htmlEncode(o[s])+'" ');m.push(">",p,"</",l,">"),g.push(m.join("")),(this._||(this._={})).dialog=d,typeof f.isChanged=="boolean"&&(this.isChanged=function(){return f.isChanged}),typeof f.isChanged=="function"&&(this.isChanged=f.isChanged),typeof f.setValue=="function"&&(this.setValue=e.override(this.setValue,function(a){return function(b){a.call(this,f.setValue.call(this,b))}})),typeof f.getValue=="function"&&(this.getValue=e.override(this.getValue,function(a){return function(){return f.getValue.call(this,a.call(this))}})),a.event.implementOn(this),this.registerEvents(f),this.accessKeyUp&&this.accessKeyDown&&f.accessKey&&J(this,d,"CTRL+"+f.accessKey);var y=this;d.on("load",function(){var a=y.getInputElement();if(a){var e=y.type in{checkbox:1,ratio:1}&&c&&b.version<8?"cke_dialog_ui_focused":"";a.on("focus",function(){d._.tabBarMode=!1,d._.hasFocus=!0,y.fire("focus"),e&&this.addClass(e)}),a.on("blur",function(){y.fire("blur"),e&&this.removeClass(e)})}}),this.keyboardFocusable&&(this.tabIndex=f.tabIndex||0,this.focusIndex=d._.focusList.push(this)-1,this.on("focus",function(){d._.currentFocusIndex=y.focusIndex})),e.extend(this,f)},hbox:function(a,d,e,g,h){if(arguments.length<4)return;this._||(this._={});var i=this._.children=d,j=h&&h.widths||null,l=h&&h.height||null,m={},n,o=function(){var a=['<tbody><tr class="cke_dialog_ui_hbox">'];for(n=0;n<e.length;n++){var d="cke_dialog_ui_hbox_child",g=[];n===0&&(d="cke_dialog_ui_hbox_first"),n==e.length-1&&(d="cke_dialog_ui_hbox_last"),a.push('<td class="',d,'" role="presentation" '),j?j[n]&&g.push("width:"+f(j[n])):g.push("width:"+Math.floor(100/e.length)+"%"),l&&g.push("height:"+f(l)),h&&h.padding!=undefined&&g.push("padding:"+f(h.padding)),c&&b.quirks&&i[n].align&&g.push("text-align:"+i[n].align),g.length>0&&a.push('style="'+g.join("; ")+'" '),a.push(">",e[n],"</td>")}return a.push("</tr></tbody>"),a.join("")},p={role:"presentation"};h&&h.align&&(p.align=h.align),k.dialog.uiElement.call(this,a,h||{type:"hbox"},g,"table",m,p,o)},vbox:function(a,d,g,h,i){if(arguments.length<3)return;this._||(this._={});var j=this._.children=d,l=i&&i.width||null,m=i&&i.heights||null,n=function(){var d=['<table role="presentation" cellspacing="0" border="0" '];d.push('style="'),i&&i.expand&&d.push("height:100%;"),d.push("width:"+f(l||"100%"),";"),d.push('"'),d.push('align="',e.htmlEncode(i&&i.align||(a.getParentEditor().lang.dir=="ltr"?"left":"right")),'" '),d.push("><tbody>");for(var h=0;h<g.length;h++){var k=[];d.push('<tr><td role="presentation" '),l&&k.push("width:"+f(l||"100%")),m?k.push("height:"+f(m[h])):i&&i.expand&&k.push("height:"+Math.floor(100/g.length)+"%"),i&&i.padding!=undefined&&k.push("padding:"+f(i.padding)),c&&b.quirks&&j[h].align&&k.push("text-align:"+j[h].align),k.length>0&&d.push('style="',k.join("; "),'" '),d.push(' class="cke_dialog_ui_vbox_child">',g[h],"</td></tr>")}return d.push("</tbody></table>"),d.join("")};k.dialog.uiElement.call(this,a,i||{type:"vbox"},h,"div",null,{role:"presentation"},n)}}})(),k.dialog.uiElement.prototype={getElement:function(){return a.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){return this.getInputElement().setValue(a),!b&&this.fire("change",{value:a}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){var a=this,b=a.getInputElement(),c=b,d;while((c=c.getParent())&&c.$.className.search("cke_dialog_page_contents")==-1);return c?(d=c.getAttribute("name"),a._.dialog._.currentTabId!=d&&a._.dialog.selectPage(d),a):a},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(a){var b=/^on([A-Z]\w+)/,c,d=function(a,b,c,d){b.on("load",function(){a.getInputElement().on(c,d,a)})};for(var e in a){if(!(c=e.match(b)))continue;this.eventProcessors[e]?this.eventProcessors[e].call(this,this._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e])}return this},eventProcessors:{onLoad:function(a,b){a.on("load",b,this)},onShow:function(a,b){a.on("show",b,this)},onHide:function(a,b){a.on("hide",b,this)}},accessKeyDown:function(a,b){this.focus()},accessKeyUp:function(a,b){},disable:function(){var a=this.getElement(),b=this.getInputElement();b.setAttribute("disabled","true"),a.addClass("cke_disabled")},enable:function(){var a=this.getElement(),b=this.getInputElement();b.removeAttribute("disabled"),a.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!this.isEnabled()||!this.isVisible()?!1:!0}},k.dialog.hbox.prototype=e.extend(new k.dialog.uiElement,{getChild:function(a){var b=this;return arguments.length<1?b._.children.concat():(a.splice||(a=[a]),a.length<2?b._.children[a[0]]:b._.children[a[0]]&&b._.children[a[0]].getChild?b._.children[a[0]].getChild(a.slice(1,a.length)):null)}},!0),k.dialog.vbox.prototype=new k.dialog.hbox,function(){var b={build:function(b,c,d){var e=c.children,f,g=[],h=[];for(var i=0;i<e.length&&(f=e[i]);i++){var j=[];g.push(j),h.push(a.dialog._.uiElementBuilders[f.type].build(b,f,j))}return new k.dialog[c.type](b,h,g,d,c)}};a.dialog.addUIElement("hbox",b),a.dialog.addUIElement("vbox",b)}(),a.dialogCommand=function(a){this.dialogName=a},a.dialogCommand.prototype={exec:function(a){b.opera?e.setTimeout(function(){a.openDialog(this.dialogName)},0,this):a.openDialog(this.dialogName)},canUndo:!1,editorFocus:c||b.webkit},function(){var b=/^([a]|[^a])+$/,c=/^\d*$/,d=/^\d*(?:\.\d+)?$/,f=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,g=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,h=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;a.VALIDATE_OR=1,a.VALIDATE_AND=2,a.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():a[0],c=undefined,d=2,e=[],f;for(f=0;f<a.length;f++){if(typeof a[f]!="function")break;e.push(a[f])}f<a.length&&typeof a[f]=="string"&&(c=a[f],f++),f<a.length&&typeof a[f]=="number"&&(d=a[f]);var g=d==2?!0:!1;for(f=0;f<e.length;f++)d==2?g=g&&e[f](b):g=g||e[f](b);return g?!0:c}},regex:function(a,b){return function(){var c=this&&this.getValue?this.getValue():arguments[0];return a.test(c)?!0:b}},notEmpty:function(a){return this.regex(b,a)},integer:function(a){return this.regex(c,a)},number:function(a){return this.regex(d,a)},cssLength:function(a){return this.functions(function(a){return g.test(e.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return f.test(e.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return h.test(e.trim(a))},a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}},a.on("instanceDestroyed",function(b){if(e.isEmpty(a.instances)){var c;while(c=a.dialog._.currentTop)c.hide();F()}var d=b.editor._.storedDialogs;for(var f in d)d[f].destroy()})}(),e.extend(a.editor.prototype,{openDialog:function(b,d){function k(c){var e=a.dialog._.dialogDefinitions[b],f=j.skin.dialog;if(!f._isLoaded||l&&typeof c=="undefined")return;typeof e!="function"&&(a.dialog._.dialogDefinitions[b]="failed"),j.openDialog(b,d)}if(this.mode=="wysiwyg"&&c){var e=this.getSelection();e&&e.lock()}var f=a.dialog._.dialogDefinitions[b],g=this.skin.dialog;a.dialog._.currentTop===null&&D(this);if(typeof f=="function"&&g._isLoaded){var h=this._.storedDialogs||(this._.storedDialogs={}),i=h[b]||(h[b]=new a.dialog(this,b));return d&&d.call(i,i),i.show(),i}if(f=="failed")throw E(),new Error('[CKEDITOR.dialog.openDialog] Dialog "'+b+'" failed when loading definition.');var j=this;if(typeof f=="string"){var l=1;a.scriptLoader.load(a.getUrl(f),k,null,0,1)}return a.skins.load(this,"dialog",k),null}})}(),j.add("dialog",{requires:["dialogui"]}),j.add("styles",{requires:["selection"],init:function(a){a.on("contentDom",function(){a.document.setCustomData("cke_includeReadonly",!a.config.disableReadonlyStyling)})}}),a.editor.prototype.attachStyleStateChange=function(a,b){var c=this._.styleStateChangeCallbacks;c||(c=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(a){for(var b=0;b<c.length;b++){var d=c[b],e=d.style.checkActive(a.data.path)?1:2;d.fn.call(this,e)}})),c.push({style:a,fn:b})},a.STYLE_BLOCK=1,a.STYLE_INLINE=2,a.STYLE_OBJECT=3,function(){function m(a){var b,c;while(a=a.getParent()){if(a.getName()=="body")break;if(a.getAttribute("data-nostyle"))b=a;else if(!c){var d=a.getAttribute("contentEditable");d=="false"?b=a:d=="true"&&(c=1)}}return b}function n(a){var b=this,e=a.document;if(a.collapsed){var g=D(b,e);a.insertNode(g),a.moveToPosition(g,2);return}var i=b.element,j=b._.definition,l,n=j.ignoreReadonly,o=n||j.includeReadonly;o==undefined&&(o=e.getCustomData("cke_includeReadonly"));var p=f[i]||(l=!0,f.span);a.enlarge(1,1),a.trim();var q=a.createBookmark(),r=q.startNode,s=q.endNode,t=r,u;if(!n){var v=m(r),w=m(s);v&&(t=v.getNextSourceNode(!0)),w&&(s=w)}t.getPosition(s)==2&&(t=0);while(t){var x=!1;if(t.equals(s))t=null,x=!0;else{var y=t.type,z=y==1?t.getName():null,B=z&&t.getAttribute("contentEditable")=="false",C=z&&t.getAttribute("data-nostyle");if(z&&t.data("cke-bookmark")){t=t.getNextSourceNode(!0);continue}if(!z||p[z]&&!C&&(!B||o)&&(t.getPosition(s)|4|0|8)==4+0+8&&(!j.childRule||j.childRule(t))){var E=t.getParent();if(E&&((E.getDtd()||f.span)[i]||l)&&(!j.parentRule||j.parentRule(E))){!u&&(!z||!f.$removeEmpty[z]||(t.getPosition(s)|4|0|8)==4+0+8)&&(u=new d.range(e),u.setStartBefore(t));if(y==3||B||y==1&&!t.getChildCount()){var F=t,G;while((x=!F.getNext(k))&&(G=F.getParent(),p[G.getName()])&&(G.getPosition(r)|2|0|8)==2+0+8&&(!j.childRule||j.childRule(G)))F=G;u.setEndAfter(F)}}else x=!0}else x=!0;t=t.getNextSourceNode(C||B)}if(x&&u&&!u.collapsed){var H=D(b,e),I=H.hasAttributes(),J=u.getCommonAncestor(),K={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}},L,M,N;while(H&&J){if(J.getName()==i){for(L in j.attributes){if(K.blockedAttrs[L]||!(N=J.getAttribute(M)))continue;H.getAttribute(L)==N?K.attrs[L]=1:K.blockedAttrs[L]=1}for(M in j.styles){if(K.blockedStyles[M]||!(N=J.getStyle(M)))continue;H.getStyle(M)==N?K.styles[M]=1:K.blockedStyles[M]=1}}J=J.getParent()}for(L in K.attrs)H.removeAttribute(L);for(M in K.styles)H.removeStyle(M);I&&!H.hasAttributes()&&(H=null),H?(u.extractContents().appendTo(H),A(b,H),u.insertNode(H),H.mergeSiblings(),c||H.$.normalize()):(H=new h("span"),u.extractContents().appendTo(H),u.insertNode(H),A(b,H),H.remove(!0)),u=null}}a.moveToBookmark(q),a.shrink(2)}function o(a){a.enlarge(1,1);var b=a.createBookmark(),c=b.startNode;if(a.collapsed){var e=new d.elementPath(c.getParent()),f;for(var g=0,h;g<e.elements.length&&(h=e.elements[g]);g++){if(h==e.block||h==e.blockLimit)break;if(this.checkElementRemovable(h)){var i;a.collapsed&&(a.checkBoundaryOfElement(h,2)||(i=a.checkBoundaryOfElement(h,1)))?(f=h,f.match=i?"start":"end"):(h.mergeSiblings(),h.getName()==this.element?z(this,h):B(h,H(this)[h.getName()]))}}if(f){var j=c;for(g=0;!0;g++){var k=e.elements[g];if(k.equals(f))break;if(k.match)continue;k=k.clone(),k.append(j),j=k}j[f.match=="start"?"insertBefore":"insertAfter"](f)}}else{var l=b.endNode,m=this;function n(){var a=new d.elementPath(c.getParent()),b=new d.elementPath(l.getParent()),e=null,f=null;for(var g=0;g<a.elements.length;g++){var h=a.elements[g];if(h==a.block||h==a.blockLimit)break;m.checkElementRemovable(h)&&(e=h)}for(g=0;g<b.elements.length;g++){h=b.elements[g];if(h==b.block||h==b.blockLimit)break;m.checkElementRemovable(h)&&(f=h)}f&&l.breakParent(f),e&&c.breakParent(e)}n();var o=c;while(!o.equals(l)){var p=o.getNextSourceNode();o.type==1&&this.checkElementRemovable(o)&&(o.getName()==this.element?z(this,o):B(o,H(this)[o.getName()]),p.type==1&&p.contains(c)&&(n(),p=c.getNext())),o=p}}a.moveToBookmark(b)}function p(a){var b=a.getCommonAncestor(!0,!0),c=b.getAscendant(this.element,!0);c&&!c.isReadOnly()&&E(c,this)}function q(a){var b=a.getCommonAncestor(!0,!0),c=b.getAscendant(this.element,!0);if(!c)return;var d=this,e=d._.definition,f=e.attributes;if(f)for(var g in f)c.removeAttribute(g,f[g]);if(e.styles)for(var h in e.styles){if(!e.styles.hasOwnProperty(h))continue;c.removeStyle(h)}}function r(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0,this._.enterMode&&(c.enlargeBr=this._.enterMode!=2);var d,e=a.document,f;while(d=c.getNextParagraph())if(!d.isReadOnly()){var g=D(this,e,d);t(d,g)}a.moveToBookmark(b)}function s(a){var b=this,c=a.createBookmark(1),d=a.createIterator();d.enforceRealBlocks=!0,d.enlargeBr=b._.enterMode!=2;var e;while(e=d.getNextParagraph())if(b.checkElementRemovable(e))if(e.is("pre")){var f=b._.enterMode==2?null:a.document.createElement(b._.enterMode==1?"p":"div");f&&e.copyAttributes(f),t(e,f)}else z(b,e,1);a.moveToBookmark(c)}function t(a,b){var c=!b;c&&(b=a.getDocument().createElement("div"),a.copyAttributes(b));var d=b&&b.is("pre"),e=a.is("pre"),f=d&&!e,g=!d&&e;f?b=y(a,b):g?b=x(c?[a.getHtml()]:v(a),b):a.moveChildren(b),b.replace(a),d?u(b):c&&C(b)}function u(a){var b;if(!((b=a.getPrevious(l))&&b.is&&b.is("pre")))return;var d=w(b.getHtml(),/\n$/,"")+"\n\n"+w(a.getHtml(),/^\n/,"");c?a.$.outerHTML="<pre>"+d+"</pre>":a.setHtml(d),b.remove()}function v(a){var b=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,c=a.getName(),d=w(a.getOuterHtml(),b,function(a,b,c){return b+"</pre>"+c+"<pre>"}),e=[];return d.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(a,b){e.push(b)}),e}function w(a,b,c){var d="",e="";return a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(a,b,c){return b&&(d=b),c&&(e=c),""}),d+a.replace(b,c)+e}function x(a,b){var c;a.length>1&&(c=new d.documentFragment(b.getDocument()));for(var f=0;f<a.length;f++){var g=a[f];g=g.replace(/(\r\n|\r)/g,"\n"),g=w(g,/^[ \t]*\n/,""),g=w(g,/\n$/,""),g=w(g,/^[ \t]+|[ \t]+$/g,function(a,b,c){return a.length==1?"&nbsp;":b?" "+e.repeat("&nbsp;",a.length-1):e.repeat("&nbsp;",a.length-1)+" "}),g=g.replace(/\n/g,"<br>"),g=g.replace(/[ \t]{2,}/g,function(a){return e.repeat("&nbsp;",a.length-1)+" "});if(c){var h=b.clone();h.setHtml(g),c.append(h)}else b.setHtml(g)}return c||b}function y(a,b){var d=a.getBogus();d&&d.remove();var e=a.getHtml();e=w(e,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,""),e=e.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1"),e=e.replace(/([ \t\n\r]+|&nbsp;)/g," "),e=e.replace(/<br\b[^>]*>/gi,"\n");if(c){var f=a.getDocument().createElement("div");f.append(b),b.$.outerHTML="<pre>"+e+"</pre>",b.copyAttributes(f.getFirst()),b=f.getFirst().remove()}else b.setHtml(e);return b}function z(a,b){var c=a._.definition,d=e.extend({},c.attributes,H(a)[b.getName()]),g=c.styles,h=e.isEmpty(d)&&e.isEmpty(g);for(var i in d){if(!(i!="class"&&!a._.definition.fullMatch||b.getAttribute(i)==I(i,d[i])))continue;h=b.hasAttribute(i),b.removeAttribute(i)}for(var j in g){if(a._.definition.fullMatch&&b.getStyle(j)!=I(j,g[j],true))continue;h=h||!!b.getStyle(j),b.removeStyle(j)}h&&(!f.$block[b.getName()]||a._.enterMode==2&&!b.hasAttributes()?C(b):b.renameNode(a._.enterMode==1?"p":"div"))}function A(a,b){var c=a._.definition,d=c.attributes,e=c.styles,f=H(a),g=b.getElementsByTag(a.element);for(var h=g.count();--h>=0;)z(a,g.getItem(h));for(var i in f)if(i!=a.element){g=b.getElementsByTag(i);for(h=g.count()-1;h>=0;h--){var j=g.getItem(h);B(j,f[i])}}}function B(a,b){var c=b&&b.attributes;if(c)for(var d=0;d<c.length;d++){var e=c[d][0],f;if(f=a.getAttribute(e)){var g=c[d][1];(g===null||g.test&&g.test(f)||typeof g=="string"&&f==g)&&a.removeAttribute(e)}}C(a)}function C(a){if(!a.hasAttributes())if(f.$block[a.getName()]){var b=a.getPrevious(l),c=a.getNext(l);b&&(b.type==3||!b.isBlockBoundary({br:1}))&&a.append("br",1),c&&(c.type==3||!c.isBlockBoundary({br:1}))&&a.append("br"),a.remove(!0)}else{var d=a.getFirst(),e=a.getLast();a.remove(!0),d&&(d.type==1&&d.mergeSiblings(),e&&!d.equals(e)&&e.type==1&&e.mergeSiblings())}}function D(a,b,c){var d,e=a._.definition,f=a.element;return f=="*"&&(f="span"),d=new h(f,b),c&&c.copyAttributes(d),d=E(d,a),b.getCustomData("doc_processing_style")&&d.hasAttribute("id")?d.removeAttribute("id"):b.setCustomData("doc_processing_style",1),d}function E(b,c){var d=c._.definition,e=d.attributes,f=a.style.getStyleText(d);if(e)for(var g in e)b.setAttribute(g,e[g]);return f&&b.setAttribute("style",f),b}function F(a,b){for(var c in a)a[c]=a[c].replace(j,function(a,c){return b[c]})}function G(b){var c=b._AC;if(c)return c;c={};var d=0,e=b.attributes;if(e)for(var f in e)d++,c[f]=e[f];var g=a.style.getStyleText(b);return g&&(c.style||d++,c.style=g),c._length=d,b._AC=c}function H(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){e.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var f=c[d],g,h,i;typeof f=="string"?g=f.toLowerCase():(g=f.element?f.element.toLowerCase():a.element,i=f.attributes),h=b[g]||(b[g]={});if(i){var j=h.attributes=h.attributes||[];for(var k in i)j.push([k.toLowerCase(),i[k]])}}}return b}function I(a,b,c){var d=new h("span");return d[c?"setStyle":"setAttribute"](a,b),d[c?"getStyle":"getAttribute"](a)}function J(a,b){var c;if(b!==!1){var d=new h("span");d.setAttribute("style",a),c=d.getAttribute("style")||""}else c=a;return c=c.replace(/(font-family:)(.*?)(?=;|$)/,function(a,b,c){var d=c.split(",");for(var f=0;f<d.length;f++)d[f]=e.trim(d[f].replace(/["']/g,""));return b+d.join(",")}),c.replace(/\s*([;:])\s*/,"$1").replace(/([^\s;])$/,"$1;").replace(/,\s+/g,",").replace(/\"/g,"").toLowerCase()}function K(a){var b={};return a.replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,c,d){b[c]=d}),b}function L(a,b){typeof a=="string"&&(a=K(a)),typeof b=="string"&&(b=K(b));for(var c in a)if(!(c in b)||b[c]!=a[c]&&a[c]!="inherit"&&b[c]!="inherit")return!1;return!0}function M(a,b){var c=a.getSelection(),d=c.createBookmarks(1),e=c.getRanges(),f=b?this.removeFromRange:this.applyToRange,g,h=e.createIterator();while(g=h.getNextRange())f.call(this,g);d.length==1&&d[0].collapsed?(c.selectRanges(e),a.getById(d[0].startNode).remove()):c.selectBookmarks(d),a.removeCustomData("doc_processing_style")}var b={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},g={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},i=/\s*(?:;\s*|$)/,j=/#\((.+?)\)/g,k=d.walker.bookmark(0,1),l=d.walker.whitespaces(1);a.style=function(a,c){var d=this;c&&(a=e.clone(a),F(a.attributes,c),F(a.styles,c));var f=d.element=a.element?typeof a.element=="string"?a.element.toLowerCase():a.element:"*";d.type=b[f]?1:g[f]?3:2,typeof d.element=="object"&&(d.type=3),d._={definition:a}},a.style.prototype={apply:function(a){M.call(this,a,!1)},remove:function(a){M.call(this,a,!0)},applyToRange:function(a){var b=this;return(b.applyToRange=b.type==2?n:b.type==1?r:b.type==3?p:null).call(b,a)},removeFromRange:function(a){var b=this;return(b.removeFromRange=b.type==2?o:b.type==1?s:b.type==3?q:null).call(b,a)},applyToObject:function(a){E(a,this)},checkActive:function(a){var b=this;switch(b.type){case 1:return b.checkElementRemovable(a.block||a.blockLimit,!0);case 3:case 2:var c=a.elements;for(var d=0,e;d<c.length;d++){e=c[d];if(b.type==2&&(e==a.block||e==a.blockLimit))continue;if(b.type==3){var f=e.getName();if(!(typeof b.element=="string"?f==b.element:f in b.element))continue}if(b.checkElementRemovable(e,!0))return!0}}return!1},checkApplicable:function(a){switch(this.type){case 2:case 1:break;case 3:return a.lastElement.getAscendant(this.element,!0)}return!0},checkElementRemovable:function(a,b){var c=this,d=c._.definition;if(!a||!d.ignoreReadonly&&a.isReadOnly())return!1;var e,f=a.getName();if(typeof c.element=="string"?f==c.element:f in c.element){if(!b&&!a.hasAttributes())return!0;e=G(d);if(!e._length)return!0;for(var g in e){if(g=="_length")continue;var h=a.getAttribute(g)||"";if(g=="style"?L(e[g],J(h,!1)):e[g]==h){if(!b)return!0}else if(b)return!1}if(b)return!0}var i=H(c)[a.getName()];if(i){if(!(e=i.attributes))return!0;for(var j=0;j<e.length;j++){g=e[j][0];var k=a.getAttribute(g);if(k){var l=e[j][1];if(l===null||typeof l=="string"&&k==l||l.test(k))return!0}}}return!1},buildPreview:function(b){var c=this._.definition,d=[],e=c.element;e=="bdo"&&(e="span"),d=["<",e];var f=c.attributes;if(f)for(var g in f)d.push(" ",g,'="',f[g],'"');var h=a.style.getStyleText(c);return h&&d.push(' style="',h,'"'),d.push(">",b||c.name,"</",e,">"),d.join("")}},a.style.getStyleText=function(a){var b=a._ST;if(b)return b;b=a.styles;var c=a.attributes&&a.attributes.style||"",d="";c.length&&(c=c.replace(i,";"));for(var e in b){var f=b[e],g=(e+":"+f).replace(i,";");f=="inherit"?d+=g:c+=g}return c.length&&(c=J(c)),c+=d,a._ST=c}}(),a.styleCommand=function(a){this.style=a},a.styleCommand.prototype.exec=function(a){var b=this;a.focus();var c=a.document;return c&&(b.state==2?b.style.apply(c):b.state==1&&b.style.remove(c)),!!c},a.stylesSet=new a.resourceManager("","stylesSet"),a.addStylesSet=e.bind(a.stylesSet.add,a.stylesSet),a.loadStylesSet=function(b,c,d){a.stylesSet.addExternal(b,c,""),a.stylesSet.load(b,d)},a.editor.prototype.getStylesSet=function(b){if(!this._.stylesDefinitions){var c=this,d=c.config.stylesCombo_stylesSet||c.config.stylesSet||"default";if(d instanceof Array){c._.stylesDefinitions=d,b(d);return}var e=d.split(":"),f=e[0],g=e[1],h=j.registered.styles.path;a.stylesSet.addExternal(f,g?e.slice(1).join(":"):h+"styles/"+f+".js",""),a.stylesSet.load(f,function(a){c._.stylesDefinitions=a[f],b(c._.stylesDefinitions)})}else b(this._.stylesDefinitions)},j.add("domiterator"),function(){function a(a){var b=this;if(arguments.length<1)return;b.range=a,b.forceBrBreak=0,b.enlargeBr=1,b.enforceRealBlocks=0,b._||(b._={})}function i(a,b,c){var d=a.getNextSourceNode(b,null,c);while(!f(d))d=d.getNextSourceNode(b,null,c);return d}var b=/^[\r\n\t ]+$/,f=d.walker.bookmark(!1,!0),g=d.walker.whitespaces(!0),h=function(a){return f(a)&&g(a)};a.prototype={getNextParagraph:function(
a){var g=this,j,k,l,m,p,s;if(!g._.lastNode){k=g.range.clone(),k.shrink(1,!0),m=k.endContainer.hasAscendant("pre",!0)||k.startContainer.hasAscendant("pre",!0),k.enlarge(g.forceBrBreak&&!m||!g.enlargeBr?3:2);var t=new d.walker(k),u=d.walker.bookmark(!0,!0);t.evaluator=u,g._.nextNode=t.next(),t=new d.walker(k),t.evaluator=u;var v=t.previous();g._.lastNode=v.getNextSourceNode(!0);if(g._.lastNode&&g._.lastNode.type==3&&!e.trim(g._.lastNode.getText())&&g._.lastNode.getParent().isBlockBoundary()){var w=new d.range(k.document);w.moveToPosition(g._.lastNode,4);if(w.checkEndOfBlock()){var x=new d.elementPath(w.endContainer),y=x.block||x.blockLimit;g._.lastNode=y.getNextSourceNode(!0)}}g._.lastNode||(g._.lastNode=g._.docEndMarker=k.document.createText(""),g._.lastNode.insertAfter(v)),k=null}var z=g._.nextNode;v=g._.lastNode,g._.nextNode=null;while(z){var A=0,B=z.hasAscendant("pre"),C=z.type!=1,D=0;if(!C){var E=z.getName();if(z.isBlockBoundary(g.forceBrBreak&&!B&&{br:1})){if(E=="br")C=1;else if(!k&&!z.getChildCount()&&E!="hr"){j=z,l=z.equals(v);break}k&&(k.setEndAt(z,3),E!="br"&&(g._.nextNode=z)),A=1}else{if(z.getFirst()){k||(k=new d.range(g.range.document),k.setStartAt(z,3)),z=z.getFirst();continue}C=1}}else z.type==3&&b.test(z.getText())&&(C=0);C&&!k&&(k=new d.range(g.range.document),k.setStartAt(z,3)),l=(!A||C)&&z.equals(v);if(k&&!A)while(!z.getNext(h)&&!l){var F=z.getParent();if(F.isBlockBoundary(g.forceBrBreak&&!B&&{br:1})){A=1,C=0,l=l||F.equals(v),k.setEndAt(F,2);break}z=F,C=1,l=z.equals(v),D=1}C&&k.setEndAt(z,4),z=i(z,D,v),l=!z;if(l||A&&k)break}if(!j){if(!k)return g._.docEndMarker&&g._.docEndMarker.remove(),g._.nextNode=null,null;var G=new d.elementPath(k.startContainer),H=G.blockLimit,I={div:1,th:1,td:1};j=G.block;if(!j&&!g.enforceRealBlocks&&I[H.getName()]&&k.checkStartOfBlock()&&k.checkEndOfBlock())j=H;else if(!j||g.enforceRealBlocks&&j.getName()=="li")j=g.range.document.createElement(a||"p"),k.extractContents().appendTo(j),j.trim(),k.insertNode(j),p=s=!0;else if(j.getName()!="li"){if(!k.checkStartOfBlock()||!k.checkEndOfBlock()){j=j.clone(!1),k.extractContents().appendTo(j),j.trim();var J=k.splitBlock();p=!J.wasStartOfBlock,s=!J.wasEndOfBlock,k.insertNode(j)}}else l||(g._.nextNode=j.equals(v)?null:i(k.getBoundaryNodes().endNode,1,v))}if(p){var K=j.getPrevious();K&&K.type==1&&(K.getName()=="br"?K.remove():K.getLast()&&K.getLast().$.nodeName.toLowerCase()=="br"&&K.getLast().remove())}if(s){var L=j.getLast();L&&L.type==1&&L.getName()=="br"&&(c||L.getPrevious(f)||L.getNext(f))&&L.remove()}return g._.nextNode||(g._.nextNode=l||j.equals(v)?null:i(j,1,v)),j}},d.range.prototype.createIterator=function(){return new a(this)}}(),j.add("panelbutton",{requires:["button"],onLoad:function(){function b(a){var b=this,c=b._;if(c.state==0)return;b.createPanel(a);if(c.on){c.panel.hide();return}c.panel.showBlock(b._.id,b.document.getById(b._.id),4)}k.panelButton=e.createClass({base:k.button,$:function(c){var d=this,e=c.panel;delete c.panel,d.base(c),d.document=e&&e.parent&&e.parent.getDocument()||a.document,e.block={attributes:e.attributes},d.hasArrow=!0,d.click=b,d._={panelDefinition:e}},statics:{handler:{create:function(a){return new k.panelButton(a)}}},proto:{createPanel:function(b){var c=this._;if(c.panel)return;var d=this._.panelDefinition||{},e=this._.panelDefinition.block,f=d.parent||a.document.getBody(),g=this._.panel=new k.floatPanel(b,f,d),h=g.addBlock(c.id,e),i=this;g.onShow=function(){i.className&&this.element.getFirst().addClass(i.className+"_panel"),i.setState(1),c.on=1,i.onOpen&&i.onOpen()},g.onHide=function(a){i.className&&this.element.getFirst().removeClass(i.className+"_panel"),i.setState(i.modes&&i.modes[b.mode]?2:0),c.on=0,!a&&i.onClose&&i.onClose()},g.onEscape=function(){g.hide(),i.document.getById(c.id).focus()},this.onBlock&&this.onBlock(g,h),h.onHide=function(){c.on=0,i.setState(2)}}}})},beforeInit:function(a){a.ui.addHandler("panelbutton",k.panelButton.handler)}}),a.UI_PANELBUTTON="panelbutton",j.add("floatpanel",{requires:["panel"]}),function(){function i(a,b,c,d,g){var i=e.genKey(b.getUniqueId(),c.getUniqueId(),a.skinName,a.lang.dir,a.uiColor||"",d.css||"",g||""),j=f[i];return j||(j=f[i]=new k.panel(b,d),j.element=c.append(h.createFromHtml(j.renderHtml(a),b)),j.element.setStyles({display:"none",position:"absolute"})),j}var f={},g=!1;k.floatPanel=e.createClass({$:function(a,b,c,d){c.forceIFrame=1;var e=b.getDocument(),f=i(a,e,b,c,d||0),g=f.element,h=g.getFirst().getFirst();this.element=g,this._={editor:a,panel:f,parentElement:b,definition:c,document:e,iframe:h,children:[],dir:a.lang.dir},a.on("mode",function(){this.hide()},this)},proto:{addBlock:function(a,b){return this._.panel.addBlock(a,b)},addListBlock:function(a,b){return this._.panel.addListBlock(a,b)},getBlock:function(a){return this._.panel.getBlock(a)},showBlock:function(f,i,j,k,l){var m=this._.panel,o=m.showBlock(f);this.allowBlur(!1),g=1,this._.returnFocus=this._.editor.focusManager.hasFocus?this._.editor:new h(a.document.$.activeElement);var p=this.element,q=this._.iframe,r=this._.definition,s=i.getDocumentPosition(p.getDocument()),t=this._.dir=="rtl",u=s.x+(k||0),v=s.y+(l||0);!t||j!=1&&j!=4?!t&&(j==2||j==3)&&(u+=i.$.offsetWidth-1):u+=i.$.offsetWidth;if(j==3||j==4)v+=i.$.offsetHeight-1;this._.panel._.offsetParentId=i.getId(),p.setStyles({top:v+"px",left:0,display:""}),p.setOpacity(0),p.getFirst().removeStyle("width");if(!this._.blurSet){var w=c?q:new d.window(q.$.contentWindow);a.event.useCapture=!0,w.on("blur",function(a){var b=this;if(!b.allowBlur())return;var c=a.data.getTarget();if(c.getName&&c.getName()!="iframe")return;b.visible&&!b._.activeChild&&!g&&(delete b._.returnFocus,b.hide())},this),w.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),a.event.useCapture=!1,this._.blurSet=1}m.onEscape=e.bind(function(a){if(this.onEscape&&this.onEscape(a)===!1)return!1},this),e.setTimeout(function(){t&&(u-=p.$.offsetWidth);var a=e.bind(function(){var a=p.getFirst();if(o.autoSize){var d=o.element.$;if(b.gecko||b.opera)d=d.parentNode;c&&(d=d.document.body);var e=d.scrollWidth;c&&b.quirks&&e>0&&(e+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3),e+=4,a.setStyle("width",e+"px"),o.element.addClass("cke_frameLoaded");var f=o.element.$.scrollHeight;c&&b.quirks&&f>0&&(f+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3),a.setStyle("height",f+"px"),m._.currentBlock.element.setStyle("display","none").removeStyle("display")}else a.removeStyle("height");var g=m.element,i=g.getWindow(),j=i.getScrollPosition(),k=i.getViewPaneSize(),l={height:g.$.offsetHeight,width:g.$.offsetWidth};if(t?u<0:u+l.width>k.width+j.x)u+=l.width*(t?1:-1);v+l.height>k.height+j.y&&(v-=l.height);if(c){var n=new h(p.$.offsetParent),q=n;q.getName()=="html"&&(q=q.getDocument().getBody()),q.getComputedStyle("direction")=="rtl"&&(b.ie8Compat?u-=p.getDocument().getDocumentElement().$.scrollLeft*2:u-=n.$.scrollWidth-n.$.clientWidth)}var r=p.getFirst(),s;(s=r.getCustomData("activePanel"))&&s.onHide&&s.onHide.call(this,1),r.setCustomData("activePanel",this),p.setStyles({top:v+"px",left:u+"px"}),p.setOpacity(1)},this);m.isLoaded?a():m.onLoad=a,e.setTimeout(function(){q.$.contentWindow.focus(),this.allowBlur(!0)},0,this)},b.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this),g=0},hide:function(a){var c=this;if(c.visible&&(!c.onHide||c.onHide.call(c)!==!0)){c.hideChild(),b.gecko&&c._.iframe.getFrameDocument().$.activeElement.blur(),c.element.setStyle("display","none"),c.visible=0,c.element.getFirst().removeCustomData("activePanel");var d=a!==!1&&c._.returnFocus;d&&(b.webkit&&d.type&&d.getWindow().$.focus(),d.focus())}},allowBlur:function(a){var b=this._.panel;return a!=undefined&&(b.allowBlur=a),b.allowBlur},showAsChild:function(a,c,d,f,g,h){if(this._.activeChild==a&&a._.panel._.offsetParentId==d.getId())return;this.hideChild(),a.onHide=e.bind(function(){e.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(c,d,f,g,h),(b.ie7Compat||b.ie8&&b.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=""},100)},hideChild:function(){var a=this._.activeChild;a&&(delete a.onHide,delete a._.returnFocus,delete this._.activeChild,a.hide())}}}),a.on("instanceDestroyed",function(){var b=e.isEmpty(a.instances);for(var c in f){var d=f[c];b?d.destroy():d.element.hide()}b&&(f={})})}(),j.add("menu",{beforeInit:function(b){var c=b.config.menu_groups.split(","),d=b._.menuGroups={},e=b._.menuItems={};for(var f=0;f<c.length;f++)d[c[f]]=f+1;b.addMenuGroup=function(a,b){d[a]=b||100},b.addMenuItem=function(b,c){d[c.group]&&(e[b]=new a.menuItem(this,b,c))},b.addMenuItems=function(a){for(var b in a)this.addMenuItem(b,a[b])},b.getMenuItem=function(a){return e[a]},b.removeMenuItem=function(a){delete e[a]}},requires:["floatpanel"]}),function(){function d(a){a.sort(function(a,b){return a.group<b.group?-1:a.group>b.group?1:a.order<b.order?-1:a.order>b.order?1:0})}a.menu=e.createClass({$:function(a,b){var c=this;b=c._.definition=b||{},c.id=e.getNextId(),c.editor=a,c.items=[],c._.listeners=[],c._.level=b.level||1;var d=e.extend({},b.panel,{css:a.skin.editor.css,level:c._.level-1,block:{}}),f=d.block.attributes=d.attributes||{};!f.role&&(f.role="menu"),c._.panelDefinition=d},_:{onShow:function(){var a=this,b=a.editor.getSelection();c&&b&&b.lock();var d=b&&b.getStartElement(),e=a._.listeners,f=[];a.removeAll();for(var g=0;g<e.length;g++){var h=e[g](d,b);if(h)for(var i in h){var j=a.editor.getMenuItem(i);j&&(!j.command||a.editor.getCommand(j.command).state)&&(j.state=h[i],a.add(j))}}},onClick:function(a){this.hide(!1),a.onClick?a.onClick():a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;if(b){b._.panel.hideChild();var c=b._.panel._.panel._.currentBlock,d=c._.focusIndex;c._.markItem(d)}else a==27&&this.hide();return!1},onHide:function(){if(c){var a=this.editor.getSelection();a&&a.unlock()}this.onHide&&this.onHide()},showSubMenu:function(b){var c=this,d=c._.subMenu,f=c.items[b],g=f.getItems&&f.getItems();if(!g){c._.panel.hideChild();return}var h=c._.panel.getBlock(c.id);h._.focusIndex=b,d?d.removeAll():(d=c._.subMenu=new a.menu(c.editor,e.extend({},c._.definition,{level:c._.level+1},!0)),d.parent=c,d._.onClick=e.bind(c._.onClick,c));for(var i in g){var j=c.editor.getMenuItem(i);j&&(j.state=g[i],d.add(j))}var k=c._.panel.getBlock(c.id).element.getDocument().getById(c.id+String(b));d.show(k,2)}},proto:{add:function(a){a.order||(a.order=this.items.length),this.items.push(a)},removeAll:function(){this.items=[]},show:function(b,f,g,h){if(!this.parent){this._.onShow();if(!this.items.length)return}f=f||(this.editor.lang.dir=="rtl"?2:1);var i=this.items,j=this.editor,l=this._.panel,n=this._.element;if(!l){l=this._.panel=new k.floatPanel(this.editor,a.document.getBody(),this._.panelDefinition,this._.level),l.onEscape=e.bind(function(a){if(this._.onEscape(a)===!1)return!1},this),l.onHide=e.bind(function(){this._.onHide&&this._.onHide()},this);var o=l.addBlock(this.id,this._.panelDefinition.block);o.autoSize=!0;var p=o.keys;p[40]="next",p[9]="next",p[38]="prev",p[2228233]="prev",p[j.lang.dir=="rtl"?37:39]=c?"mouseup":"click",p[32]=c?"mouseup":"click",c&&(p[13]="mouseup"),n=this._.element=o.element,n.addClass(j.skinClass);var q=n.getDocument();q.getBody().setStyle("overflow","hidden"),q.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=e.addFunction(function(a){var b=this;clearTimeout(b._.showSubTimeout),b._.showSubTimeout=e.setTimeout(b._.showSubMenu,j.config.menu_subMenuDelay||400,b,[a])},this),this._.itemOutFn=e.addFunction(function(a){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=e.addFunction(function(a){var b=this,c=b.items[a];if(c.state==0){b.hide();return}c.getItems?b._.showSubMenu(a):b._.onClick(c)},this)}d(i);var r=j.container.getChild(1),s=r.hasClass("cke_mixed_dir_content")?" cke_mixed_dir_content":"",t=['<div class="cke_menu'+s+'" role="presentation">'],u=i.length,v=u&&i[0].group;for(var w=0;w<u;w++){var x=i[w];v!=x.group&&(t.push('<div class="cke_menuseparator" role="separator"></div>'),v=x.group),x.render(this,w,t)}t.push("</div>"),n.setHtml(t.join("")),k.fire("ready",this),this.parent?this.parent._.panel.showAsChild(l,this.id,b,f,g,h):l.showBlock(this.id,b,f,g,h),j.fire("menuShow",[l])},addListener:function(a){this._.listeners.push(a)},hide:function(a){var b=this;b._.onHide&&b._.onHide(),b._.panel&&b._.panel.hide(a)}}}),a.menuItem=e.createClass({$:function(a,b,c){var d=this;e.extend(d,c,{order:0,className:"cke_button_"+b}),d.group=a._.menuGroups[d.group],d.editor=a,d.name=b},proto:{render:function(d,e,f){var g=this,h=d.id+String(e),i=typeof g.state=="undefined"?2:g.state,j=" cke_"+(i==1?"on":i==0?"disabled":"off"),k=g.label;g.className&&(j+=" "+g.className);var l=g.getItems;f.push('<span class="cke_menuitem'+(g.icon&&g.icon.indexOf(".png")==-1?" cke_noalphafix":"")+'">'+'<a id="',h,'" class="',j,'" href="javascript:void(\'',(g.label||"").replace("'",""),'\')" title="',g.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(l?'aria-haspopup="true"':"")+(i==0?'aria-disabled="true"':"")+(i==1?'aria-pressed="true"':"")),(b.opera||b.gecko&&b.mac)&&f.push(' onkeypress="return false;"'),b.gecko&&f.push(' onblur="this.style.cssText = this.style.cssText;"');var m=(g.iconOffset||0)*-16;f.push(' onmouseover="CKEDITOR.tools.callFunction(',d._.itemOverFn,",",e,');" onmouseout="CKEDITOR.tools.callFunction(',d._.itemOutFn,",",e,');" '+(c?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction(',d._.itemClickFn,",",e,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(g.icon?' style="background-image:url('+a.getUrl(g.icon)+");background-position:0 "+m+'px;"':"")+"></span></span>"+'<span class="cke_label">'),l&&f.push('<span class="cke_menuarrow">',"<span>&#",g.editor.lang.dir=="rtl"?"9668":"9658",";</span>","</span>"),f.push(k,"</span></a></span>")}}})}(),i.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",function(){var c;j.add("editingblock",{init:function(d){if(!d.config.editingBlock)return;d.on("themeSpace",function(a){a.data.space=="contents"&&(a.data.html+="<br>")}),d.on("themeLoaded",function(){d.fireOnce("editingBlockReady")}),d.on("uiReady",function(){d.setMode(d.config.startupMode)}),d.on("afterSetData",function(){if(!c){function a(){c=!0,d.getMode().loadData(d.getData()),c=!1}d.mode?a():d.on("mode",function(){d.mode&&(a(),d.removeListener("mode",arguments.callee))})}}),d.on("beforeGetData",function(){!c&&d.mode&&(c=!0,d.setData(d.getMode().getData(),null,1),c=!1)}),d.on("getSnapshot",function(a){d.mode&&(a.data=d.getMode().getSnapshotData())}),d.on("loadSnapshot",function(a){d.mode&&d.getMode().loadSnapshotData(a.data)}),d.on("mode",function(c){c.removeListener(),b.webkit&&d.container.on("focus",function(){d.focus()}),d.config.startupFocus&&d.focus(),setTimeout(function(){d.fireOnce("instanceReady"),a.fire("instanceReady",null,d)},0)}),d.on("destroy",function(){var a=this;a.mode&&a._.modes[a.mode].unload(a.getThemeSpace("contents"))})}}),a.editor.prototype.mode="",a.editor.prototype.addMode=function(a,b){b.name=a,(this._.modes||(this._.modes={}))[a]=b},a.editor.prototype.setMode=function(a){this.fire("beforeSetMode",{newMode:a});var b,c=this.getThemeSpace("contents"),d=this.checkDirty();if(this.mode){if(a==this.mode)return;this._.previousMode=this.mode,this.fire("beforeModeUnload");var e=this.getMode();b=e.getData(),e.unload(c),this.mode=""}c.setHtml("");var f=this.getMode(a);if(!f)throw'[CKEDITOR.editor.setMode] Unknown mode "'+a+'".';d||this.on("mode",function(){this.resetDirty(),this.removeListener("mode",arguments.callee)}),f.load(c,typeof b!="string"?this.getData():b)},a.editor.prototype.getMode=function(a){return this._.modes&&this._.modes[a||this.mode]},a.editor.prototype.focus=function(){this.forceNextSelectionCheck();var a=this.getMode();a&&a.focus()}}(),i.startupMode="wysiwyg",i.editingBlock=!0,function(){function i(){var a=this;try{var b=a.getSelection();if(!b||!b.document.getWindow().$)return;var c=b.getStartElement(),e=new d.elementPath(c);e.compare(a._.selectionPreviousPath)||(a._.selectionPreviousPath=e,a.fire("selectionChange",{selection:b,path:e,element:c}))}catch(f){}}function m(){l=!0;if(k)return;n.call(this),k=e.setTimeout(n,200,this)}function n(){k=null,l&&(e.setTimeout(i,0,this),l=!1)}function o(a){function b(a){return a&&a.type==1&&a.getName()in f.$removeEmpty}function c(b){var c=a.document.getBody();return!b.is("body")&&c.getChildCount()==1}var d=a.startContainer,g=a.startOffset;return d.type==3?!1:e.trim(d.getHtml())?b(d.getChild(g-1))||b(d.getChild(g)):b(d)||c(d)}function q(a){t(a);var b=a.createText("​");return a.setCustomData("cke-fillingChar",b),b}function r(a){return a&&a.getCustomData("cke-fillingChar")}function s(a){var b=a&&r(a);b&&(b.getCustomData("ready")?t(a):b.setCustomData("ready",1))}function t(a){var b=a&&a.removeCustomData("cke-fillingChar");b&&(b.setText(b.getText().replace(/\u200B/g,"")),b=0)}var k,l,p={modes:{wysiwyg:1,source:1},readOnly:c||b.webkit,exec:function(a){switch(a.mode){case"wysiwyg":a.document.$.execCommand("SelectAll",!1,null),a.forceNextSelectionCheck(),a.selectionChange();break;case"source":var b=a.textarea.$;c?b.createTextRange().execCommand("SelectAll"):(b.selectionStart=0,b.selectionEnd=b.value.length),b.focus()}},canUndo:!1};j.add("selection",{init:function(a){if(b.webkit){a.on("selectionChange",function(){s(a.document)}),a.on("beforeSetMode",function(){t(a.document)}),a.on("key",function(b){switch(b.data.keyCode){case 13:case 2228237:case 37:case 39:case 8:t(a.document)}},null,null,10);var d,f;function g(){var b=a.document,c=r(b);if(c){var e=b.$.defaultView.getSelection();e.type=="Caret"&&e.anchorNode==c.$&&(f=1),d=c.getText(),c.setText(d.replace(/\u200B/g,""))}}function h(){var b=a.document,c=r(b);c&&(c.setText(d),f&&(b.$.defaultView.getSelection().setPosition(c.$,c.getLength()),f=0))}a.on("beforeUndoImage",g),a.on("afterUndoImage",h),a.on("beforeGetData",g,null,null,0),a.on("getData",h)}a.on("contentDom",function(){var d=a.document,f=d.getBody(),g=d.getDocumentElement();if(c){var h,i,j=1;f.on("focusin",function(a){if(a.data.$.srcElement.nodeName!="BODY")return;if(h){if(j){try{h.select()}catch(b){}var c=d.getCustomData("cke_locked_selection");c&&(c.unlock(),c.lock())}h=null}}),f.on("focus",function(){i=1,n()}),f.on("beforedeactivate",function(a){if(a.data.$.toElement)return;i=0,j=1}),c&&b.version<8&&a.on("blur",function(b){try{a.document&&a.document.$.selection.empty()}catch(c){}}),g.on("mousedown",function(){j=0}),g.on("mouseup",function(){j=1}),c&&(b.ie7Compat||b.version<8||b.quirks)&&g.on("click",function(b){b.data.getTarget().getName()=="html"&&a.getSelection().getRanges()[0].select()});var k;f.on("mousedown",function(b){if(b.data.$.button==2){var c=a.document.$.selection;c.type=="None"&&(k=a.window.getScrollPosition())}l()}),f.on("mouseup",function(b){b.data.$.button==2&&k&&(a.document.$.documentElement.scrollLeft=k.x,a.document.$.documentElement.scrollTop=k.y),k=null,i=1,setTimeout(function(){n(!0)},0)}),f.on("keydown",l),f.on("keyup",function(){i=1,n()}),d.on("selectionchange",n);function l(){i=0}function n(b){if(i){var c=a.document,d=a.getSelection(),f=d&&d.getNative();if(b&&f&&f.type=="None"&&!c.$.queryCommandEnabled("InsertImage")){e.setTimeout(n,50,this,!0);return}var g;if(f&&f.type&&f.type!="Control"&&(g=f.createRange())&&(g=g.parentElement())&&(g=g.nodeName)&&g.toLowerCase()in{input:1,textarea:1})return;h=f&&d.getRanges()[0],m.call(a)}}}else d.on("mouseup",m,a),d.on("keyup",m,a),d.on("selectionchange",m,a)}),a.on("contentDomUnload",a.forceNextSelectionCheck,a),a.addCommand("selectAll",p),a.ui.addButton("SelectAll",{label:a.lang.selectAll,command:"selectAll"}),a.selectionChange=m,b.ie9Compat&&a.on("destroy",function(){var b=a.getSelection();b&&b.getNative().clear()},null,null,9)}}),a.editor.prototype.getSelection=function(){return this.document&&this.document.getSelection()},a.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},g.prototype.getSelection=function(){var a=new d.selection(this);return!a||a.isInvalid?null:a},a.SELECTION_NONE=1,a.SELECTION_TEXT=2,a.SELECTION_ELEMENT=3,d.selection=function(a){var b=this,d=a.getCustomData("cke_locked_selection");if(d)return d;b.document=a,b.isLocked=0,b._={cache:{}};if(c){var e=b.getNative().createRange();if(!e||e.item&&e.item(0).ownerDocument!=b.document.$||e.parentElement&&e.parentElement().ownerDocument!=b.document.$)b.isInvalid=!0}return b};var u={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};d.selection.prototype={getNative:c?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection)}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection())},getType:c?function(){var a=this._.cache;if(a.type)return a.type;var b=1;try{var c=this.getNative(),d=c.type;d=="Text"&&(b=2),d=="Control"&&(b=3),c.createRange().parentElement&&(b=2)}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=2,c=this.getNative();if(!c)b=1;else if(c.rangeCount==1){var d=c.getRangeAt(0),e=d.startContainer;e==d.endContainer&&e.nodeType==1&&d.endOffset-d.startOffset==1&&u[e.childNodes[d.startOffset].nodeName.toLowerCase()]&&(b=3)}return a.type=b},getRanges:function(){var a=c?function(){function a(a){return(new d.node(a)).getIndex()}var c=function(c,d){c=c.duplicate(),c.collapse(d);var e=c.parentElement(),f=e.ownerDocument;if(!e.hasChildNodes())return{container:e,offset:0};var g=e.children,h,i,j=c.duplicate(),k=0,l=g.length-1,m=-1,n,o;while(k<=l){m=Math.floor((k+l)/2),h=g[m],j.moveToElementText(h),n=j.compareEndPoints("StartToStart",c);if(n>0)l=m-1;else{if(!(n<0)){if(b.ie9Compat&&h.tagName=="BR"){var p="cke_range_marker";c.execCommand("CreateBookmark",!1,p),h=f.getElementsByName(p)[0];var q=a(h);return e.removeChild(h),{container:e,offset:q}}return{container:e,offset:a(h)}}k=m+1}}if(m==-1||m==g.length-1&&n<0){j.moveToElementText(e),j.setEndPoint("StartToStart",c),o=j.text.replace(/(\r\n|\r)/g,"\n").length,g=e.childNodes;if(!o)return h=g[g.length-1],h.nodeType==1?{container:e,offset:g.length}:{container:h,offset:h.nodeValue.length};var r=g.length;while(o>0)o-=g[--r].nodeValue.length;return{container:g[r],offset:-o}}j.collapse(n>0?!0:!1),j.setEndPoint(n>0?"StartToStart":"EndToStart",c),o=j.text.replace(/(\r\n|\r)/g,"\n").length;if(!o)return{container:e,offset:a(h)+(n>0?0:1)};while(o>0)try{i=h[n>0?"previousSibling":"nextSibling"],o-=i.nodeValue.length,h=i}catch(s){return{container:e,offset:a(h)}}return{container:h,offset:n>0?-o:h.nodeValue.length+o}};return function(){var a=this,b=a.getNative(),e=b&&b.createRange(),f=a.getType(),g;if(!b)return[];if(f==2){g=new d.range(a.document);var h=c(e,!0);return g.setStart(new d.node(h.container),h.offset),h=c(e),g.setEnd(new d.node(h.container),h.offset),g.endContainer.getPosition(g.startContainer)&4&&g.endOffset<=g.startContainer.getIndex()&&g.collapse(),[g]}if(f==3){var i=[];for(var j=0;j<e.length;j++){var k=e.item(j),l=k.parentNode,m=0;g=new d.range(a.document);for(;m<l.childNodes.length&&l.childNodes[m]!=k;m++);g.setStart(new d.node(l),m),g.setEnd(new d.node(l),m+1),i.push(g)}return i}return[]}}():function(){var a=[],b,c=this.document,e=this.getNative();if(!e)return a;e.rangeCount||(b=new d.range(c),b.moveToElementEditStart(c.getBody()),a.push(b));for(var f=0;f<e.rangeCount;f++){var g=e.getRangeAt(f);b=new d.range(c),b.setStart(new d.node(g.startContainer),g.startOffset),b.setEnd(new d.node(g.endContainer),g.endOffset),a.push(b)}return a};return function(b){var c=this._.cache;if(c.ranges&&!b)return c.ranges;c.ranges||(c.ranges=new d.rangeList(a.call(this)));if(b){var e=c.ranges;for(var f=0;f<e.length;f++){var g=e[f],h=g.getCommonAncestor();h.isReadOnly()&&e.splice(f,1);if(g.collapsed)continue;if(g.startContainer.isReadOnly()){var i=g.startContainer;while(i){if(i.is("body")||!i.isReadOnly())break;i.type==1&&i.getAttribute("contentEditable")=="false"&&g.setStartAfter(i),i=i.getParent()}}var j=g.startContainer,k=g.endContainer,l=g.startOffset,m=g.endOffset,n=g.clone();j&&j.type==3&&(l>=j.getLength()?n.setStartAfter(j):n.setStartBefore(j)),k&&k.type==3&&(m?n.setEndAfter(k):n.setEndBefore(k));var o=new d.walker(n);o.evaluator=function(a){if(a.type==1&&a.isReadOnly()){var b=g.clone();return g.setEndBefore(a),g.collapsed&&e.splice(f--,1),a.getPosition(n.endContainer)&16||(b.setStartAfter(a),b.collapsed||e.splice(f+1,0,b)),!0}return!1},o.next()}}return c.ranges}}(),getStartElement:function(){var a=this,b=a._.cache;if(b.startElement!==undefined)return b.startElement;var c,d=a.getNative();switch(a.getType()){case 3:return a.getSelectedElement();case 2:var e=a.getRanges()[0];if(e){if(!e.collapsed){e.optimize();for(;;){var f=e.startContainer,g=e.startOffset;if(g!=(f.getChildCount?f.getChildCount():f.getLength())||!!f.isBlockBoundary())break;e.setStartAfter(f)}c=e.startContainer;if(c.type!=1)return c.getParent();c=c.getChild(e.startOffset);if(!c||c.type!=1)c=e.startContainer;else{var i=c.getFirst();while(i&&i.type==1)c=i,i=i.getFirst()}}else c=e.startContainer,c.type!=1&&(c=c.getParent());c=c.$}}return b.startElement=c?new h(c):null},getSelectedElement:function(){var a=this._.cache;if(a.selectedElement!==undefined)return a.selectedElement;var b=this,c=e.tryThese(function(){return b.getNative().createRange().item(0)},function(){var a,c,g=b.getRanges()[0],h=g.getCommonAncestor(1,1),i={table:1,ul:1,ol:1,dl:1};for(var j in i)if(a=h.getAscendant(j,1))break;if(a){var k=new d.range(this.document);k.setStartAt(a,1),k.setEnd(g.startContainer,g.startOffset);var l=e.extend(i,f.$listItem,f.$tableContent),m=new d.walker(k),n=function(a,b){return function(c,d){if(c.type==3&&(!e.trim(c.getText())||c.getParent().data("cke-bookmark")))return!0;var g;if(c.type==1){g=c.getName();if(g=="br"&&b&&c.equals(c.getParent().getBogus()))return!0;if(d&&g in l||g in f.$removeEmpty)return!0}return a.halted=1,!1}};m.guard=n(m),m.checkBackward()&&!m.halted&&(m=new d.walker(k),k.setStart(g.endContainer,g.endOffset),k.setEndAt(a,2),m.guard=n(m,1),m.checkForward()&&!m.halted&&(c=a.$))}if(!c)throw 0;return c},function(){var a=b.getRanges()[0],c,d;for(var e=2;e&&!((c=a.getEnclosedNode())&&c.type==1&&u[c.getName()]&&(d=c));e--)a.shrink(1);return d.$});return a.selectedElement=c?new h(c):null},getSelectedText:function(){var a=this._.cache;if(a.selectedText!==undefined)return a.selectedText;var b="",d=this.getNative();return this.getType()==2&&(b=c?d.createRange().text:d.toString()),a.selectedText=b},lock:function(){var a=this;a.getRanges(),a.getStartElement(),a.getSelectedElement(),a.getSelectedText(),a._.cache.nativeSel={},a.isLocked=1,a.document.setCustomData("cke_locked_selection",a)},unlock:function(a){var b=this,c=b.document,d=c.getCustomData("cke_locked_selection");if(d){c.setCustomData("cke_locked_selection",null);if(a){var e=d.getSelectedElement(),f=!e&&d.getRanges();b.isLocked=0,b.reset(),c.getBody().focus(),e?b.selectElement(e):b.selectRanges(f)}}if(!d||!a)b.isLocked=0,b.reset()},reset:function(){this._.cache={}},selectElement:function(a){var b=this;if(b.isLocked){var c=new d.range(b.document);c.setStartBefore(a),c.setEndAfter(a),b._.cache.selectedElement=a,b._.cache.startElement=a,b._.cache.ranges=new d.rangeList(c),b._.cache.type=3;return}c=new d.range(a.getDocument()),c.setStartBefore(a),c.setEndAfter(a),c.select(),b.document.fire("selectionchange"),b.reset()},selectRanges:function(a){var e=this;if(e.isLocked){e._.cache.selectedElement=null,e._.cache.startElement=a[0]&&a[0].getTouchedStartNode(),e._.cache.ranges=new d.rangeList(a),e._.cache.type=2;return}if(c){if(a.length>1){var f=a[a.length-1];a[0].setEnd(f.endContainer,f.endOffset),a.length=1}a[0]&&a[0].select(),e.reset()}else{var g=e.getNative();if(!g)return;a.length&&(g.removeAllRanges(),b.webkit&&t(e.document));for(var h=0;h<a.length;h++){if(h<a.length-1){var i=a[h],j=a[h+1],k=i.clone();k.setStart(i.endContainer,i.endOffset),k.setEnd(j.startContainer,j.startOffset);if(!k.collapsed){k.shrink(1,!0);var l=k.getCommonAncestor(),m=k.getEnclosedNode();if(l.isReadOnly()||m&&m.isReadOnly()){j.setStart(i.startContainer,i.startOffset),a.splice(h--,1);continue}}}var n=a[h],p=e.document.$.createRange(),r=n.startContainer;n.collapsed&&(b.opera||b.gecko&&b.version<10900)&&r.type==1&&!r.getChildCount()&&r.appendText("");if(n.collapsed&&b.webkit&&o(n)){var s=q(e.document);n.insertNode(s);var u=s.getNext();u&&!s.getPrevious()&&u.type==1&&u.getName()=="br"?(t(e.document),n.moveToPosition(u,3)):n.moveToPosition(s,4)}p.setStart(n.startContainer.$,n.startOffset);try{p.setEnd(n.endContainer.$,n.endOffset)}catch(v){if(!(v.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")>=0))throw v;n.collapse(1),p.setEnd(n.endContainer.$,n.endOffset)}g.addRange(p)}e.document.fire("selectionchange"),e.reset()}},createBookmarks:function(a){return this.getRanges().createBookmarks(a)},createBookmarks2:function(a){return this.getRanges().createBookmarks2(a)},selectBookmarks:function(a){var b=[];for(var c=0;c<a.length;c++){var e=new d.range(this.document);e.moveToBookmark(a[c]),b.push(e)}return this.selectRanges(b),this},getCommonAncestor:function(){var a=this.getRanges(),b=a[0].startContainer,c=a[a.length-1].endContainer;return b.getCommonAncestor(c)},scrollIntoView:function(){var a=this.getStartElement();a.scrollIntoView()}}}(),function(){var a=d.walker.whitespaces(!0),b=/\ufeff|\u00a0/,e={table:1,tbody:1,tr:1};d.range.prototype.select=c?function(c){var d=this,f=d.collapsed,g,h,i,j=d.getEnclosedNode();if(j)try{i=d.document.$.body.createControlRange(),i.addElement(j.$),i.select();return}catch(k){}(d.startContainer.type==1&&d.startContainer.getName()in e||d.endContainer.type==1&&d.endContainer.getName()in e)&&d.shrink(1,!0);var l=d.createBookmark(),p=l.startNode,q;f||(q=l.endNode),i=d.document.$.body.createTextRange(),i.moveToElementText(p.$),i.moveStart("character",1);if(q){var r=d.document.$.body.createTextRange();r.moveToElementText(q.$),i.setEndPoint("EndToEnd",r),i.moveEnd("character",-1)}else{var s=p.getNext(a);g=!(s&&s.getText&&s.getText().match(b))&&(c||!p.hasPrevious()||p.getPrevious().is&&p.getPrevious().is("br")),h=d.document.createElement("span"),h.setHtml("&#65279;"),h.insertBefore(p),g&&d.document.createText("﻿").insertBefore(p)}d.setStartBefore(p),p.remove(),f?(g?(i.moveStart("character",-1),i.select(),d.document.$.selection.clear()):i.select(),d.moveToPosition(h,3),h.remove()):(d.setEndBefore(q),q.remove(),i.select()),d.document.fire("selectionchange")}:function(){this.document.getSelection().selectRanges([this])}}(),function(){function f(a,b){var c=d.exec(a),e=d.exec(b);if(c){if(!c[2]&&e[2]=="px")return e[1];if(c[2]=="px"&&!e[2])return e[1]+"px"}return b}var b=a.htmlParser.cssStyle,c=e.cssLength,d=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,g={elements:{$:function(c){var d=c.attributes,e=d&&d["data-cke-realelement"],g=e&&new a.htmlParser.fragment.fromHtml(decodeURIComponent(e)),h=g&&g.children[0];if(h&&c.attributes["data-cke-resizable"]){var i=(new b(c)).rules,j=h.attributes,k=i.width,l=i.height;k&&(j.width=f(j.width,k)),l&&(j.height=f(j.height,l))}return h}}};j.add("fakeobjects",{requires:["htmlwriter"],afterInit:function(a){var b=a.dataProcessor,c=b&&b.htmlFilter;c&&c.addRules(g)}}),a.editor.prototype.createFakeElement=function(d,e,f,g){var h=this.lang.fakeobjects,i=h[f]||h.unknown,j={"class":e,src:a.getUrl("images/spacer.gif"),"data-cke-realelement":encodeURIComponent(d.getOuterHtml()),"data-cke-real-node-type":d.type,alt:i,title:i,align:d.getAttribute("align")||""};f&&(j["data-cke-real-element-type"]=f);if(g){j["data-cke-resizable"]=g;var k=new b,l=d.getAttribute("width"),o=d.getAttribute("height");l&&(k.rules.width=c(l)),o&&(k.rules.height=c(o)),k.populate(j)}return this.document.createElement("img",{attributes:j})},a.editor.prototype.createFakeParserElement=function(d,e,f,g){var h=this.lang.fakeobjects,i=h[f]||h.unknown,j,k=new a.htmlParser.basicWriter;d.writeHtml(k),j=k.getHtml();var l={"class":e,src:a.getUrl("images/spacer.gif"),"data-cke-realelement":encodeURIComponent(j),"data-cke-real-node-type":d.type,alt:i,title:i,align:d.attributes.align||""};f&&(l["data-cke-real-element-type"]=f);if(g){l["data-cke-resizable"]=g;var o=d.attributes,p=new b,q=o.width,r=o.height;q!=undefined&&(p.rules.width=c(q)),r!=undefined&&(p.rules.height=c(r)),p.populate(l)}return new a.htmlParser.element("img",l)},a.editor.prototype.restoreRealElement=function(a){if(a.data("cke-real-node-type")!=1)return null;var b=h.createFromHtml
(decodeURIComponent(a.data("cke-realelement")),this.document);if(a.data("cke-resizable")){var c=a.getStyle("width"),d=a.getStyle("height");c&&b.setAttribute("width",f(b.getAttribute("width"),c)),d&&b.setAttribute("height",f(b.getAttribute("height"),d))}return b}}(),j.add("richcombo",{requires:["floatpanel","listblock","button"],beforeInit:function(a){a.ui.addHandler("richcombo",k.richCombo.handler)}}),a.UI_RICHCOMBO="richcombo",k.richCombo=e.createClass({$:function(b){var c=this;e.extend(c,b,{title:b.label,modes:{wysiwyg:1}});var d=c.panel||{};delete c.panel,c.id=e.getNextNumber(),c.document=d&&d.parent&&d.parent.getDocument()||a.document,d.className=(d.className||"")+" cke_rcombopanel",d.block={multiSelect:d.multiSelect,attributes:d.attributes},c._={panelDefinition:d,items:{},state:2}},statics:{handler:{create:function(a){return new k.richCombo(a)}}},proto:{renderHtml:function(a){var b=[];return this.render(a,b),b.join("")},render:function(f,g){function m(){var a=this,b=a.modes[f.mode]?2:0;a.setState(f.readOnly&&!a.readOnly?0:b),a.setValue("")}var i=b,j="cke_"+this.id,k=e.addFunction(function(a){var b=this,c=b._;if(c.state==0)return;b.createPanel(f);if(c.on){c.panel.hide();return}b.commit();var d=b.getValue();d?c.list.mark(d):c.list.unmarkAll(),c.panel.showBlock(b.id,new h(a),4)},this),l={id:j,combo:this,focus:function(){var b=a.document.getById(j).getChild(1);b.focus()},clickFn:k};f.on("mode",m,this),!this.readOnly&&f.on("readOnly",m,this);var n=e.addFunction(function(a,b){a=new d.event(a);var c=a.getKeystroke();switch(c){case 13:case 32:case 40:e.callFunction(k,b);break;default:l.onkey(l,c)}a.preventDefault()}),o=e.addFunction(function(){l.onfocus&&l.onfocus()});return l.keyDownFn=n,g.push('<span class="cke_rcombo" role="presentation">',"<span id=",j),this.className&&g.push(' class="',this.className,' cke_off"'),g.push(' role="presentation">','<span id="'+j+'_label" class=cke_label>',this.label,"</span>",'<a hidefocus=true title="',this.title,'" tabindex="-1"',i.gecko&&i.version>=10900&&!i.hc?"":" href=\"javascript:void('"+this.label+"')\"",' role="button" aria-labelledby="',j,'_label" aria-describedby="',j,'_text" aria-haspopup="true"'),(b.opera||b.gecko&&b.mac)&&g.push(' onkeypress="return false;"'),b.gecko&&g.push(' onblur="this.style.cssText = this.style.cssText;"'),g.push(' onkeydown="CKEDITOR.tools.callFunction( ',n,', event, this );" onfocus="return CKEDITOR.tools.callFunction(',o,', event);" '+(c?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction(',k,', this); return false;"><span><span id="'+j+'_text" class="cke_text cke_inline_label">'+this.label+"</span>"+"</span>"+"<span class=cke_openbutton><span class=cke_icon>"+(b.hc?"&#9660;":b.air?"&nbsp;":"")+"</span></span>"+"</a>"+"</span>"+"</span>"),this.onRender&&this.onRender(),l},createPanel:function(b){if(this._.panel)return;var c=this._.panelDefinition,d=this._.panelDefinition.block,e=c.parent||a.document.getBody(),f=new k.floatPanel(b,e,c),g=f.addListBlock(this.id,d),h=this;f.onShow=function(){h.className&&this.element.getFirst().addClass(h.className+"_panel"),h.setState(1),g.focus(!h.multiSelect&&h.getValue()),h._.on=1,h.onOpen&&h.onOpen()},f.onHide=function(a){h.className&&this.element.getFirst().removeClass(h.className+"_panel"),h.setState(h.modes&&h.modes[b.mode]?2:0),h._.on=0,!a&&h.onClose&&h.onClose()},f.onEscape=function(){f.hide()},g.onClick=function(a,b){h.document.getWindow().focus(),h.onClick&&h.onClick.call(h,a,b),b?h.setValue(a,h._.items[a]):h.setValue(""),f.hide(!1)},this._.panel=f,this._.list=g,f.getBlock(this.id).onHide=function(){h._.on=0,h.setState(2)},this.init&&this.init()},setValue:function(a,b){var c=this;c._.value=a;var d=c.document.getById("cke_"+c.id+"_text");d&&(!a&&!b?(b=c.label,d.addClass("cke_inline_label")):d.removeClass("cke_inline_label"),d.setHtml(typeof b!="undefined"?b:a))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,b,c){this._.items[a]=c||a,this._.list.add(a,b,c)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){var a=this;a._.committed||(a._.list.commit(),a._.committed=1,k.fire("ready",a)),a._.committed=1},setState:function(a){var b=this;if(b._.state==a)return;b.document.getById("cke_"+b.id).setState(a),b._.state=a}}}),k.prototype.addRichCombo=function(a,b){this.add(a,"richcombo",b)},j.add("htmlwriter"),a.htmlWriter=e.createClass({base:a.htmlParser.basicWriter,$:function(){var a=this;a.base(),a.indentationChars="\t",a.selfClosingEnd=" />",a.lineBreakChars="\n",a.forceSimpleAmpersand=0,a.sortAttributes=1,a._.indent=0,a._.indentation="",a._.inPre=0,a._.rules={};var b=f;for(var c in e.extend({},b.$nonBodyContent,b.$block,b.$listItem,b.$tableContent))a.setRules(c,{indent:1,breakBeforeOpen:1,breakAfterOpen:1,breakBeforeClose:!b[c]["#"],breakAfterClose:1});a.setRules("br",{breakAfterOpen:1}),a.setRules("title",{indent:0,breakAfterOpen:0}),a.setRules("style",{indent:0,breakBeforeClose:1}),a.setRules("pre",{indent:0})},proto:{openTag:function(a,b){var c=this,d=c._.rules[a];c._.indent?c.indentation():d&&d.breakBeforeOpen&&(c.lineBreak(),c.indentation()),c._.output.push("<",a)},openTagClose:function(a,b){var c=this,d=c._.rules[a];b?c._.output.push(c.selfClosingEnd):(c._.output.push(">"),d&&d.indent&&(c._.indentation+=c.indentationChars)),d&&d.breakAfterOpen&&c.lineBreak(),a=="pre"&&(c._.inPre=1)},attribute:function(a,b){typeof b=="string"&&(this.forceSimpleAmpersand&&(b=b.replace(/&amp;/g,"&")),b=e.htmlEncodeAttr(b)),this._.output.push(" ",a,'="',b,'"')},closeTag:function(a){var b=this,c=b._.rules[a];c&&c.indent&&(b._.indentation=b._.indentation.substr(b.indentationChars.length)),b._.indent?b.indentation():c&&c.breakBeforeClose&&(b.lineBreak(),b.indentation()),b._.output.push("</",a,">"),a=="pre"&&(b._.inPre=0),c&&c.breakAfterClose&&b.lineBreak()},text:function(a){var b=this;b._.indent&&(b.indentation(),!b._.inPre&&(a=e.ltrim(a))),b._.output.push(a)},comment:function(a){this._.indent&&this.indentation(),this._.output.push("<!--",a,"-->")},lineBreak:function(){var a=this;!a._.inPre&&a._.output.length>0&&a._.output.push(a.lineBreakChars),a._.indent=1},indentation:function(){var a=this;a._.inPre||a._.output.push(a._.indentation),a._.indent=0},setRules:function(a,b){var c=this._.rules[a];c?e.extend(c,b,!0):this._.rules[a]=b}}}),j.add("menubutton",{requires:["button","menu"],beforeInit:function(a){a.ui.addHandler("menubutton",k.menuButton.handler)}}),a.UI_MENUBUTTON="menubutton",function(){var b=function(b){var c=this._;if(c.state===0)return;c.previousState=c.state;var d=c.menu;d||(d=c.menu=new a.menu(b,{panel:{className:b.skinClass+" cke_contextmenu",attributes:{"aria-label":b.lang.common.options}}}),d.onHide=e.bind(function(){this.setState(this.modes&&this.modes[b.mode]?c.previousState:0)},this),this.onMenu&&d.addListener(this.onMenu));if(c.on){d.hide();return}this.setState(1),d.show(a.document.getById(this._.id),4)};k.menuButton=e.createClass({base:k.button,$:function(a){var c=a.panel;delete a.panel,this.base(a),this.hasArrow=!0,this.click=b},statics:{handler:{create:function(a){return new k.menuButton(a)}}}})}(),j.add("dialogui"),function(){var f=function(a){var b=this;b._||(b._={}),b._["default"]=b._.initValue=a["default"]||"",b._.required=a.required||!1;var c=[b._];for(var d=1;d<arguments.length;d++)c.push(arguments[d]);return c.push(!0),e.extend.apply(e,c),b._},g={build:function(a,b,c){return new k.dialog.textInput(a,b,c)}},i={build:function(a,b,c){return new k.dialog[b.type](a,b,c)}},j={build:function(b,c,d){var e=c.children,f,g=[],h=[];for(var i=0;i<e.length&&(f=e[i]);i++){var j=[];g.push(j),h.push(a.dialog._.uiElementBuilders[f.type].build(b,f,j))}return new k.dialog[c.type](b,h,g,d,c)}},l={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(a){this.setValue(this.getInitValue(),a)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},m=e.extend({},k.dialog.uiElement.prototype.eventProcessors,{onChange:function(a,b){this._.domOnChangeRegistered||(a.on("load",function(){this.getInputElement().on("change",function(){if(!a.parts.dialog.isVisible())return;this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",b)}},!0),n=/^on([A-Z]\w+)/,o=function(a){for(var b in a)(n.test(b)||b=="title"||b=="type")&&delete a[b];return a};e.extend(k.dialog,{labeledElement:function(b,c,d,g){if(arguments.length<4)return;var h=f.call(this,c);h.labelId=e.getNextId()+"_label";var i=this._.children=[],j=function(){var d=[],f=c.required?" cke_required":"";if(c.labelLayout!="horizontal")d.push('<label class="cke_dialog_ui_labeled_label'+f+'" ',' id="'+h.labelId+'"',' for="'+h.inputId+'"',(c.labelStyle?' style="'+c.labelStyle+'"':"")+">",c.label,"</label>",'<div class="cke_dialog_ui_labeled_content"'+(c.controlStyle?' style="'+c.controlStyle+'"':"")+' role="presentation">',g.call(this,b,c),"</div>");else{var i={type:"hbox",widths:c.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+f+'"'+' id="'+h.labelId+'"'+' for="'+h.inputId+'"'+(c.labelStyle?' style="'+c.labelStyle+'"':"")+">"+e.htmlEncode(c.label)+"</span>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(c.controlStyle?' style="'+c.controlStyle+'"':"")+">"+g.call(this,b,c)+"</span>"}]};a.dialog._.uiElementBuilders.hbox.build(b,i,d)}return d.join("")};k.dialog.uiElement.call(this,b,c,d,"div",null,{role:"presentation"},j)},textInput:function(a,b,c){if(arguments.length<3)return;f.call(this,b);var d=this._.inputId=e.getNextId()+"_textInput",g={"class":"cke_dialog_ui_input_"+b.type,id:d,type:"text"},h;b.validate&&(this.validate=b.validate),b.maxLength&&(g.maxlength=b.maxLength),b.size&&(g.size=b.size),b.inputStyle&&(g.style=b.inputStyle);var i=this,j=!1;a.on("load",function(){i.getInputElement().on("keydown",function(a){a.data.getKeystroke()==13&&(j=!0)}),i.getInputElement().on("keyup",function(b){b.data.getKeystroke()==13&&j&&(a.getButton("ok")&&setTimeout(function(){a.getButton("ok").click()},0),j=!1)},null,null,1e3)});var l=function(){var a=['<div class="cke_dialog_ui_input_',b.type,'" role="presentation"'];b.width&&a.push('style="width:'+b.width+'" '),a.push("><input "),g["aria-labelledby"]=this._.labelId,this._.required&&(g["aria-required"]=this._.required);for(var c in g)a.push(c+'="'+g[c]+'" ');return a.push(" /></div>"),a.join("")};k.dialog.labeledElement.call(this,a,b,c,l)},textarea:function(a,b,c){if(arguments.length<3)return;f.call(this,b);var d=this,g=this._.inputId=e.getNextId()+"_textarea",h={};b.validate&&(this.validate=b.validate),h.rows=b.rows||5,h.cols=b.cols||20,typeof b.inputStyle!="undefined"&&(h.style=b.inputStyle);var i=function(){h["aria-labelledby"]=this._.labelId,this._.required&&(h["aria-required"]=this._.required);var a=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',g,'" '];for(var b in h)a.push(b+'="'+e.htmlEncode(h[b])+'" ');return a.push(">",e.htmlEncode(d._["default"]),"</textarea></div>"),a.join("")};k.dialog.labeledElement.call(this,a,b,c,i)},checkbox:function(a,b,c){if(arguments.length<3)return;var d=f.call(this,b,{"default":!!b["default"]});b.validate&&(this.validate=b.validate);var g=function(){var c=e.extend({},b,{id:b.id?b.id+"_checkbox":e.getNextId()+"_checkbox"},!0),f=[],g=e.getNextId()+"_label",h={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":g};return o(c),b["default"]&&(h.checked="checked"),typeof c.inputStyle!="undefined"&&(c.style=c.inputStyle),d.checkbox=new k.dialog.uiElement(a,c,f,"input",null,h),f.push(' <label id="',g,'" for="',h.id,'"'+(b.labelStyle?' style="'+b.labelStyle+'"':"")+">",e.htmlEncode(b.label),"</label>"),f.join("")};k.dialog.uiElement.call(this,a,b,c,"span",null,null,g)},radio:function(a,b,c){if(arguments.length<3)return;f.call(this,b),this._["default"]||(this._["default"]=this._.initValue=b.items[0][1]),b.validate&&(this.validate=b.valdiate);var d=[],g=this,h=function(){var c=[],f=[],h={"class":"cke_dialog_ui_radio_item","aria-labelledby":this._.labelId},i=b.id?b.id+"_radio":e.getNextId()+"_radio";for(var j=0;j<b.items.length;j++){var l=b.items[j],m=l[2]!==undefined?l[2]:l[0],n=l[1]!==undefined?l[1]:l[0],p=e.getNextId()+"_radio_input",q=p+"_label",r=e.extend({},b,{id:p,title:null,type:null},!0),s=e.extend({},r,{title:m},!0),w={type:"radio","class":"cke_dialog_ui_radio_input",name:i,value:n,"aria-labelledby":q},z=[];g._["default"]==n&&(w.checked="checked"),o(r),o(s),typeof r.inputStyle!="undefined"&&(r.style=r.inputStyle),d.push(new k.dialog.uiElement(a,r,z,"input",null,w)),z.push(" "),new k.dialog.uiElement(a,s,z,"label",null,{id:q,"for":w.id},l[0]),c.push(z.join(""))}return new k.dialog.hbox(a,d,c,f),f.join("")};k.dialog.labeledElement.call(this,a,b,c,h),this._.children=d},button:function(b,c,d){if(!arguments.length)return;typeof c=="function"&&(c=c(b.getParentEditor())),f.call(this,c,{disabled:c.disabled||!1}),a.event.implementOn(this);var g=this;b.on("load",function(a){var b=this.getElement();(function(){b.on("click",function(a){g.fire("click",{dialog:g.getDialog()}),a.data.preventDefault()}),b.on("keydown",function(a){a.data.getKeystroke()in{32:1}&&(g.click(),a.data.preventDefault())})})(),b.unselectable()},this);var h=e.extend({},c);delete h.style;var i=e.getNextId()+"_label";k.dialog.uiElement.call(this,b,h,d,"a",null,{style:c.style,href:"javascript:void(0)",title:c.label,hidefocus:"true","class":c["class"],role:"button","aria-labelledby":i},'<span id="'+i+'" class="cke_dialog_ui_button">'+e.htmlEncode(c.label)+"</span>")},select:function(a,b,c){if(arguments.length<3)return;var d=f.call(this,b);b.validate&&(this.validate=b.validate),d.inputId=e.getNextId()+"_select";var g=function(){var c=e.extend({},b,{id:b.id?b.id+"_select":e.getNextId()+"_select"},!0),f=[],g=[],h={id:d.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};b.size!=undefined&&(h.size=b.size),b.multiple!=undefined&&(h.multiple=b.multiple),o(c);for(var i=0,j;i<b.items.length&&(j=b.items[i]);i++)g.push('<option value="',e.htmlEncode(j[1]!==undefined?j[1]:j[0]).replace(/"/g,"&quot;"),'" /> ',e.htmlEncode(j[0]));return typeof c.inputStyle!="undefined"&&(c.style=c.inputStyle),d.select=new k.dialog.uiElement(a,c,f,"select",null,h,g.join("")),f.join("")};k.dialog.labeledElement.call(this,a,b,c,g)},file:function(c,d,g){if(arguments.length<3)return;d["default"]===undefined&&(d["default"]="");var h=e.extend(f.call(this,d),{definition:d,buttons:[]});d.validate&&(this.validate=d.validate);var i=function(){h.frameId=e.getNextId()+"_fileInput";var a=b.isCustomDomain(),c=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',h.frameId,'" title="',d.label,'" src="javascript:void('];return c.push(a?"(function(){document.open();document.domain='"+document.domain+"';"+"document.close();"+"})()":"0"),c.push(')"></iframe>'),c.join("")};c.on("load",function(){var b=a.document.getById(h.frameId),c=b.getParent();c.addClass("cke_dialog_ui_input_file")}),k.dialog.labeledElement.call(this,c,d,g,i)},fileButton:function(a,b,c){if(arguments.length<3)return;var d=f.call(this,b),g=this;b.validate&&(this.validate=b.validate);var h=e.extend({},b),i=h.onClick;h.className=(h.className?h.className+" ":"")+"cke_dialog_ui_button",h.onClick=function(c){var d=b["for"];if(!i||i.call(this,c)!==!1)a.getContentElement(d[0],d[1]).submit(),this.disable()},a.on("load",function(){a.getContentElement(b["for"][0],b["for"][1])._.buttons.push(g)}),k.dialog.button.call(this,a,h,c)},html:function(){var a=/^\s*<[\w:]+\s+([^>]*)?>/,b=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,c=/\/$/;return function(d,e,f){if(arguments.length<3)return;var g=[],h,i=e.html,j,l;i.charAt(0)!="<"&&(i="<span>"+i+"</span>");var m=e.focus;if(m){var n=this.focus;this.focus=function(){n.call(this),typeof m=="function"&&m.call(this),this.fire("focus")};if(e.isFocusable){var o=this.isFocusable;this.isFocusable=o}this.keyboardFocusable=!0}k.dialog.uiElement.call(this,d,e,g,"span",null,null,""),h=g.join(""),j=h.match(a),l=i.match(b)||["","",""],c.test(l[1])&&(l[1]=l[1].slice(0,-1),l[2]="/"+l[2]),f.push([l[1]," ",j[1]||"",l[2]].join(""))}}(),fieldset:function(a,b,c,d,e){var f=e.label,g=function(){var a=[];f&&a.push("<legend>"+f+"</legend>");for(var b=0;b<c.length;b++)a.push(c[b]);return a.join("")};this._={children:b},k.dialog.uiElement.call(this,a,e,d,"fieldset",null,null,g)}},!0),k.dialog.html.prototype=new k.dialog.uiElement,k.dialog.labeledElement.prototype=e.extend(new k.dialog.uiElement,{setLabel:function(b){var c=a.document.getById(this._.labelId);return c.getChildCount()<1?(new d.text(b,a.document)).appendTo(c):c.getChild(0).$.nodeValue=b,this},getLabel:function(){var b=a.document.getById(this._.labelId);return!b||b.getChildCount()<1?"":b.getChild(0).getText()},eventProcessors:m},!0),k.dialog.button.prototype=e.extend(new k.dialog.uiElement,{click:function(){var a=this;return a._.disabled?(a.getElement().$.blur(),!1):a.fire("click",{dialog:a._.dialog})},enable:function(){this._.disabled=!1;var a=this.getElement();a&&a.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:e.extend({},k.dialog.uiElement.prototype.eventProcessors,{onClick:function(a,b){this.on("click",b)}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),k.dialog.textInput.prototype=e.extend(new k.dialog.labeledElement,{getInputElement:function(){return a.document.getById(this._.inputId)},focus:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&b.$.focus()},0)},select:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&(b.$.focus(),b.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(a){return!a&&(a=""),k.dialog.uiElement.prototype.setValue.apply(this,arguments)},keyboardFocusable:!0},l,!0),k.dialog.textarea.prototype=new k.dialog.textInput,k.dialog.select.prototype=e.extend(new k.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(a,b,d){var e=new h("option",this.getDialog().getParentEditor().document),f=this.getInputElement().$;return e.$.text=a,e.$.value=b===undefined||b===null?a:b,d===undefined||d===null?c?f.add(e.$):f.add(e.$,null):f.add(e.$,d),this},remove:function(a){var b=this.getInputElement().$;return b.remove(a),this},clear:function(){var a=this.getInputElement().$;while(a.length>0)a.remove(0);return this},keyboardFocusable:!0},l,!0),k.dialog.checkbox.prototype=e.extend(new k.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(a,b){this.getInputElement().$.checked=a,!b&&this.fire("change",{value:a})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(a,b){return c?(a.on("load",function(){var a=this._.checkbox.getElement();a.on("propertychange",function(b){b=b.data.$,b.propertyName=="checked"&&this.fire("change",{value:a.$.checked})},this)},this),this.on("change",b),null):m.onChange.apply(this,arguments)}},keyboardFocusable:!0},l,!0),k.dialog.radio.prototype=e.extend(new k.dialog.uiElement,{setValue:function(a,b){var c=this._.children,d;for(var e=0;e<c.length&&(d=c[e]);e++)d.getElement().$.checked=d.getValue()==a;!b&&this.fire("change",{value:a})},getValue:function(){var a=this._.children;for(var b=0;b<a.length;b++)if(a[b].getElement().$.checked)return a[b].getValue();return null},accessKeyUp:function(){var a=this._.children,b;for(b=0;b<a.length;b++)if(a[b].getElement().$.checked){a[b].getElement().focus();return}a[0].getElement().focus()},eventProcessors:{onChange:function(a,b){return c?(a.on("load",function(){var a=this._.children,b=this;for(var c=0;c<a.length;c++){var d=a[c].getElement();d.on("propertychange",function(a){a=a.data.$,a.propertyName=="checked"&&this.$.checked&&b.fire("change",{value:this.getAttribute("value")})})}},this),this.on("change",b),null):m.onChange.apply(this,arguments)}},keyboardFocusable:!0},l,!0),k.dialog.file.prototype=e.extend(new k.dialog.labeledElement,l,{getInputElement:function(){var b=a.document.getById(this._.frameId).getFrameDocument();return b.$.forms.length>0?new h(b.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(a){var b=/^on([A-Z]\w+)/,c,d=function(a,b,c,d){a.on("formLoaded",function(){a.getInputElement().on(c,d,a)})};for(var e in a){if(!(c=e.match(b)))continue;this.eventProcessors[e]?this.eventProcessors[e].call(this,this._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e])}return this},reset:function(){function n(){g.$.open(),b.isCustomDomain()&&(g.$.domain=document.domain);var a="";h.size&&(a=h.size-(c?7:0)),g.$.write(['<html dir="'+l+'" lang="'+m+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+l+'" lang="'+m+'" action="',e.htmlEncode(h.action),'">','<input type="file" name="',e.htmlEncode(h.id||"cke_upload"),'" size="',e.htmlEncode(a>0?a:""),'" />',"</form>","</body></html>","<script>window.parent.CKEDITOR.tools.callFunction("+j+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+k+")}</script>"].join("")),g.$.close();for(var d=0;d<i.length;d++)i[d].enable()}var d=this._,f=a.document.getById(d.frameId),g=f.getFrameDocument(),h=d.definition,i=d.buttons,j=this.formLoadedNumber,k=this.formUnloadNumber,l=d.dialog._.editor.lang.dir,m=d.dialog._.editor.langCode;j||(j=this.formLoadedNumber=e.addFunction(function(){this.fire("formLoaded")},this),k=this.formUnloadNumber=e.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){e.removeFunction(j),e.removeFunction(k)})),b.gecko?setTimeout(n,500):n()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(a,b){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",b)}},keyboardFocusable:!0},!0),k.dialog.fileButton.prototype=new k.dialog.button,k.dialog.fieldset.prototype=e.clone(k.dialog.hbox.prototype),a.dialog.addUIElement("text",g),a.dialog.addUIElement("password",g),a.dialog.addUIElement("textarea",i),a.dialog.addUIElement("checkbox",i),a.dialog.addUIElement("radio",i),a.dialog.addUIElement("button",i),a.dialog.addUIElement("select",i),a.dialog.addUIElement("file",i),a.dialog.addUIElement("fileButton",i),a.dialog.addUIElement("html",i),a.dialog.addUIElement("fieldset",j)}(),j.add("panel",{beforeInit:function(a){a.ui.addHandler("panel",k.panel.handler)}}),a.UI_PANEL="panel",k.panel=function(a,b){var c=this;b&&e.extend(c,b),e.extend(c,{className:"",css:[]}),c.id=e.getNextId(),c.document=a,c._={blocks:{}}},k.panel.handler={create:function(a){return new k.panel(a)}},k.panel.prototype={renderHtml:function(a){var b=[];return this.render(a,b),b.join("")},render:function(a,c){var d=this,e=d.id;c.push('<div class="',a.skinClass,'" lang="',a.langCode,'" role="presentation" style="display:none;z-index:'+(a.config.baseFloatZIndex+1)+'">'+"<div"+" id=",e," dir=",a.lang.dir,' role="presentation" class="cke_panel cke_',a.lang.dir),d.className&&c.push(" ",d.className),c.push('">');if(d.forceIFrame||d.css.length)c.push('<iframe id="',e,'_frame" frameborder="0" role="application" src="javascript:void('),c.push(b.isCustomDomain()?"(function(){document.open();document.domain='"+document.domain+"';"+"document.close();"+"})()":"0"),c.push(')"></iframe>');return c.push("</div></div>"),e},getHolderElement:function(){var c=this._.holder;if(!c){if(this.forceIFrame||this.css.length){var d=this.document.getById(this.id+"_frame"),f=d.getParent(),g=f.getAttribute("dir"),h=f.getParent().getAttribute("class"),i=f.getParent().getAttribute("lang"),j=d.getFrameDocument();b.iOS&&f.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});var k=e.addFunction(e.bind(function(a){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),l='<!DOCTYPE html><html dir="'+g+'" class="'+h+'_container" lang="'+i+'">'+"<head>"+"<style>."+h+"_container{visibility:hidden}</style>"+"</head>"+'<body class="cke_'+g+" cke_panel_frame "+b.cssClass+'" style="margin:0;padding:0"'+' onload="( window.CKEDITOR || window.parent.CKEDITOR ).tools.callFunction('+k+');"></body>'+e.buildStyleHtml(this.css)+"</html>";j.write(l);var m=j.getWindow();m.$.CKEDITOR=a,j.on("key"+(b.opera?"press":"down"),function(a){var b=this,c=a.data.getKeystroke(),d=b.document.getById(b.id).getAttribute("dir");if(b._.onKeyDown&&b._.onKeyDown(c)===!1){a.data.preventDefault();return}(c==27||c==(d=="rtl"?39:37))&&b.onEscape&&b.onEscape(c)===!1&&a.data.preventDefault()},this),c=j.getBody(),c.unselectable(),b.air&&e.callFunction(k)}else c=this.document.getById(this.id);this._.holder=c}return c},addBlock:function(a,b){var c=this;return b=c._.blocks[a]=b instanceof k.panel.block?b:new k.panel.block(c.getHolderElement(),b),c._.currentBlock||c.showBlock(a),b},getBlock:function(a){return this._.blocks[a]},showBlock:function(b){var c=this,d=c._.blocks,f=d[b],g=c._.currentBlock,h=c.forceIFrame?c.document.getById(c.id+"_frame"):c._.holder;return h.getParent().getParent().disableContextMenu(),g&&(h.removeAttributes(g.attributes),g.hide()),c._.currentBlock=f,h.setAttributes(f.attributes),a.fire("ariaWidget",h),f._.focusIndex=-1,c._.onKeyDown=f.onKeyDown&&e.bind(f.onKeyDown,f),f.show(),f},destroy:function(){this.element&&this.element.remove()}},k.panel.block=e.createClass({$:function(a,b){var c=this;c.element=a.append(a.getDocument().createElement("div",{attributes:{tabIndex:-1,"class":"cke_panel_block",role:"presentation"},styles:{display:"none"}})),b&&e.extend(c,b),c.attributes.title||(c.attributes.title=c.attributes["aria-label"]),c.keys={},c._.focusIndex=-1,c.element.disableContextMenu()},_:{markItem:function(a){var c=this;if(a==-1)return;var d=c.element.getElementsByTag("a"),e=d.getItem(c._.focusIndex=a);(b.webkit||b.opera)&&e.getDocument().getWindow().focus(),e.focus(),c.onMark&&c.onMark(e)}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){var a=this;(!a.onHide||a.onHide.call(a)!==!0)&&a.element.setStyle("display","none")},onKeyDown:function(a){var b=this,c=b.keys[a];switch(c){case"next":var d=b._.focusIndex,e=b.element.getElementsByTag("a"),f;while(f=e.getItem(++d))if(f.getAttribute("_cke_focus")&&f.$.offsetWidth){b._.focusIndex=d,f.focus();break}return!1;case"prev":d=b._.focusIndex,e=b.element.getElementsByTag("a");while(d>0&&(f=e.getItem(--d)))if(f.getAttribute("_cke_focus")&&f.$.offsetWidth){b._.focusIndex=d,f.focus();break}return!1;case"click":case"mouseup":return d=b._.focusIndex,f=d>=0&&b.element.getElementsByTag("a").getItem(d),f&&(f.$[c]?f.$[c]():f.$["on"+c]()),!1}return!0}}}),j.add("listblock",{requires:["panel"],onLoad:function(){k.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new k.listBlock(this.getHolderElement(),b))},k.listBlock=e.createClass({base:k.panel.block,$:function(a,b){var d=this;b=b||{};var e=b.attributes||(b.attributes={});(d.multiSelect=!!b.multiSelect)&&(e["aria-multiselectable"]=!0),!e.role&&(e.role="listbox"),d.base.apply(d,arguments);var f=d.keys;f[40]="next",f[9]="next",f[38]="prev",f[2228233]="prev",f[32]=c?"mouseup":"click",c&&(f[13]="mouseup"),d._.pendingHtml=[],d._.items={},d._.groups={}},_:{close:function(){this._.started&&(this._.pendingHtml.push("</ul>"),delete this._.started)},getClick:function(){return this._.click||(this._.click=e.addFunction(function(a){var b=this,c=!0;b.multiSelect?c=b.toggle(a):b.mark(a),b.onClick&&b.onClick(a,c)},this)),this._.click}},proto:{add:function(a,b,d){var f=this,g=f._.pendingHtml,h=e.getNextId();f._.started||(g.push('<ul role="presentation" class=cke_panel_list>'),f._.started=1,f._.size=f._.size||0),f._.items[a]=h,g.push("<li id=",h,' class=cke_panel_listItem role=presentation><a id="',h,'_option" _cke_focus=1 hidefocus=true title="',d||a,'" href="javascript:void(\'',a,"')\" "+(c?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction(',f._.getClick(),",'",a,"'); return false;\"",' role="option" aria-posinset="'+ ++f._.size+'">',b||a,"</a></li>")},startGroup:function(a){this._.close();var b=e.getNextId();this._.groups[a]=b,this._.pendingHtml.push('<h1 role="presentation" id=',b," class=cke_panel_grouptitle>",a,"</h1>")},commit:function(){var a=this;a._.close(),a.element.appendHtml(a._.pendingHtml.join(""));var b=a._.items,c=a.element.getDocument();for(var d in b)c.getById(b[d]+"_option").setAttribute("aria-setsize",a._.size);delete a._.size,a._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);return b?this.unmark(a):this.mark(a),!b},hideGroup:function(a){var b=this.element.getDocument().getById(this._.groups[a]),c=b&&b.getNext();b&&(b.setStyle("display","none"),c&&c.getName()=="ul"&&c.setStyle("display","none"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle("display","none")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument();for(var d in a)c.getById(a[d]).setStyle("display","");for(var e in b){var f=c.getById(b[e]),g=f.getNext();f.setStyle("display",""),g&&g.getName()=="ul"&&g.setStyle("display","")}},mark:function(a){var b=this;b.multiSelect||b.unmarkAll();var c=b._.items[a],d=b.element.getDocument().getById(c);d.addClass("cke_selected"),b.element.getDocument().getById(c+"_option").setAttribute("aria-selected",!0),b.onMark&&b.onMark(d)},unmark:function(a){var b=this,c=b.element.getDocument(),d=b._.items[a],e=c.getById(d);e.removeClass("cke_selected"),c.getById(d+"_option").removeAttribute("aria-selected"),b.onUnmark&&b.onUnmark(e)},unmarkAll:function(){var a=this,b=a._.items,c=a.element.getDocument();for(var d in b){var e=b[d];c.getById(e).removeClass("cke_selected"),c.getById(e+"_option").removeAttribute("aria-selected")}a.onUnmark&&a.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass("cke_selected")},focus:function(a){this._.focusIndex=-1;if(a){var b=this.element.getDocument().getById(this._.items[a]).getFirst(),c=this.element.getElementsByTag("a"),d,e=-1;while(d=c.getItem(++e))if(d.equals(b)){this._.focusIndex=e;break}setTimeout(function(){b.focus()},0)}}}})}}),a.themes.add("default",function(){function f(c,d){var e,f;f=c.config.sharedSpaces,f=f&&f[d],f=f&&a.document.getById(f);if(f){var g='<span class="cke_shared " dir="'+c.lang.dir+'"'+">"+'<span class="'+c.skinClass+" "+c.id+" cke_editor_"+c.name+'">'+'<span class="'+b.cssClass+'">'+'<span class="cke_wrapper cke_'+c.lang.dir+'">'+'<span class="cke_editor">'+'<div class="cke_'+d+'">'+"</div></span></span></span></span></span>",i=f.append(h.createFromHtml(g,f.getDocument()));f.getCustomData("cke_hasshared")?i.hide():f.setCustomData("cke_hasshared",1),e=i.getChild([0,0,0,0]),!c.sharedSpaces&&(c.sharedSpaces={}),c.sharedSpaces[d]=e,c.on("focus",function(){for(var a=0,b,c=f.getChildren();b=c.getItem(a);a++)b.type==1&&!b.equals(i)&&b.hasClass("cke_shared")&&b.hide();i.show()}),c.on("destroy",function(){i.remove()})}return e}var d={};return{build:function(a,c){var e=a.name,g=a.element,i=a.elementMode;if(!g||i==0)return;i==1&&g.hide();var j=a.fire("themeSpace",{space:"top",html:""}).html,k=a.fire("themeSpace",{space:"contents",html:""}).html,l=a.fireOnce("themeSpace",{space:"bottom",html:""}).html,o=k&&a.config.height,p=a.config.tabIndex||a.element.getAttribute("tabindex")||0;k?isNaN(o)||(o+="px"):o="auto";var q="",r=a.config.width;r&&(isNaN(r)||(r+="px"),q+="width: "+r+";");var s=j&&f(a,"top"),t=f(a,"bottom");s&&(s.setHtml(j),j=""),t&&(t.setHtml(l),l="");var u="<style>."+a.skinClass+"{visibility:hidden;}</style>";d[a.skinClass]?u="":d[a.skinClass]=1;var v=h.createFromHtml(['<span id="cke_',e,'" class="',a.skinClass," ",a.id," cke_editor_",e,'" dir="',a.lang.dir,'" title="',b.gecko?" ":"",'" lang="',a.langCode,'"'+(b.webkit?' tabindex="'+
p+'"':"")+' role="application"'+' aria-labelledby="cke_',e,'_arialbl"'+(q?' style="'+q+'"':"")+">"+'<span id="cke_',e,'_arialbl" class="cke_voice_label">'+a.lang.editor+"</span>"+'<span class="',b.cssClass,'" role="presentation"><span class="cke_wrapper cke_',a.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',j?"":' style="display:none"',' role="presentation"><td id="cke_top_',e,'" class="cke_top" role="presentation">',j,"</td></tr><tr",k?"":' style="display:none"',' role="presentation"><td id="cke_contents_',e,'" class="cke_contents" style="height:',o,'" role="presentation">',k,"</td></tr><tr",l?"":' style="display:none"',' role="presentation"><td id="cke_bottom_',e,'" class="cke_bottom" role="presentation">',l,"</td></tr></tbody></table>"+u+"</span>"+"</span>"+"</span>"].join(""));v.getChild([1,0,0,0,0]).unselectable(),v.getChild([1,0,0,0,2]).unselectable(),i==1?v.insertAfter(g):g.append(v),a.container=v,v.disableContextMenu(),a.on("contentDirChanged",function(b){var c=(a.lang.dir!=b.data?"add":"remove")+"Class";v.getChild(1)[c]("cke_mixed_dir_content");var d=this.sharedSpaces&&this.sharedSpaces[this.config.toolbarLocation];d&&d.getParent().getParent()[c]("cke_mixed_dir_content")}),a.fireOnce("themeLoaded"),a.fireOnce("uiReady")},buildDialog:function(a){var d=e.getNextNumber(),f=h.createFromHtml(['<div class="',a.id,"_dialog cke_editor_",a.name.replace(".","\\."),"_dialog cke_skin_",a.skinName,'" dir="',a.lang.dir,'" lang="',a.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog'," "+b.cssClass," cke_",a.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+a.lang.common.close+'" role="button"><span class="cke_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+"<tr>"+'<td id="%contents#" class="%contents" role="presentation"></td>'+"</tr>"+"<tr>"+'<td id="%footer#" class="%footer" role="presentation"></td>'+"</tr>"+"</table>"+"</div>"+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+"</td></tr>"+"</table>",c?"":"<style>.cke_dialog{visibility:hidden;}</style>","</div>"].join("").replace(/#/g,"_"+d).replace(/%/g,"cke_dialog_")),g=f.getChild([0,0,0,0,0]),i=g.getChild(0),j=g.getChild(1);if(c&&!b.ie6Compat){var k=b.isCustomDomain(),l="javascript:void(function(){"+encodeURIComponent("document.open();"+(k?'document.domain="'+document.domain+'";':"")+"document.close();")+"}())",m=h.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+l+'"'+' tabIndex="-1"'+"></iframe>");m.appendTo(g.getParent())}return i.unselectable(),j.unselectable(),{element:f,parts:{dialog:f.getChild(0),title:i,close:j,tabs:g.getChild(2),contents:g.getChild([3,0,0,0]),footer:g.getChild([3,0,1,0])}}},destroy:function(a){var b=a.container,c=a.element;b&&(b.clearCustomData(),b.remove()),c&&(c.clearCustomData(),a.elementMode==1&&c.show(),delete a.element)}}}()),a.editor.prototype.getThemeSpace=function(b){var c="cke_"+b,d=this._[c]||(this._[c]=a.document.getById(c+"_"+this.name));return d},a.editor.prototype.resize=function(c,d,e,f){var g=this,h=g.container,i=a.document.getById("cke_contents_"+g.name),j=b.webkit&&g.document&&g.document.getWindow().$.frameElement,k=f?h.getChild(1):h;k.setSize("width",c,!0),j&&(j.style.width="1%");var l=e?0:(k.$.offsetHeight||0)-(i.$.clientHeight||0);i.setStyle("height",Math.max(d-l,0)+"px"),j&&(j.style.width="100%"),g.fire("resize")},a.editor.prototype.getResizable=function(b){return b?a.document.getById("cke_contents_"+this.name):this.container}}();